(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{4442:(Bi,xn,pe)=>{"use strict";pe.d(xn,{L:()=>k,a:()=>Nt,b:()=>Be,c:()=>je,d:()=>Zt,g:()=>pn}),pe(5531);const k="ionViewWillEnter",Nt="ionViewDidEnter",Be="ionViewWillLeave",je="ionViewDidLeave",Zt="ionViewWillUnload",pn=pt=>pt.classList.contains("ion-page")?pt:pt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||pt},5531:(Bi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>sn,c:()=>p,g:()=>Zt});class b{constructor(){this.m=new Map}reset(pt){this.m=new Map(Object.entries(pt))}get(pt,_e){const xe=this.m.get(pt);return void 0!==xe?xe:_e}getBoolean(pt,_e=!1){const xe=this.m.get(pt);return void 0===xe?_e:"string"==typeof xe?"true"===xe:!!xe}getNumber(pt,_e){const xe=parseFloat(this.m.get(pt));return isNaN(xe)?void 0!==_e?_e:NaN:xe}set(pt,_e){this.m.set(pt,_e)}}const p=new b,Zt=pn=>vt(pn),sn=(pn,pt)=>("string"==typeof pn&&(pt=pn,pn=void 0),Zt(pn).includes(pt)),vt=(pn=window)=>{if(typeof pn>"u")return[];pn.Ionic=pn.Ionic||{};let pt=pn.Ionic.platforms;return null==pt&&(pt=pn.Ionic.platforms=Ct(pn),pt.forEach(_e=>pn.document.documentElement.classList.add(`plt-${_e}`))),pt},Ct=pn=>{const pt=p.get("platform");return Object.keys(Wn).filter(_e=>{const xe=null==pt?void 0:pt[_e];return"function"==typeof xe?xe(pn):Wn[_e](pn)})},ut=pn=>!!(Dt(pn,/iPad/i)||Dt(pn,/Macintosh/i)&&Xt(pn)),zt=pn=>Dt(pn,/android|sink/i),Xt=pn=>nn(pn,"(any-pointer:coarse)"),Ut=pn=>tn(pn)||an(pn),tn=pn=>!!(pn.cordova||pn.phonegap||pn.PhoneGap),an=pn=>{const pt=pn.Capacitor;return!(null==pt||!pt.isNative)},Dt=(pn,pt)=>pt.test(pn.navigator.userAgent),nn=(pn,pt)=>{var _e;return null===(_e=pn.matchMedia)||void 0===_e?void 0:_e.call(pn,pt).matches},Wn={ipad:ut,iphone:pn=>Dt(pn,/iPhone/i),ios:pn=>Dt(pn,/iPhone|iPod/i)||ut(pn),android:zt,phablet:pn=>{const pt=pn.innerWidth,_e=pn.innerHeight,xe=Math.min(pt,_e),Ee=Math.max(pt,_e);return xe>390&&xe<520&&Ee>620&&Ee<800},tablet:pn=>{const pt=pn.innerWidth,_e=pn.innerHeight,xe=Math.min(pt,_e),Ee=Math.max(pt,_e);return ut(pn)||(pn=>zt(pn)&&!Dt(pn,/mobile/i))(pn)||xe>460&&xe<820&&Ee>780&&Ee<1400},cordova:tn,capacitor:an,electron:pn=>Dt(pn,/electron/i),pwa:pn=>{var pt;return!!(null!==(pt=pn.matchMedia)&&void 0!==pt&&pt.call(pn,"(display-mode: standalone)").matches||pn.navigator.standalone)},mobile:Xt,mobileweb:pn=>Xt(pn)&&!Ut(pn),desktop:pn=>!Xt(pn),hybrid:Ut}},9986:(Bi,xn,pe)=>{"use strict";pe.d(xn,{c:()=>Nt});var b=pe(8476);let p;const St=(Be,je,Zt)=>{const sn=je.startsWith("animation")?(Be=>(void 0===p&&(p=void 0===Be.style.animationName&&void 0!==Be.style.webkitAnimationName?"-webkit-":""),p))(Be):"";Be.style.setProperty(sn+je,Zt)},k=(Be=[],je)=>{if(void 0!==je){const Zt=Array.isArray(je)?je:[je];return[...Be,...Zt]}return Be},Nt=Be=>{let je,Zt,sn,vt,Ct,Rt,jt,gt,qe,Dt,Cn,ut=[],Lt=[],dn=[],zt=!1,vn={},Kt=[],Xt=[],nt={},Ut=0,tn=!1,an=!1,nn=!0,Wn=!1,si=!0,Zn=!1;const pn=Be,pt=[],_e=[],xe=[],Ee=[],lt=[],It=[],Jt=[],wt=[],Kn=[],ir=[],hi=[],Qi="function"==typeof AnimationEffect||void 0!==b.w&&"function"==typeof b.w.AnimationEffect,Gi="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Qi,ar=()=>hi,di=(le,se)=>{const De=se.findIndex(ee=>ee.c===le);De>-1&&se.splice(De,1)},fn=(le,se)=>((null!=se&&se.oneTimeCallback?_e:pt).push({c:le,o:se}),Cn),ai=()=>{Gi&&(hi.forEach(le=>{le.cancel()}),hi.length=0)},sr=()=>{It.forEach(le=>{null!=le&&le.parentNode&&le.parentNode.removeChild(le)}),It.length=0},yr=()=>void 0!==Ct?Ct:jt?jt.getFill():"both",hr=()=>void 0!==gt?gt:void 0!==Rt?Rt:jt?jt.getDirection():"normal",Fs=()=>tn?"linear":void 0!==sn?sn:jt?jt.getEasing():"linear",rt=()=>an?0:void 0!==qe?qe:void 0!==Zt?Zt:jt?jt.getDuration():0,g=()=>void 0!==vt?vt:jt?jt.getIterations():1,$t=()=>void 0!==Dt?Dt:void 0!==je?je:jt?jt.getDelay():0,G=()=>{0!==Ut&&(Ut--,0===Ut&&((()=>{Kn.forEach(Ve=>Ve()),ir.forEach(Ve=>Ve());const le=nn?1:0,se=Kt,De=Xt,ee=nt;Ee.forEach(Ve=>{const Je=Ve.classList;se.forEach(rn=>Je.add(rn)),De.forEach(rn=>Je.remove(rn));for(const rn in ee)ee.hasOwnProperty(rn)&&St(Ve,rn,ee[rn])}),qe=void 0,gt=void 0,Dt=void 0,pt.forEach(Ve=>Ve.c(le,Cn)),_e.forEach(Ve=>Ve.c(le,Cn)),_e.length=0,si=!0,nn&&(Wn=!0),nn=!0})(),jt&&jt.animationFinish()))},me=()=>{(()=>{Jt.forEach(ee=>ee()),wt.forEach(ee=>ee());const le=Lt,se=dn,De=vn;Ee.forEach(ee=>{const Ve=ee.classList;le.forEach(Je=>Ve.add(Je)),se.forEach(Je=>Ve.remove(Je));for(const Je in De)De.hasOwnProperty(Je)&&St(ee,Je,De[Je])})})(),ut.length>0&&Gi&&(Ee.forEach(le=>{const se=le.animate(ut,{id:pn,delay:$t(),duration:rt(),easing:Fs(),iterations:g(),fill:yr(),direction:hr()});se.pause(),hi.push(se)}),hi.length>0&&(hi[0].onfinish=()=>{G()})),zt=!0},ve=le=>{le=Math.min(Math.max(le,0),.9999),Gi&&hi.forEach(se=>{se.currentTime=se.effect.getComputedTiming().delay+rt()*le,se.pause()})},ft=le=>{hi.forEach(se=>{se.effect.updateTiming({delay:$t(),duration:rt(),easing:Fs(),iterations:g(),fill:yr(),direction:hr()})}),void 0!==le&&ve(le)},bt=(le=!1,se=!0,De)=>(le&&lt.forEach(ee=>{ee.update(le,se,De)}),Gi&&ft(De),Cn),_n=()=>{zt&&(Gi?hi.forEach(le=>{le.pause()}):Ee.forEach(le=>{St(le,"animation-play-state","paused")}),Zn=!0)},un=le=>new Promise(se=>{null!=le&&le.sync&&(an=!0,fn(()=>an=!1,{oneTimeCallback:!0})),zt||me(),Wn&&(Gi&&(ve(0),ft()),Wn=!1),si&&(Ut=lt.length+1,si=!1);const De=()=>{di(ee,_e),se()},ee=()=>{di(De,xe),se()};fn(ee,{oneTimeCallback:!0}),((le,se)=>{xe.push({c:le,o:{oneTimeCallback:!0}})})(De),lt.forEach(Ve=>{Ve.play()}),Gi?(hi.forEach(le=>{le.play()}),(0===ut.length||0===Ee.length)&&G()):G(),Zn=!1}),Vt=(le,se)=>{const De=ut[0];return void 0===De||void 0!==De.offset&&0!==De.offset?ut=[{offset:0,[le]:se},...ut]:De[le]=se,Cn};return Cn={parentAnimation:jt,elements:Ee,childAnimations:lt,id:pn,animationFinish:G,from:Vt,to:(le,se)=>{const De=ut[ut.length-1];return void 0===De||void 0!==De.offset&&1!==De.offset?ut=[...ut,{offset:1,[le]:se}]:De[le]=se,Cn},fromTo:(le,se,De)=>Vt(le,se).to(le,De),parent:le=>(jt=le,Cn),play:un,pause:()=>(lt.forEach(le=>{le.pause()}),_n(),Cn),stop:()=>{lt.forEach(le=>{le.stop()}),zt&&(ai(),zt=!1),tn=!1,an=!1,si=!0,gt=void 0,qe=void 0,Dt=void 0,Ut=0,Wn=!1,nn=!0,Zn=!1,xe.forEach(le=>le.c(0,Cn)),xe.length=0},destroy:le=>(lt.forEach(se=>{se.destroy(le)}),(le=>{ai(),le&&sr()})(le),Ee.length=0,lt.length=0,ut.length=0,pt.length=0,_e.length=0,zt=!1,si=!0,Cn),keyframes:le=>{const se=ut!==le;return ut=le,se&&(le=>{Gi&&ar().forEach(se=>{const De=se.effect;if(De.setKeyframes)De.setKeyframes(le);else{const ee=new KeyframeEffect(De.target,le,De.getTiming());se.effect=ee}})})(ut),Cn},addAnimation:le=>{if(null!=le)if(Array.isArray(le))for(const se of le)se.parent(Cn),lt.push(se);else le.parent(Cn),lt.push(le);return Cn},addElement:le=>{if(null!=le)if(1===le.nodeType)Ee.push(le);else if(le.length>=0)for(let se=0;se<le.length;se++)Ee.push(le[se]);else console.error("Invalid addElement value");return Cn},update:bt,fill:le=>(Ct=le,bt(!0),Cn),direction:le=>(Rt=le,bt(!0),Cn),iterations:le=>(vt=le,bt(!0),Cn),duration:le=>(!Gi&&0===le&&(le=1),Zt=le,bt(!0),Cn),easing:le=>(sn=le,bt(!0),Cn),delay:le=>(je=le,bt(!0),Cn),getWebAnimations:ar,getKeyframes:()=>ut,getFill:yr,getDirection:hr,getDelay:$t,getIterations:g,getEasing:Fs,getDuration:rt,afterAddRead:le=>(Kn.push(le),Cn),afterAddWrite:le=>(ir.push(le),Cn),afterClearStyles:(le=[])=>{for(const se of le)nt[se]="";return Cn},afterStyles:(le={})=>(nt=le,Cn),afterRemoveClass:le=>(Xt=k(Xt,le),Cn),afterAddClass:le=>(Kt=k(Kt,le),Cn),beforeAddRead:le=>(Jt.push(le),Cn),beforeAddWrite:le=>(wt.push(le),Cn),beforeClearStyles:(le=[])=>{for(const se of le)vn[se]="";return Cn},beforeStyles:(le={})=>(vn=le,Cn),beforeRemoveClass:le=>(dn=k(dn,le),Cn),beforeAddClass:le=>(Lt=k(Lt,le),Cn),onFinish:fn,isRunning:()=>0!==Ut&&!Zn,progressStart:(le=!1,se)=>(lt.forEach(De=>{De.progressStart(le,se)}),_n(),tn=le,zt||me(),bt(!1,!0,se),Cn),progressStep:le=>(lt.forEach(se=>{se.progressStep(le)}),ve(le),Cn),progressEnd:(le,se,De)=>(tn=!1,lt.forEach(ee=>{ee.progressEnd(le,se,De)}),void 0!==De&&(qe=De),Wn=!1,nn=!0,0===le?(gt="reverse"===hr()?"normal":"reverse","reverse"===gt&&(nn=!1),Gi?(bt(),ve(1-se)):(Dt=(1-se)*rt()*-1,bt(!1,!1))):1===le&&(Gi?(bt(),ve(se)):(Dt=se*rt()*-1,bt(!1,!1))),void 0!==le&&!jt&&un(),Cn)}}},464:(Bi,xn,pe)=>{"use strict";pe.d(xn,{E:()=>sn,a:()=>b,s:()=>je});const b=vt=>{try{if(vt instanceof Be)return vt.value;if(!St()||"string"!=typeof vt||""===vt)return vt;if(vt.includes("onload="))return"";const Ct=document.createDocumentFragment(),Rt=document.createElement("div");Ct.appendChild(Rt),Rt.innerHTML=vt,Nt.forEach(zt=>{const jt=Ct.querySelectorAll(zt);for(let vn=jt.length-1;vn>=0;vn--){const Kt=jt[vn];Kt.parentNode?Kt.parentNode.removeChild(Kt):Ct.removeChild(Kt);const Xt=Ue(Kt);for(let nt=0;nt<Xt.length;nt++)p(Xt[nt])}});const ut=Ue(Ct);for(let zt=0;zt<ut.length;zt++)p(ut[zt]);const Lt=document.createElement("div");Lt.appendChild(Ct);const dn=Lt.querySelector("div");return null!==dn?dn.innerHTML:Lt.innerHTML}catch(Ct){return console.error(Ct),""}},p=vt=>{if(vt.nodeType&&1!==vt.nodeType)return;if(typeof NamedNodeMap<"u"&&!(vt.attributes instanceof NamedNodeMap))return void vt.remove();for(let Rt=vt.attributes.length-1;Rt>=0;Rt--){const ut=vt.attributes.item(Rt),Lt=ut.name;if(!k.includes(Lt.toLowerCase())){vt.removeAttribute(Lt);continue}const dn=ut.value,zt=vt[Lt];(null!=dn&&dn.toLowerCase().includes("javascript:")||null!=zt&&zt.toLowerCase().includes("javascript:"))&&vt.removeAttribute(Lt)}const Ct=Ue(vt);for(let Rt=0;Rt<Ct.length;Rt++)p(Ct[Rt])},Ue=vt=>null!=vt.children?vt.children:vt.childNodes,St=()=>{var vt;const Ct=window,Rt=null===(vt=null==Ct?void 0:Ct.Ionic)||void 0===vt?void 0:vt.config;return!Rt||(Rt.get?Rt.get("sanitizerEnabled",!0):!0===Rt.sanitizerEnabled||void 0===Rt.sanitizerEnabled)},k=["class","id","href","src","name","slot"],Nt=["script","style","iframe","meta","link","object","embed"];class Be{constructor(Ct){this.value=Ct}}const je=vt=>{const Ct=window,Rt=Ct.Ionic;if(!Rt||!Rt.config||"Object"===Rt.config.constructor.name)return Ct.Ionic=Ct.Ionic||{},Ct.Ionic.config=Object.assign(Object.assign({},Ct.Ionic.config),vt),Ct.Ionic.config},sn=!1},8621:(Bi,xn,pe)=>{"use strict";pe.d(xn,{C:()=>k,a:()=>Ue,d:()=>St});var b=pe(467),p=pe(4920);const Ue=function(){var Nt=(0,b.A)(function*(Be,je,Zt,sn,vt,Ct){var Rt;if(Be)return Be.attachViewToDom(je,Zt,vt,sn);if(!(Ct||"string"==typeof Zt||Zt instanceof HTMLElement))throw new Error("framework delegate is missing");const ut="string"==typeof Zt?null===(Rt=je.ownerDocument)||void 0===Rt?void 0:Rt.createElement(Zt):Zt;return sn&&sn.forEach(Lt=>ut.classList.add(Lt)),vt&&Object.assign(ut,vt),je.appendChild(ut),yield new Promise(Lt=>(0,p.c)(ut,Lt)),ut});return function(je,Zt,sn,vt,Ct,Rt){return Nt.apply(this,arguments)}}(),St=(Nt,Be)=>{if(Be){if(Nt)return Nt.removeViewFromDom(Be.parentElement,Be);Be.remove()}return Promise.resolve()},k=()=>{let Nt,Be;return{attachViewToDom:function(){var sn=(0,b.A)(function*(vt,Ct,Rt={},ut=[]){var Lt,dn;let zt;if(Nt=vt,Ct){const vn="string"==typeof Ct?null===(Lt=Nt.ownerDocument)||void 0===Lt?void 0:Lt.createElement(Ct):Ct;ut.forEach(Kt=>vn.classList.add(Kt)),Object.assign(vn,Rt),Nt.appendChild(vn),zt=vn,yield new Promise(Kt=>(0,p.c)(vn,Kt))}else if(Nt.children.length>0&&("ION-MODAL"===Nt.tagName||"ION-POPOVER"===Nt.tagName)&&!(zt=Nt.children[0]).classList.contains("ion-delegate-host")){const Kt=null===(dn=Nt.ownerDocument)||void 0===dn?void 0:dn.createElement("div");Kt.classList.add("ion-delegate-host"),ut.forEach(Xt=>Kt.classList.add(Xt)),Kt.append(...Nt.children),Nt.appendChild(Kt),zt=Kt}const jt=document.querySelector("ion-app")||document.body;return Be=document.createComment("ionic teleport"),Nt.parentNode.insertBefore(Be,Nt),jt.appendChild(Nt),null!=zt?zt:Nt});return function(Ct,Rt){return sn.apply(this,arguments)}}(),removeViewFromDom:()=>(Nt&&Be&&(Be.parentNode.insertBefore(Nt,Be),Be.remove()),Promise.resolve())}}},1970:(Bi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>St,G:()=>k});class p{constructor(Be,je,Zt,sn,vt){this.id=je,this.name=Zt,this.disableScroll=vt,this.priority=1e6*sn+je,this.ctrl=Be}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Be=this.ctrl.capture(this.name,this.id,this.priority);return Be&&this.disableScroll&&this.ctrl.disableScroll(this.id),Be}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Ue{constructor(Be,je,Zt,sn){this.id=je,this.disable=Zt,this.disableScroll=sn,this.ctrl=Be}block(){if(this.ctrl){if(this.disable)for(const Be of this.disable)this.ctrl.disableGesture(Be,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Be of this.disable)this.ctrl.enableGesture(Be,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const St="backdrop-no-scroll",k=new class b{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Be){var je;return new p(this,this.newID(),Be.name,null!==(je=Be.priority)&&void 0!==je?je:0,!!Be.disableScroll)}createBlocker(Be={}){return new Ue(this,this.newID(),Be.disable,!!Be.disableScroll)}start(Be,je,Zt){return this.canStart(Be)?(this.requestedStart.set(je,Zt),!0):(this.requestedStart.delete(je),!1)}capture(Be,je,Zt){if(!this.start(Be,je,Zt))return!1;const sn=this.requestedStart;let vt=-1e4;if(sn.forEach(Ct=>{vt=Math.max(vt,Ct)}),vt===Zt){this.capturedId=je,sn.clear();const Ct=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Be}});return document.dispatchEvent(Ct),!0}return sn.delete(je),!1}release(Be){this.requestedStart.delete(Be),this.capturedId===Be&&(this.capturedId=void 0)}disableGesture(Be,je){let Zt=this.disabledGestures.get(Be);void 0===Zt&&(Zt=new Set,this.disabledGestures.set(Be,Zt)),Zt.add(je)}enableGesture(Be,je){const Zt=this.disabledGestures.get(Be);void 0!==Zt&&Zt.delete(je)}disableScroll(Be){this.disabledScroll.add(Be),1===this.disabledScroll.size&&document.body.classList.add(St)}enableScroll(Be){this.disabledScroll.delete(Be),0===this.disabledScroll.size&&document.body.classList.remove(St)}canStart(Be){return!(void 0!==this.capturedId||this.isDisabled(Be))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Be){const je=this.disabledGestures.get(Be);return!!(je&&je.size>0)}newID(){return this.gestureId++,this.gestureId}}},6411:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{MENU_BACK_BUTTON_PRIORITY:()=>Zt,OVERLAY_BACK_BUTTON_PRIORITY:()=>je,blockHardwareBackButton:()=>Nt,shouldUseCloseWatcher:()=>k,startHardwareBackButton:()=>Be});var b=pe(467),p=pe(8476),Ue=pe(3664);pe(9672);const k=()=>Ue.c.get("experimentalCloseWatcher",!1)&&void 0!==p.w&&"CloseWatcher"in p.w,Nt=()=>{document.addEventListener("backbutton",()=>{})},Be=()=>{const sn=document;let vt=!1;const Ct=()=>{if(vt)return;let Rt=0,ut=[];const Lt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(jt,vn){ut.push({priority:jt,handler:vn,id:Rt++})}}});sn.dispatchEvent(Lt);const dn=function(){var jt=(0,b.A)(function*(vn){try{if(null!=vn&&vn.handler){const Kt=vn.handler(zt);null!=Kt&&(yield Kt)}}catch(Kt){console.error(Kt)}});return function(Kt){return jt.apply(this,arguments)}}(),zt=()=>{if(ut.length>0){let jt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ut.forEach(vn=>{vn.priority>=jt.priority&&(jt=vn)}),vt=!0,ut=ut.filter(vn=>vn.id!==jt.id),dn(jt).then(()=>vt=!1)}};zt()};if(k()){let Rt;const ut=()=>{null==Rt||Rt.destroy(),Rt=new p.w.CloseWatcher,Rt.onclose=()=>{Ct(),ut()}};ut()}else sn.addEventListener("backbutton",Ct)},je=100,Zt=99},4920:(Bi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>je,b:()=>Zt,c:()=>Ue,d:()=>ut,e:()=>vn,f:()=>Rt,g:()=>sn,h:()=>k,i:()=>Be,j:()=>Lt,k:()=>St,l:()=>Ct,m:()=>dn,n:()=>jt,o:()=>Kt,p:()=>zt,r:()=>vt,s:()=>Xt,t:()=>b});const b=(nt,Ut=0)=>new Promise(tn=>{p(nt,Ut,tn)}),p=(nt,Ut=0,tn)=>{let an,gt;const qe={passive:!0},nn=()=>{an&&an()},Wn=si=>{(void 0===si||nt===si.target)&&(nn(),tn(si))};return nt&&(nt.addEventListener("webkitTransitionEnd",Wn,qe),nt.addEventListener("transitionend",Wn,qe),gt=setTimeout(Wn,Ut+500),an=()=>{void 0!==gt&&(clearTimeout(gt),gt=void 0),nt.removeEventListener("webkitTransitionEnd",Wn,qe),nt.removeEventListener("transitionend",Wn,qe)}),nn},Ue=(nt,Ut)=>{nt.componentOnReady?nt.componentOnReady().then(tn=>Ut(tn)):vt(()=>Ut(nt))},St=nt=>void 0!==nt.componentOnReady,k=(nt,Ut=[])=>{const tn={};return Ut.forEach(an=>{nt.hasAttribute(an)&&(null!==nt.getAttribute(an)&&(tn[an]=nt.getAttribute(an)),nt.removeAttribute(an))}),tn},Nt=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Be=(nt,Ut)=>{let tn=Nt;return Ut&&Ut.length>0&&(tn=tn.filter(an=>!Ut.includes(an))),k(nt,tn)},je=(nt,Ut,tn,an)=>{var gt;if(typeof window<"u"){const qe=window,Dt=null===(gt=null==qe?void 0:qe.Ionic)||void 0===gt?void 0:gt.config;if(Dt){const nn=Dt.get("_ael");if(nn)return nn(nt,Ut,tn,an);if(Dt._ael)return Dt._ael(nt,Ut,tn,an)}}return nt.addEventListener(Ut,tn,an)},Zt=(nt,Ut,tn,an)=>{var gt;if(typeof window<"u"){const qe=window,Dt=null===(gt=null==qe?void 0:qe.Ionic)||void 0===gt?void 0:gt.config;if(Dt){const nn=Dt.get("_rel");if(nn)return nn(nt,Ut,tn,an);if(Dt._rel)return Dt._rel(nt,Ut,tn,an)}}return nt.removeEventListener(Ut,tn,an)},sn=(nt,Ut=nt)=>nt.shadowRoot||Ut,vt=nt=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(nt):"function"==typeof requestAnimationFrame?requestAnimationFrame(nt):setTimeout(nt),Ct=nt=>!!nt.shadowRoot&&!!nt.attachShadow,Rt=nt=>{if(nt.focus(),nt.classList.contains("ion-focusable")){const Ut=nt.closest("ion-app");Ut&&Ut.setFocus([nt])}},ut=(nt,Ut,tn,an,gt)=>{if(nt||Ct(Ut)){let qe=Ut.querySelector("input.aux-input");qe||(qe=Ut.ownerDocument.createElement("input"),qe.type="hidden",qe.classList.add("aux-input"),Ut.appendChild(qe)),qe.disabled=gt,qe.name=tn,qe.value=an||""}},Lt=(nt,Ut,tn)=>Math.max(nt,Math.min(Ut,tn)),dn=(nt,Ut)=>{if(!nt){const tn="ASSERT: "+Ut;throw console.error(tn),new Error(tn)}},zt=nt=>{if(nt){const Ut=nt.changedTouches;if(Ut&&Ut.length>0){const tn=Ut[0];return{x:tn.clientX,y:tn.clientY}}if(void 0!==nt.pageX)return{x:nt.pageX,y:nt.pageY}}return{x:0,y:0}},jt=nt=>{const Ut="rtl"===document.dir;switch(nt){case"start":return Ut;case"end":return!Ut;default:throw new Error(`"${nt}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vn=(nt,Ut)=>{const tn=nt._original||nt;return{_original:nt,emit:Kt(tn.emit.bind(tn),Ut)}},Kt=(nt,Ut=0)=>{let tn;return(...an)=>{clearTimeout(tn),tn=setTimeout(nt,Ut,...an)}},Xt=(nt,Ut)=>{if(null!=nt||(nt={}),null!=Ut||(Ut={}),nt===Ut)return!0;const tn=Object.keys(nt);if(tn.length!==Object.keys(Ut).length)return!1;for(const an of tn)if(!(an in Ut)||nt[an]!==Ut[an])return!1;return!0}},5465:(Bi,xn,pe)=>{"use strict";pe.d(xn,{m:()=>Rt});var b=pe(467),p=pe(8476),Ue=pe(6411),St=pe(4929),k=pe(4920),Nt=pe(3664),Be=pe(9986);const je=ut=>(0,Be.c)().duration(ut?400:300),Zt=ut=>{let Lt,dn;const zt=ut.width+8,jt=(0,Be.c)(),vn=(0,Be.c)();ut.isEndSide?(Lt=zt+"px",dn="0px"):(Lt=-zt+"px",dn="0px"),jt.addElement(ut.menuInnerEl).fromTo("transform",`translateX(${Lt})`,`translateX(${dn})`);const Xt="ios"===(0,Nt.b)(ut),nt=Xt?.2:.25;return vn.addElement(ut.backdropEl).fromTo("opacity",.01,nt),je(Xt).addAnimation([jt,vn])},sn=ut=>{let Lt,dn;const zt=(0,Nt.b)(ut),jt=ut.width;ut.isEndSide?(Lt=-jt+"px",dn=jt+"px"):(Lt=jt+"px",dn=-jt+"px");const vn=(0,Be.c)().addElement(ut.menuInnerEl).fromTo("transform",`translateX(${dn})`,"translateX(0px)"),Kt=(0,Be.c)().addElement(ut.contentEl).fromTo("transform","translateX(0px)",`translateX(${Lt})`),Xt=(0,Be.c)().addElement(ut.backdropEl).fromTo("opacity",.01,.32);return je("ios"===zt).addAnimation([vn,Kt,Xt])},vt=ut=>{const Lt=(0,Nt.b)(ut),dn=ut.width*(ut.isEndSide?-1:1)+"px",zt=(0,Be.c)().addElement(ut.contentEl).fromTo("transform","translateX(0px)",`translateX(${dn})`);return je("ios"===Lt).addAnimation(zt)},Rt=(()=>{const ut=new Map,Lt=[],dn=function(){var xe=(0,b.A)(function*(Ee){const lt=yield Ut(Ee,!0);return!!lt&&lt.open()});return function(lt){return xe.apply(this,arguments)}}(),zt=function(){var xe=(0,b.A)(function*(Ee){const lt=yield void 0!==Ee?Ut(Ee,!0):tn();return void 0!==lt&&lt.close()});return function(lt){return xe.apply(this,arguments)}}(),jt=function(){var xe=(0,b.A)(function*(Ee){const lt=yield Ut(Ee,!0);return!!lt&&lt.toggle()});return function(lt){return xe.apply(this,arguments)}}(),vn=function(){var xe=(0,b.A)(function*(Ee,lt){const It=yield Ut(lt);return It&&(It.disabled=!Ee),It});return function(lt,It){return xe.apply(this,arguments)}}(),Kt=function(){var xe=(0,b.A)(function*(Ee,lt){const It=yield Ut(lt);return It&&(It.swipeGesture=Ee),It});return function(lt,It){return xe.apply(this,arguments)}}(),Xt=function(){var xe=(0,b.A)(function*(Ee){if(null!=Ee){const lt=yield Ut(Ee);return void 0!==lt&&lt.isOpen()}return void 0!==(yield tn())});return function(lt){return xe.apply(this,arguments)}}(),nt=function(){var xe=(0,b.A)(function*(Ee){const lt=yield Ut(Ee);return!!lt&&!lt.disabled});return function(lt){return xe.apply(this,arguments)}}(),Ut=function(){var xe=(0,b.A)(function*(Ee,lt=!1){if(yield _e(),"start"===Ee||"end"===Ee){const Jt=Lt.filter(Kn=>Kn.side===Ee&&!Kn.disabled);if(Jt.length>=1)return Jt.length>1&&lt&&(0,St.p)(`menuController queried for a menu on the "${Ee}" side, but ${Jt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Jt.map(Kn=>Kn.el)),Jt[0].el;const wt=Lt.filter(Kn=>Kn.side===Ee);if(wt.length>=1)return wt.length>1&&lt&&(0,St.p)(`menuController queried for a menu on the "${Ee}" side, but ${wt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,wt.map(Kn=>Kn.el)),wt[0].el}else if(null!=Ee)return pt(Jt=>Jt.menuId===Ee);return pt(Jt=>!Jt.disabled)||(Lt.length>0?Lt[0].el:void 0)});return function(lt){return xe.apply(this,arguments)}}(),tn=function(){var xe=(0,b.A)(function*(){return yield _e(),Cn()});return function(){return xe.apply(this,arguments)}}(),an=function(){var xe=(0,b.A)(function*(){return yield _e(),Zn()});return function(){return xe.apply(this,arguments)}}(),gt=function(){var xe=(0,b.A)(function*(){return yield _e(),pn()});return function(){return xe.apply(this,arguments)}}(),qe=(xe,Ee)=>{ut.set(xe,Ee)},Wn=function(){var xe=(0,b.A)(function*(Ee,lt,It){if(pn())return!1;if(lt){const Jt=yield tn();Jt&&Ee.el!==Jt&&(yield Jt.setOpen(!1,!1))}return Ee._setOpen(lt,It)});return function(lt,It,Jt){return xe.apply(this,arguments)}}(),Cn=()=>pt(xe=>xe._isOpen),Zn=()=>Lt.map(xe=>xe.el),pn=()=>Lt.some(xe=>xe.isAnimating),pt=xe=>{const Ee=Lt.find(xe);if(void 0!==Ee)return Ee.el},_e=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(xe=>new Promise(Ee=>(0,k.c)(xe,Ee))));return qe("reveal",vt),qe("push",sn),qe("overlay",Zt),null==p.d||p.d.addEventListener("ionBackButton",xe=>{const Ee=Cn();Ee&&xe.detail.register(Ue.MENU_BACK_BUTTON_PRIORITY,()=>Ee.close())}),{registerAnimation:qe,get:Ut,getMenus:an,getOpen:tn,isEnabled:nt,swipeGesture:Kt,isAnimating:gt,isOpen:Xt,enable:vn,toggle:jt,close:zt,open:dn,_getOpenSync:Cn,_createAnimation:(xe,Ee)=>{const lt=ut.get(xe);if(!lt)throw new Error("animation not registered");return lt(Ee)},_register:xe=>{Lt.indexOf(xe)<0&&Lt.push(xe)},_unregister:xe=>{const Ee=Lt.indexOf(xe);Ee>-1&&Lt.splice(Ee,1)},_setOpen:Wn}})()},8607:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{GESTURE_CONTROLLER:()=>b.G,createGesture:()=>Zt});var b=pe(1970);const p=(Rt,ut,Lt,dn)=>{const zt=Ue(Rt)?{capture:!!dn.capture,passive:!!dn.passive}:!!dn.capture;let jt,vn;return Rt.__zone_symbol__addEventListener?(jt="__zone_symbol__addEventListener",vn="__zone_symbol__removeEventListener"):(jt="addEventListener",vn="removeEventListener"),Rt[jt](ut,Lt,zt),()=>{Rt[vn](ut,Lt,zt)}},Ue=Rt=>{if(void 0===St)try{const ut=Object.defineProperty({},"passive",{get:()=>{St=!0}});Rt.addEventListener("optsTest",()=>{},ut)}catch{St=!1}return!!St};let St;const Be=Rt=>Rt instanceof Document?Rt:Rt.ownerDocument,Zt=Rt=>{let ut=!1,Lt=!1,dn=!0,zt=!1;const jt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Rt),vn=jt.canStart,Kt=jt.onWillStart,Xt=jt.onStart,nt=jt.onEnd,Ut=jt.notCaptured,tn=jt.onMove,an=jt.threshold,gt=jt.passive,qe=jt.blurOnStart,Dt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},nn=((Rt,ut,Lt)=>{const dn=Lt*(Math.PI/180),zt="x"===Rt,jt=Math.cos(dn),vn=ut*ut;let Kt=0,Xt=0,nt=!1,Ut=0;return{start(tn,an){Kt=tn,Xt=an,Ut=0,nt=!0},detect(tn,an){if(!nt)return!1;const gt=tn-Kt,qe=an-Xt,Dt=gt*gt+qe*qe;if(Dt<vn)return!1;const nn=Math.sqrt(Dt),Wn=(zt?gt:qe)/nn;return Ut=Wn>jt?1:Wn<-jt?-1:0,nt=!1,!0},isGesture:()=>0!==Ut,getDirection:()=>Ut}})(jt.direction,jt.threshold,jt.maxAngle),Wn=b.G.createGesture({name:Rt.gestureName,priority:Rt.gesturePriority,disableScroll:Rt.disableScroll}),Zn=()=>{ut&&(zt=!1,tn&&tn(Dt))},pn=()=>!!Wn.capture()&&(ut=!0,dn=!1,Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime,Kt?Kt(Dt).then(_e):_e(),!0),_e=()=>{qe&&(()=>{if(typeof document<"u"){const Jt=document.activeElement;null!=Jt&&Jt.blur&&Jt.blur()}})(),Xt&&Xt(Dt),dn=!0},xe=()=>{ut=!1,Lt=!1,zt=!1,dn=!0,Wn.release()},Ee=Jt=>{const wt=ut,Kn=dn;if(xe(),Kn){if(sn(Dt,Jt),wt)return void(nt&&nt(Dt));Ut&&Ut(Dt)}},lt=((Rt,ut,Lt,dn,zt)=>{let jt,vn,Kt,Xt,nt,Ut,tn,an=0;const gt=pt=>{an=Date.now()+2e3,ut(pt)&&(!vn&&Lt&&(vn=p(Rt,"touchmove",Lt,zt)),Kt||(Kt=p(pt.target,"touchend",Dt,zt)),Xt||(Xt=p(pt.target,"touchcancel",Dt,zt)))},qe=pt=>{an>Date.now()||ut(pt)&&(!Ut&&Lt&&(Ut=p(Be(Rt),"mousemove",Lt,zt)),tn||(tn=p(Be(Rt),"mouseup",nn,zt)))},Dt=pt=>{Wn(),dn&&dn(pt)},nn=pt=>{si(),dn&&dn(pt)},Wn=()=>{vn&&vn(),Kt&&Kt(),Xt&&Xt(),vn=Kt=Xt=void 0},si=()=>{Ut&&Ut(),tn&&tn(),Ut=tn=void 0},Cn=()=>{Wn(),si()},Zn=(pt=!0)=>{pt?(jt||(jt=p(Rt,"touchstart",gt,zt)),nt||(nt=p(Rt,"mousedown",qe,zt))):(jt&&jt(),nt&&nt(),jt=nt=void 0,Cn())};return{enable:Zn,stop:Cn,destroy:()=>{Zn(!1),dn=Lt=ut=void 0}}})(jt.el,Jt=>{const wt=Ct(Jt);return!(Lt||!dn||(vt(Jt,Dt),Dt.startX=Dt.currentX,Dt.startY=Dt.currentY,Dt.startTime=Dt.currentTime=wt,Dt.velocityX=Dt.velocityY=Dt.deltaX=Dt.deltaY=0,Dt.event=Jt,vn&&!1===vn(Dt))||(Wn.release(),!Wn.start()))&&(Lt=!0,0===an?pn():(nn.start(Dt.startX,Dt.startY),!0))},Jt=>{ut?!zt&&dn&&(zt=!0,sn(Dt,Jt),requestAnimationFrame(Zn)):(sn(Dt,Jt),nn.detect(Dt.currentX,Dt.currentY)&&(!nn.isGesture()||!pn())&&It())},Ee,{capture:!1,passive:gt}),It=()=>{xe(),lt.stop(),Ut&&Ut(Dt)};return{enable(Jt=!0){Jt||(ut&&Ee(void 0),xe()),lt.enable(Jt)},destroy(){Wn.destroy(),lt.destroy()}}},sn=(Rt,ut)=>{if(!ut)return;const Lt=Rt.currentX,dn=Rt.currentY,zt=Rt.currentTime;vt(ut,Rt);const jt=Rt.currentX,vn=Rt.currentY,Xt=(Rt.currentTime=Ct(ut))-zt;if(Xt>0&&Xt<100){const Ut=(vn-dn)/Xt;Rt.velocityX=(jt-Lt)/Xt*.7+.3*Rt.velocityX,Rt.velocityY=.7*Ut+.3*Rt.velocityY}Rt.deltaX=jt-Rt.startX,Rt.deltaY=vn-Rt.startY,Rt.event=ut},vt=(Rt,ut)=>{let Lt=0,dn=0;if(Rt){const zt=Rt.changedTouches;if(zt&&zt.length>0){const jt=zt[0];Lt=jt.clientX,dn=jt.clientY}else void 0!==Rt.pageX&&(Lt=Rt.pageX,dn=Rt.pageY)}ut.currentX=Lt,ut.currentY=dn},Ct=Rt=>Rt.timeStamp||Date.now()},9672:(Bi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>Nt,a:()=>fa,b:()=>vs,c:()=>Kn,d:()=>Gi,e:()=>or,f:()=>pn,g:()=>ir,h:()=>Cn,i:()=>Qi,j:()=>bt,k:()=>Be,r:()=>Ji,w:()=>qs});var b=pe(467);var St=Object.defineProperty,Nt={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Be=te=>{const Ae=new URL(te,br.$resourcesUrl$);return Ae.origin!==Rr.location.origin?Ae.href:Ae.pathname},je={},Ct=te=>"object"==(te=typeof te)||"function"===te;function Rt(te){var Ae,Ke,mt;return null!=(mt=null==(Ke=null==(Ae=te.head)?void 0:Ae.querySelector('meta[name="csp-nonce"]'))?void 0:Ke.getAttribute("content"))?mt:void 0}((te,Ae)=>{for(var Ke in Ae)St(te,Ke,{get:Ae[Ke],enumerable:!0})})({},{err:()=>dn,map:()=>zt,ok:()=>Lt,unwrap:()=>jt,unwrapErr:()=>vn});var Lt=te=>({isOk:!0,isErr:!1,value:te}),dn=te=>({isOk:!1,isErr:!0,value:te});function zt(te,Ae){if(te.isOk){const Ke=Ae(te.value);return Ke instanceof Promise?Ke.then(mt=>Lt(mt)):Lt(Ke)}if(te.isErr)return dn(te.value);throw"should never get here"}var jt=te=>{if(te.isOk)return te.value;throw te.value},vn=te=>{if(te.isErr)return te.value;throw te.value},gt="s-id",qe="sty-id",Wn="slot-fb{display:contents}slot-fb[hidden]{display:none}",si="http://www.w3.org/1999/xlink",Cn=(te,Ae,...Ke)=>{let mt=null,xt=null,At=null,Pn=!1,Hn=!1;const $n=[],In=Pi=>{for(let cr=0;cr<Pi.length;cr++)mt=Pi[cr],Array.isArray(mt)?In(mt):null!=mt&&"boolean"!=typeof mt&&((Pn="function"!=typeof te&&!Ct(mt))&&(mt=String(mt)),Pn&&Hn?$n[$n.length-1].$text$+=mt:$n.push(Pn?Zn(null,mt):mt),Hn=Pn)};if(In(Ke),Ae){Ae.key&&(xt=Ae.key),Ae.name&&(At=Ae.name);{const Pi=Ae.className||Ae.class;Pi&&(Ae.class="object"!=typeof Pi?Pi:Object.keys(Pi).filter(cr=>Pi[cr]).join(" "))}}if("function"==typeof te)return te(null===Ae?{}:Ae,$n,_e);const _i=Zn(te,null);return _i.$attrs$=Ae,$n.length>0&&(_i.$children$=$n),_i.$key$=xt,_i.$name$=At,_i},Zn=(te,Ae)=>({$flags$:0,$tag$:te,$text$:Ae,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pn={},_e={forEach:(te,Ae)=>te.map(xe).forEach(Ae),map:(te,Ae)=>te.map(xe).map(Ae).map(Ee)},xe=te=>({vattrs:te.$attrs$,vchildren:te.$children$,vkey:te.$key$,vname:te.$name$,vtag:te.$tag$,vtext:te.$text$}),Ee=te=>{if("function"==typeof te.vtag){const Ke={...te.vattrs};return te.vkey&&(Ke.key=te.vkey),te.vname&&(Ke.name=te.vname),Cn(te.vtag,Ke,...te.vchildren||[])}const Ae=Zn(te.vtag,te.vtext);return Ae.$attrs$=te.vattrs,Ae.$children$=te.vchildren,Ae.$key$=te.vkey,Ae.$name$=te.vname,Ae},It=(te,Ae,Ke,mt,xt,At,Pn)=>{let Hn,$n,In,_i;if(1===At.nodeType){for(Hn=At.getAttribute("c-id"),Hn&&($n=Hn.split("."),($n[0]===Pn||"0"===$n[0])&&(In={$flags$:0,$hostId$:$n[0],$nodeId$:$n[1],$depth$:$n[2],$index$:$n[3],$tag$:At.tagName.toLowerCase(),$elm$:At,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Ae.push(In),At.removeAttribute("c-id"),te.$children$||(te.$children$=[]),te.$children$[In.$index$]=In,te=In,mt&&"0"===In.$depth$&&(mt[In.$index$]=In.$elm$))),_i=At.childNodes.length-1;_i>=0;_i--)It(te,Ae,Ke,mt,xt,At.childNodes[_i],Pn);if(At.shadowRoot)for(_i=At.shadowRoot.childNodes.length-1;_i>=0;_i--)It(te,Ae,Ke,mt,xt,At.shadowRoot.childNodes[_i],Pn)}else if(8===At.nodeType)$n=At.nodeValue.split("."),($n[1]===Pn||"0"===$n[1])&&(Hn=$n[0],In={$flags$:0,$hostId$:$n[1],$nodeId$:$n[2],$depth$:$n[3],$index$:$n[4],$elm$:At,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Hn?(In.$elm$=At.nextSibling,In.$elm$&&3===In.$elm$.nodeType&&(In.$text$=In.$elm$.textContent,Ae.push(In),At.remove(),te.$children$||(te.$children$=[]),te.$children$[In.$index$]=In,mt&&"0"===In.$depth$&&(mt[In.$index$]=In.$elm$))):In.$hostId$===Pn&&("s"===Hn?(In.$tag$="slot",At["s-sn"]=$n[5]?In.$name$=$n[5]:"",At["s-sr"]=!0,mt&&(In.$elm$=Cs.createElement(In.$tag$),In.$name$&&In.$elm$.setAttribute("name",In.$name$),At.parentNode.insertBefore(In.$elm$,At),At.remove(),"0"===In.$depth$&&(mt[In.$index$]=In.$elm$)),Ke.push(In),te.$children$||(te.$children$=[]),te.$children$[In.$index$]=In):"r"===Hn&&(mt?At.remove():(xt["s-cr"]=At,At["s-cn"]=!0))));else if(te&&"style"===te.$tag$){const Pi=Zn(null,At.textContent);Pi.$elm$=At,Pi.$index$="0",te.$children$=[Pi]}},Jt=(te,Ae)=>{if(1===te.nodeType){let Ke=0;for(;Ke<te.childNodes.length;Ke++)Jt(te.childNodes[Ke],Ae);if(te.shadowRoot)for(Ke=0;Ke<te.shadowRoot.childNodes.length;Ke++)Jt(te.shadowRoot.childNodes[Ke],Ae)}else if(8===te.nodeType){const Ke=te.nodeValue.split(".");"o"===Ke[0]&&(Ae.set(Ke[1]+"."+Ke[2],te),te.nodeValue="",te["s-en"]=Ke[3])}},Kn=te=>ya.push(te),ir=te=>es(te).$modeName$,Qi=te=>es(te).$hostElement$,Gi=(te,Ae,Ke)=>{const mt=Qi(te);return{emit:xt=>ar(mt,Ae,{bubbles:!!(4&Ke),composed:!!(2&Ke),cancelable:!!(1&Ke),detail:xt})}},ar=(te,Ae,Ke)=>{const mt=br.ce(Ae,Ke);return te.dispatchEvent(mt),mt},pr=new WeakMap,gr=(te,Ae,Ke)=>{let mt=va.get(te);ha&&Ke?(mt=mt||new CSSStyleSheet,"string"==typeof mt?mt=Ae:mt.replaceSync(Ae)):mt=Ae,va.set(te,mt)},Or=(te,Ae,Ke)=>{var mt;const xt=di(Ae,Ke),At=va.get(xt);if(te=11===te.nodeType?te:Cs,At)if("string"==typeof At){let Hn,Pn=pr.get(te=te.head||te);if(Pn||pr.set(te,Pn=new Set),!Pn.has(xt)){if(te.host&&(Hn=te.querySelector(`[${qe}="${xt}"]`)))Hn.innerHTML=At;else{Hn=Cs.createElement("style"),Hn.innerHTML=At;const $n=null!=(mt=br.$nonce$)?mt:Rt(Cs);null!=$n&&Hn.setAttribute("nonce",$n),te.insertBefore(Hn,te.querySelector("link"))}4&Ae.$flags$&&(Hn.innerHTML+=Wn),Pn&&Pn.add(xt)}}else te.adoptedStyleSheets.includes(At)||(te.adoptedStyleSheets=[...te.adoptedStyleSheets,At]);return xt},di=(te,Ae)=>"sc-"+(Ae&&32&te.$flags$?te.$tagName$+"-"+Ae:te.$tagName$),Ot=te=>te.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),fn=(te,Ae,Ke,mt,xt,At)=>{if(Ke!==mt){let Pn=Ro(te,Ae),Hn=Ae.toLowerCase();if("class"===Ae){const $n=te.classList,In=ai(Ke),_i=ai(mt);$n.remove(...In.filter(Pi=>Pi&&!_i.includes(Pi))),$n.add(..._i.filter(Pi=>Pi&&!In.includes(Pi)))}else if("style"===Ae){for(const $n in Ke)(!mt||null==mt[$n])&&($n.includes("-")?te.style.removeProperty($n):te.style[$n]="");for(const $n in mt)(!Ke||mt[$n]!==Ke[$n])&&($n.includes("-")?te.style.setProperty($n,mt[$n]):te.style[$n]=mt[$n])}else if("key"!==Ae)if("ref"===Ae)mt&&mt(te);else if(Pn||"o"!==Ae[0]||"n"!==Ae[1]){const $n=Ct(mt);if((Pn||$n&&null!==mt)&&!xt)try{if(te.tagName.includes("-"))te[Ae]=mt;else{const _i=null==mt?"":mt;"list"===Ae?Pn=!1:(null==Ke||te[Ae]!=_i)&&(te[Ae]=_i)}}catch{}let In=!1;Hn!==(Hn=Hn.replace(/^xlink\:?/,""))&&(Ae=Hn,In=!0),null==mt||!1===mt?(!1!==mt||""===te.getAttribute(Ae))&&(In?te.removeAttributeNS(si,Ae):te.removeAttribute(Ae)):(!Pn||4&At||xt)&&!$n&&(mt=!0===mt?"":mt,In?te.setAttributeNS(si,Ae,mt):te.setAttribute(Ae,mt))}else if(Ae="-"===Ae[2]?Ae.slice(3):Ro(Rr,Hn)?Hn.slice(2):Hn[2]+Ae.slice(3),Ke||mt){const $n=Ae.endsWith(sr);Ae=Ae.replace(Hr,""),Ke&&br.rel(te,Ae,Ke,$n),mt&&br.ael(te,Ae,mt,$n)}}},wn=/\s/,ai=te=>te?te.split(wn):[],sr="Capture",Hr=new RegExp(sr+"$"),vr=(te,Ae,Ke)=>{const mt=11===Ae.$elm$.nodeType&&Ae.$elm$.host?Ae.$elm$.host:Ae.$elm$,xt=te&&te.$attrs$||je,At=Ae.$attrs$||je;for(const Pn of Ci(Object.keys(xt)))Pn in At||fn(mt,Pn,xt[Pn],void 0,Ke,Ae.$flags$);for(const Pn of Ci(Object.keys(At)))fn(mt,Pn,xt[Pn],At[Pn],Ke,Ae.$flags$)};function Ci(te){return te.includes("ref")?[...te.filter(Ae=>"ref"!==Ae),"ref"]:te}var Ei,lr,cs,Lr=!1,Fr=!1,wr=!1,us=!1,zi=(te,Ae,Ke,mt)=>{var xt;const At=Ae.$children$[Ke];let Hn,$n,In,Pn=0;if(Lr||(wr=!0,"slot"===At.$tag$&&(Ei&&mt.classList.add(Ei+"-s"),At.$flags$|=At.$children$?2:1)),null!==At.$text$)Hn=At.$elm$=Cs.createTextNode(At.$text$);else if(1&At.$flags$)Hn=At.$elm$=Cs.createTextNode("");else{if(us||(us="svg"===At.$tag$),Hn=At.$elm$=Cs.createElementNS(us?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&At.$flags$?"slot-fb":At.$tag$),us&&"foreignObject"===At.$tag$&&(us=!1),vr(null,At,us),(te=>null!=te)(Ei)&&Hn["s-si"]!==Ei&&Hn.classList.add(Hn["s-si"]=Ei),At.$children$)for(Pn=0;Pn<At.$children$.length;++Pn)$n=zi(te,At,Pn,Hn),$n&&Hn.appendChild($n);"svg"===At.$tag$?us=!1:"foreignObject"===Hn.tagName&&(us=!0)}return Hn["s-hn"]=cs,3&At.$flags$&&(Hn["s-sr"]=!0,Hn["s-cr"]=lr,Hn["s-sn"]=At.$name$||"",Hn["s-rf"]=null==(xt=At.$attrs$)?void 0:xt.ref,In=te&&te.$children$&&te.$children$[Ke],In&&In.$tag$===At.$tag$&&te.$elm$&&Ls(te.$elm$)),Hn},Ls=te=>{br.$flags$|=1;const Ae=te.closest(cs.toLowerCase());if(null!=Ae){const Ke=Array.from(Ae.childNodes).find(xt=>xt["s-cr"]),mt=Array.from(te.childNodes);for(const xt of Ke?mt.reverse():mt)null!=xt["s-sh"]&&(ye(Ae,xt,null!=Ke?Ke:null),xt["s-sh"]=void 0,wr=!0)}br.$flags$&=-2},yr=(te,Ae)=>{br.$flags$|=1;const Ke=Array.from(te.childNodes);if(te["s-sr"]){let mt=te;for(;mt=mt.nextSibling;)mt&&mt["s-sn"]===te["s-sn"]&&mt["s-sh"]===cs&&Ke.push(mt)}for(let mt=Ke.length-1;mt>=0;mt--){const xt=Ke[mt];xt["s-hn"]!==cs&&xt["s-ol"]&&(ye(ct(xt),xt,$t(xt)),xt["s-ol"].remove(),xt["s-ol"]=void 0,xt["s-sh"]=void 0,wr=!0),Ae&&yr(xt,Ae)}br.$flags$&=-2},hr=(te,Ae,Ke,mt,xt,At)=>{let Hn,Pn=te["s-cr"]&&te["s-cr"].parentNode||te;for(Pn.shadowRoot&&Pn.tagName===cs&&(Pn=Pn.shadowRoot);xt<=At;++xt)mt[xt]&&(Hn=zi(null,Ke,xt,te),Hn&&(mt[xt].$elm$=Hn,ye(Pn,Hn,$t(Ae))))},Fs=(te,Ae,Ke)=>{for(let mt=Ae;mt<=Ke;++mt){const xt=te[mt];if(xt){const At=xt.$elm$;Ie(xt),At&&(Fr=!0,At["s-ol"]?At["s-ol"].remove():yr(At,!0),At.remove())}}},g=(te,Ae,Ke=!1)=>te.$tag$===Ae.$tag$&&("slot"===te.$tag$?te.$name$===Ae.$name$:!!Ke||te.$key$===Ae.$key$),$t=te=>te&&te["s-ol"]||te,ct=te=>(te["s-ol"]?te["s-ol"]:te).parentNode,Ht=(te,Ae,Ke=!1)=>{const mt=Ae.$elm$=te.$elm$,xt=te.$children$,At=Ae.$children$,Pn=Ae.$tag$,Hn=Ae.$text$;let $n;null===Hn?(us="svg"===Pn||"foreignObject"!==Pn&&us,"slot"!==Pn||Lr?vr(te,Ae,us):te.$name$!==Ae.$name$&&(Ae.$elm$["s-sn"]=Ae.$name$||"",Ls(Ae.$elm$.parentElement)),null!==xt&&null!==At?((te,Ae,Ke,mt,xt=!1)=>{let lo,Zr,At=0,Pn=0,Hn=0,$n=0,In=Ae.length-1,_i=Ae[0],Pi=Ae[In],cr=mt.length-1,er=mt[0],is=mt[cr];for(;At<=In&&Pn<=cr;)if(null==_i)_i=Ae[++At];else if(null==Pi)Pi=Ae[--In];else if(null==er)er=mt[++Pn];else if(null==is)is=mt[--cr];else if(g(_i,er,xt))Ht(_i,er,xt),_i=Ae[++At],er=mt[++Pn];else if(g(Pi,is,xt))Ht(Pi,is,xt),Pi=Ae[--In],is=mt[--cr];else if(g(_i,is,xt))("slot"===_i.$tag$||"slot"===is.$tag$)&&yr(_i.$elm$.parentNode,!1),Ht(_i,is,xt),ye(te,_i.$elm$,Pi.$elm$.nextSibling),_i=Ae[++At],is=mt[--cr];else if(g(Pi,er,xt))("slot"===_i.$tag$||"slot"===is.$tag$)&&yr(Pi.$elm$.parentNode,!1),Ht(Pi,er,xt),ye(te,Pi.$elm$,_i.$elm$),Pi=Ae[--In],er=mt[++Pn];else{for(Hn=-1,$n=At;$n<=In;++$n)if(Ae[$n]&&null!==Ae[$n].$key$&&Ae[$n].$key$===er.$key$){Hn=$n;break}Hn>=0?(Zr=Ae[Hn],Zr.$tag$!==er.$tag$?lo=zi(Ae&&Ae[Pn],Ke,Hn,te):(Ht(Zr,er,xt),Ae[Hn]=void 0,lo=Zr.$elm$),er=mt[++Pn]):(lo=zi(Ae&&Ae[Pn],Ke,Pn,te),er=mt[++Pn]),lo&&ye(ct(_i.$elm$),lo,$t(_i.$elm$))}At>In?hr(te,null==mt[cr+1]?null:mt[cr+1].$elm$,Ke,mt,Pn,cr):Pn>cr&&Fs(Ae,At,In)})(mt,xt,Ae,At,Ke):null!==At?(null!==te.$text$&&(mt.textContent=""),hr(mt,null,Ae,At,0,At.length-1)):null!==xt&&Fs(xt,0,xt.length-1),us&&"svg"===Pn&&(us=!1)):($n=mt["s-cr"])?$n.parentNode.textContent=Hn:te.$text$!==Hn&&(mt.data=Hn)},Ne=te=>{const Ae=te.childNodes;for(const Ke of Ae)if(1===Ke.nodeType){if(Ke["s-sr"]){const mt=Ke["s-sn"];Ke.hidden=!1;for(const xt of Ae)if(xt!==Ke)if(xt["s-hn"]!==Ke["s-hn"]||""!==mt){if(1===xt.nodeType&&(mt===xt.getAttribute("slot")||mt===xt["s-sn"])||3===xt.nodeType&&mt===xt["s-sn"]){Ke.hidden=!0;break}}else if(1===xt.nodeType||3===xt.nodeType&&""!==xt.textContent.trim()){Ke.hidden=!0;break}}Ne(Ke)}},Oe=[],Qe=te=>{let Ae,Ke,mt;for(const xt of te.childNodes){if(xt["s-sr"]&&(Ae=xt["s-cr"])&&Ae.parentNode){Ke=Ae.parentNode.childNodes;const At=xt["s-sn"];for(mt=Ke.length-1;mt>=0;mt--)if(Ae=Ke[mt],!(Ae["s-cn"]||Ae["s-nr"]||Ae["s-hn"]===xt["s-hn"]||Ae["s-sh"]&&Ae["s-sh"]===xt["s-hn"]))if(fe(Ae,At)){let Pn=Oe.find(Hn=>Hn.$nodeToRelocate$===Ae);Fr=!0,Ae["s-sn"]=Ae["s-sn"]||At,Pn?(Pn.$nodeToRelocate$["s-sh"]=xt["s-hn"],Pn.$slotRefNode$=xt):(Ae["s-sh"]=xt["s-hn"],Oe.push({$slotRefNode$:xt,$nodeToRelocate$:Ae})),Ae["s-sr"]&&Oe.map(Hn=>{fe(Hn.$nodeToRelocate$,Ae["s-sn"])&&(Pn=Oe.find($n=>$n.$nodeToRelocate$===Ae),Pn&&!Hn.$slotRefNode$&&(Hn.$slotRefNode$=Pn.$slotRefNode$))})}else Oe.some(Pn=>Pn.$nodeToRelocate$===Ae)||Oe.push({$nodeToRelocate$:Ae})}1===xt.nodeType&&Qe(xt)}},fe=(te,Ae)=>1===te.nodeType?null===te.getAttribute("slot")&&""===Ae||te.getAttribute("slot")===Ae:te["s-sn"]===Ae||""===Ae,Ie=te=>{te.$attrs$&&te.$attrs$.ref&&te.$attrs$.ref(null),te.$children$&&te.$children$.map(Ie)},ye=(te,Ae,Ke)=>{const mt=null==te?void 0:te.insertBefore(Ae,Ke);return I(Ae,te),mt},we=te=>te?te["s-rsc"]||te["s-si"]||te["s-sc"]||we(te.parentElement):void 0,I=(te,Ae)=>{var Ke,mt,xt;if(te&&Ae){const At=te["s-rsc"],Pn=we(Ae);At&&null!=(Ke=te.classList)&&Ke.contains(At)&&te.classList.remove(At),Pn&&(te["s-rsc"]=Pn,(null==(mt=te.classList)||!mt.contains(Pn))&&(null==(xt=te.classList)||xt.add(Pn)))}},N=(te,Ae)=>{Ae&&!te.$onRenderResolve$&&Ae["s-p"]&&Ae["s-p"].push(new Promise(Ke=>te.$onRenderResolve$=Ke))},z=(te,Ae)=>{if(te.$flags$|=16,!(4&te.$flags$))return N(te,te.$ancestorComponent$),qs(()=>K(te,Ae));te.$flags$|=512},K=(te,Ae)=>{const mt=te.$lazyInstance$;let xt;return Ae&&(te.$flags$|=256,te.$queuedListeners$&&(te.$queuedListeners$.map(([At,Pn])=>Et(mt,At,Pn)),te.$queuedListeners$=void 0),xt=Et(mt,"componentWillLoad")),xt=G(xt,()=>Et(mt,"componentWillRender")),G(xt,()=>me(te,mt,Ae))},G=(te,Ae)=>he(te)?te.then(Ae):Ae(),he=te=>te instanceof Promise||te&&te.then&&"function"==typeof te.then,me=function(){var te=(0,b.A)(function*(Ae,Ke,mt){var xt;const At=Ae.$hostElement$,Hn=At["s-rc"];mt&&(te=>{const Ae=te.$cmpMeta$,Ke=te.$hostElement$,mt=Ae.$flags$,At=Or(Ke.shadowRoot?Ke.shadowRoot:Ke.getRootNode(),Ae,te.$modeName$);10&mt&&(Ke["s-sc"]=At,Ke.classList.add(At+"-h"),2&mt&&Ke.classList.add(At+"-s"))})(Ae);ve(Ae,Ke,At,mt),Hn&&(Hn.map(In=>In()),At["s-rc"]=void 0);{const In=null!=(xt=At["s-p"])?xt:[],_i=()=>ft(Ae);0===In.length?_i():(Promise.all(In).then(_i),Ae.$flags$|=4,In.length=0)}});return function(Ke,mt,xt){return te.apply(this,arguments)}}(),ve=(te,Ae,Ke,mt)=>{try{Ae=Ae.render&&Ae.render(),te.$flags$&=-17,te.$flags$|=2,((te,Ae,Ke=!1)=>{var mt,xt,At,Pn,Hn;const $n=te.$hostElement$,In=te.$cmpMeta$,_i=te.$vnode$||Zn(null,null),Pi=(te=>te&&te.$tag$===pn)(Ae)?Ae:Cn(null,null,Ae);if(cs=$n.tagName,In.$attrsToReflect$&&(Pi.$attrs$=Pi.$attrs$||{},In.$attrsToReflect$.map(([cr,er])=>Pi.$attrs$[er]=$n[cr])),Ke&&Pi.$attrs$)for(const cr of Object.keys(Pi.$attrs$))$n.hasAttribute(cr)&&!["key","ref","style","class"].includes(cr)&&(Pi.$attrs$[cr]=$n[cr]);if(Pi.$tag$=null,Pi.$flags$|=4,te.$vnode$=Pi,Pi.$elm$=_i.$elm$=$n.shadowRoot||$n,Ei=$n["s-sc"],Lr=!!(1&In.$flags$),lr=$n["s-cr"],Fr=!1,Ht(_i,Pi,Ke),br.$flags$|=1,wr){Qe(Pi.$elm$);for(const cr of Oe){const er=cr.$nodeToRelocate$;if(!er["s-ol"]){const is=Cs.createTextNode("");is["s-nr"]=er,ye(er.parentNode,er["s-ol"]=is,er)}}for(const cr of Oe){const er=cr.$nodeToRelocate$,is=cr.$slotRefNode$;if(is){const lo=is.parentNode;let Zr=is.nextSibling;if(Zr&&1===Zr.nodeType){let Us=null==(mt=er["s-ol"])?void 0:mt.previousSibling;for(;Us;){let ts=null!=(xt=Us["s-nr"])?xt:null;if(ts&&ts["s-sn"]===er["s-sn"]&&lo===ts.parentNode){for(ts=ts.nextSibling;ts===er||null!=ts&&ts["s-sr"];)ts=null==ts?void 0:ts.nextSibling;if(!ts||!ts["s-nr"]){Zr=ts;break}}Us=Us.previousSibling}}(!Zr&&lo!==er.parentNode||er.nextSibling!==Zr)&&er!==Zr&&(ye(lo,er,Zr),1===er.nodeType&&(er.hidden=null!=(At=er["s-ih"])&&At)),er&&"function"==typeof is["s-rf"]&&is["s-rf"](er)}else 1===er.nodeType&&(Ke&&(er["s-ih"]=null!=(Pn=er.hidden)&&Pn),er.hidden=!0)}}if(Fr&&Ne(Pi.$elm$),br.$flags$&=-2,Oe.length=0,2&In.$flags$)for(const cr of Pi.$elm$.childNodes)cr["s-hn"]!==cs&&!cr["s-sh"]&&(Ke&&null==cr["s-ih"]&&(cr["s-ih"]=null!=(Hn=cr.hidden)&&Hn),cr.hidden=!0);lr=void 0})(te,Ae,mt)}catch(xt){_r(xt,te.$hostElement$)}return null},ft=te=>{const Ke=te.$hostElement$,xt=te.$lazyInstance$,At=te.$ancestorComponent$;Et(xt,"componentDidRender"),64&te.$flags$?Et(xt,"componentDidUpdate"):(te.$flags$|=64,ht(Ke),Et(xt,"componentDidLoad"),te.$onReadyResolve$(Ke),At||Pt()),te.$onInstanceResolve$(Ke),te.$onRenderResolve$&&(te.$onRenderResolve$(),te.$onRenderResolve$=void 0),512&te.$flags$&&Tt(()=>z(te,!1)),te.$flags$&=-517},bt=te=>{{const Ae=es(te),Ke=Ae.$hostElement$.isConnected;return Ke&&2==(18&Ae.$flags$)&&z(Ae,!1),Ke}},Pt=te=>{ht(Cs.documentElement),Tt(()=>ar(Rr,"appload",{detail:{namespace:"ionic"}}))},Et=(te,Ae,Ke)=>{if(te&&te[Ae])try{return te[Ae](Ke)}catch(mt){_r(mt)}},ht=te=>te.classList.add("hydrated"),cn=(te,Ae,Ke)=>{var mt;const xt=te.prototype;if(Ae.$members$){te.watchers&&(Ae.$watchers$=te.watchers);const At=Object.entries(Ae.$members$);if(At.map(([Pn,[Hn]])=>{31&Hn||2&Ke&&32&Hn?Object.defineProperty(xt,Pn,{get(){return((te,Ae)=>es(this).$instanceValues$.get(Ae))(0,Pn)},set($n){((te,Ae,Ke,mt)=>{const xt=es(te);if(!xt)throw new Error(`Couldn't find host element for "${mt.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const At=xt.$hostElement$,Pn=xt.$instanceValues$.get(Ae),Hn=xt.$flags$,$n=xt.$lazyInstance$;Ke=((te,Ae)=>null==te||Ct(te)?te:4&Ae?"false"!==te&&(""===te||!!te):2&Ae?parseFloat(te):1&Ae?String(te):te)(Ke,mt.$members$[Ae][0]);const In=Number.isNaN(Pn)&&Number.isNaN(Ke);if((!(8&Hn)||void 0===Pn)&&Ke!==Pn&&!In&&(xt.$instanceValues$.set(Ae,Ke),$n)){if(mt.$watchers$&&128&Hn){const Pi=mt.$watchers$[Ae];Pi&&Pi.map(cr=>{try{$n[cr](Ke,Pn,Ae)}catch(er){_r(er,At)}})}2==(18&Hn)&&z(xt,!1)}})(this,Pn,$n,Ae)},configurable:!0,enumerable:!0}):1&Ke&&64&Hn&&Object.defineProperty(xt,Pn,{value(...$n){var In;const _i=es(this);return null==(In=null==_i?void 0:_i.$onInstancePromise$)?void 0:In.then(()=>{var Pi;return null==(Pi=_i.$lazyInstance$)?void 0:Pi[Pn](...$n)})}})}),1&Ke){const Pn=new Map;xt.attributeChangedCallback=function(Hn,$n,In){br.jmp(()=>{var _i;const Pi=Pn.get(Hn);if(this.hasOwnProperty(Pi))In=this[Pi],delete this[Pi];else{if(xt.hasOwnProperty(Pi)&&"number"==typeof this[Pi]&&this[Pi]==In)return;if(null==Pi){const cr=es(this),er=null==cr?void 0:cr.$flags$;if(er&&!(8&er)&&128&er&&In!==$n){const is=cr.$lazyInstance$,lo=null==(_i=Ae.$watchers$)?void 0:_i[Hn];null==lo||lo.forEach(Zr=>{null!=is[Zr]&&is[Zr].call(is,In,$n,Hn)})}return}}this[Pi]=(null!==In||"boolean"!=typeof this[Pi])&&In})},te.observedAttributes=Array.from(new Set([...Object.keys(null!=(mt=Ae.$watchers$)?mt:{}),...At.filter(([Hn,$n])=>15&$n[0]).map(([Hn,$n])=>{var In;const _i=$n[1]||Hn;return Pn.set(_i,Hn),512&$n[0]&&(null==(In=Ae.$attrsToReflect$)||In.push([Hn,_i])),_i})]))}}return te},en=function(){var te=(0,b.A)(function*(Ae,Ke,mt,xt){let At;if(!(32&Ke.$flags$)){if(Ke.$flags$|=32,mt.$lazyBundleId$){if(At=Oa(mt),At.then){const _i=()=>{};At=yield At,_i()}At.isProxied||(mt.$watchers$=At.watchers,cn(At,mt,2),At.isProxied=!0);const In=()=>{};Ke.$flags$|=8;try{new At(Ke)}catch(_i){_r(_i)}Ke.$flags$&=-9,Ke.$flags$|=128,In(),Wt(Ke.$lazyInstance$)}else At=Ae.constructor,customElements.whenDefined(mt.$tagName$).then(()=>Ke.$flags$|=128);if(At.style){let In=At.style;"string"!=typeof In&&(In=In[Ke.$modeName$=(te=>ya.map(Ae=>Ae(te)).find(Ae=>!!Ae))(Ae)]);const _i=di(mt,Ke.$modeName$);if(!va.has(_i)){const Pi=()=>{};gr(_i,In,!!(1&mt.$flags$)),Pi()}}}const Pn=Ke.$ancestorComponent$,Hn=()=>z(Ke,!0);Pn&&Pn["s-rc"]?Pn["s-rc"].push(Hn):Hn()});return function(Ke,mt,xt,At){return te.apply(this,arguments)}}(),Wt=te=>{Et(te,"connectedCallback")},kn=te=>{const Ae=te["s-cr"]=Cs.createComment("");Ae["s-cn"]=!0,ye(te,Ae,te.firstChild)},Vt=te=>{Et(te,"disconnectedCallback")},on=function(){var te=(0,b.A)(function*(Ae){if(!(1&br.$flags$)){const Ke=es(Ae);Ke.$rmListeners$&&(Ke.$rmListeners$.map(mt=>mt()),Ke.$rmListeners$=void 0),null!=Ke&&Ke.$lazyInstance$?Vt(Ke.$lazyInstance$):null!=Ke&&Ke.$onReadyPromise$&&Ke.$onReadyPromise$.then(()=>Vt(Ke.$lazyInstance$))}});return function(Ke){return te.apply(this,arguments)}}(),le=te=>{const Ae=te.cloneNode;te.cloneNode=function(Ke){const mt=this,xt=mt.shadowRoot&&No,At=Ae.call(mt,!!xt&&Ke);if(!xt&&Ke){let Hn,$n,Pn=0;const In=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-rsc"];for(;Pn<mt.childNodes.length;Pn++)Hn=mt.childNodes[Pn]["s-nr"],$n=In.every(_i=>!mt.childNodes[Pn][_i]),Hn&&(At.__appendChild?At.__appendChild(Hn.cloneNode(!0)):At.appendChild(Hn.cloneNode(!0))),$n&&At.appendChild(mt.childNodes[Pn].cloneNode(!0))}return At}},se=te=>{te.__appendChild=te.appendChild,te.appendChild=function(Ae){const Ke=Ae["s-sn"]=ks(Ae),mt=Xs(this.childNodes,Ke,this.tagName);if(mt){const xt=Ys(mt,Ke),At=xt[xt.length-1],Pn=ye(At.parentNode,Ae,At.nextSibling);return Ne(this),Pn}return this.__appendChild(Ae)}},De=te=>{te.__removeChild=te.removeChild,te.removeChild=function(Ae){if(Ae&&typeof Ae["s-sn"]<"u"){const Ke=Xs(this.childNodes,Ae["s-sn"],this.tagName);if(Ke){const xt=Ys(Ke,Ae["s-sn"]).find(At=>At===Ae);if(xt)return xt.remove(),void Ne(this)}}return this.__removeChild(Ae)}},ee=te=>{const Ae=te.prepend;te.prepend=function(...Ke){Ke.forEach(mt=>{"string"==typeof mt&&(mt=this.ownerDocument.createTextNode(mt));const xt=mt["s-sn"]=ks(mt),At=Xs(this.childNodes,xt,this.tagName);if(At){const Pn=document.createTextNode("");Pn["s-nr"]=mt,At["s-cr"].parentNode.__appendChild(Pn),mt["s-ol"]=Pn;const $n=Ys(At,xt)[0];return ye($n.parentNode,mt,$n.nextSibling)}return 1===mt.nodeType&&mt.getAttribute("slot")&&(mt.hidden=!0),Ae.call(this,mt)})}},Ve=te=>{te.append=function(...Ae){Ae.forEach(Ke=>{"string"==typeof Ke&&(Ke=this.ownerDocument.createTextNode(Ke)),this.appendChild(Ke)})}},Je=te=>{const Ae=te.insertAdjacentHTML;te.insertAdjacentHTML=function(Ke,mt){if("afterbegin"!==Ke&&"beforeend"!==Ke)return Ae.call(this,Ke,mt);const xt=this.ownerDocument.createElement("_");let At;if(xt.innerHTML=mt,"afterbegin"===Ke)for(;At=xt.firstChild;)this.prepend(At);else if("beforeend"===Ke)for(;At=xt.firstChild;)this.append(At)}},rn=te=>{te.insertAdjacentText=function(Ae,Ke){this.insertAdjacentHTML(Ae,Ke)}},Un=te=>{const Ae=te.insertAdjacentElement;te.insertAdjacentElement=function(Ke,mt){return"afterbegin"!==Ke&&"beforeend"!==Ke?Ae.call(this,Ke,mt):"afterbegin"===Ke?(this.prepend(mt),mt):("beforeend"===Ke&&this.append(mt),mt)}},Si=te=>{const Ae=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(te,"__textContent",Ae),Object.defineProperty(te,"textContent",{get(){return" "+mr(this.childNodes).map(xt=>{var At,Pn;const Hn=[];let $n=xt.nextSibling;for(;$n&&$n["s-sn"]===xt["s-sn"];)(3===$n.nodeType||1===$n.nodeType)&&Hn.push(null!=(Pn=null==(At=$n.textContent)?void 0:At.trim())?Pn:""),$n=$n.nextSibling;return Hn.filter(In=>""!==In).join(" ")}).filter(xt=>""!==xt).join(" ")+" "},set(Ke){mr(this.childNodes).forEach(xt=>{let At=xt.nextSibling;for(;At&&At["s-sn"]===xt["s-sn"];){const Pn=At;At=At.nextSibling,Pn.remove()}if(""===xt["s-sn"]){const Pn=this.ownerDocument.createTextNode(Ke);Pn["s-sn"]="",ye(xt.parentElement,Pn,xt.nextSibling)}else xt.remove()})}})},xr=(te,Ae)=>{class Ke extends Array{item(xt){return this[xt]}}if(8&Ae.$flags$){const mt=te.__lookupGetter__("childNodes");Object.defineProperty(te,"children",{get(){return this.childNodes.map(xt=>1===xt.nodeType)}}),Object.defineProperty(te,"childElementCount",{get:()=>te.children.length}),Object.defineProperty(te,"childNodes",{get(){const xt=mt.call(this);if(!(1&br.$flags$)&&2&es(this).$flags$){const At=new Ke;for(let Pn=0;Pn<xt.length;Pn++){const Hn=xt[Pn]["s-nr"];Hn&&At.push(Hn)}return At}return Ke.from(xt)}})}},mr=te=>{const Ae=[];for(const Ke of Array.from(te))Ke["s-sr"]&&Ae.push(Ke),Ae.push(...mr(Ke.childNodes));return Ae},ks=te=>te["s-sn"]||1===te.nodeType&&te.getAttribute("slot")||"",Xs=(te,Ae,Ke)=>{let xt,mt=0;for(;mt<te.length;mt++)if(xt=te[mt],xt["s-sr"]&&xt["s-sn"]===Ae&&xt["s-hn"]===Ke||(xt=Xs(xt.childNodes,Ae,Ke),xt))return xt;return null},Ys=(te,Ae)=>{const Ke=[te];for(;(te=te.nextSibling)&&te["s-sn"]===Ae;)Ke.push(te);return Ke},vs=(te,Ae={})=>{var Ke;const xt=[],At=Ae.exclude||[],Pn=Rr.customElements,Hn=Cs.head,$n=Hn.querySelector("meta[charset]"),In=Cs.createElement("style"),_i=[],Pi=Cs.querySelectorAll(`[${qe}]`);let cr,er=!0,is=0;for(Object.assign(br,Ae),br.$resourcesUrl$=new URL(Ae.resourcesUrl||"./",Cs.baseURI).href,br.$flags$|=2;is<Pi.length;is++)gr(Pi[is].getAttribute(qe),Ot(Pi[is].innerHTML),!0);let lo=!1;if(te.map(Zr=>{Zr[1].map(Us=>{var ts;const ho={$flags$:Us[0],$tagName$:Us[1],$members$:Us[2],$listeners$:Us[3]};4&ho.$flags$&&(lo=!0),ho.$members$=Us[2],ho.$listeners$=Us[3],ho.$attrsToReflect$=[],ho.$watchers$=null!=(ts=Us[4])?ts:{};const Zo=ho.$tagName$,Na=class extends HTMLElement{constructor(Ta){super(Ta),kr(Ta=this,ho),1&ho.$flags$&&Ta.attachShadow({mode:"open",delegatesFocus:!!(16&ho.$flags$)})}connectedCallback(){cr&&(clearTimeout(cr),cr=null),er?_i.push(this):br.jmp(()=>(te=>{if(!(1&br.$flags$)){const Ae=es(te),Ke=Ae.$cmpMeta$,mt=()=>{};if(1&Ae.$flags$)Rs(te,Ae,Ke.$listeners$),null!=Ae&&Ae.$lazyInstance$?Wt(Ae.$lazyInstance$):null!=Ae&&Ae.$onReadyPromise$&&Ae.$onReadyPromise$.then(()=>Wt(Ae.$lazyInstance$));else{let xt;if(Ae.$flags$|=1,xt=te.getAttribute(gt),xt){if(1&Ke.$flags$){const At=Or(te.shadowRoot,Ke,te.getAttribute("s-mode"));te.classList.remove(At+"-h",At+"-s")}((te,Ae,Ke,mt)=>{const At=te.shadowRoot,Pn=[],$n=At?[]:null,In=mt.$vnode$=Zn(Ae,null);br.$orgLocNodes$||Jt(Cs.body,br.$orgLocNodes$=new Map),te[gt]=Ke,te.removeAttribute(gt),It(In,Pn,[],$n,te,te,Ke),Pn.map(_i=>{const Pi=_i.$hostId$+"."+_i.$nodeId$,cr=br.$orgLocNodes$.get(Pi),er=_i.$elm$;cr&&No&&""===cr["s-en"]&&cr.parentNode.insertBefore(er,cr.nextSibling),At||(er["s-hn"]=Ae,cr&&(er["s-ol"]=cr,er["s-ol"]["s-nr"]=er)),br.$orgLocNodes$.delete(Pi)}),At&&$n.map(_i=>{_i&&At.appendChild(_i)})})(te,Ke.$tagName$,xt,Ae)}xt||12&Ke.$flags$&&kn(te);{let At=te;for(;At=At.parentNode||At.host;)if(1===At.nodeType&&At.hasAttribute("s-id")&&At["s-p"]||At["s-p"]){N(Ae,Ae.$ancestorComponent$=At);break}}Ke.$members$&&Object.entries(Ke.$members$).map(([At,[Pn]])=>{if(31&Pn&&te.hasOwnProperty(At)){const Hn=te[At];delete te[At],te[At]=Hn}}),en(te,Ae,Ke)}mt()}})(this))}disconnectedCallback(){br.jmp(()=>on(this))}componentOnReady(){return es(this).$onReadyPromise$}};2&ho.$flags$&&((te,Ae)=>{le(te),se(te),Ve(te),ee(te),Un(te),Je(te),rn(te),Si(te),xr(te,Ae),De(te)})(Na.prototype,ho),ho.$lazyBundleId$=Zr[0],!At.includes(Zo)&&!Pn.get(Zo)&&(xt.push(Zo),Pn.define(Zo,cn(Na,ho,1)))})}),xt.length>0&&(lo&&(In.textContent+=Wn),In.textContent+=xt+"{visibility:hidden}.hydrated{visibility:inherit}",In.innerHTML.length)){In.setAttribute("data-styles","");const Zr=null!=(Ke=br.$nonce$)?Ke:Rt(Cs);null!=Zr&&In.setAttribute("nonce",Zr),Hn.insertBefore(In,$n?$n.nextSibling:Hn.firstChild)}er=!1,_i.length?_i.map(Zr=>Zr.connectedCallback()):br.jmp(()=>cr=setTimeout(Pt,30))},Rs=(te,Ae,Ke,mt)=>{Ke&&Ke.map(([xt,At,Pn])=>{const Hn=ur(te,xt),$n=Js(Ae,Pn),In=ro(xt);br.ael(Hn,At,$n,In),(Ae.$rmListeners$=Ae.$rmListeners$||[]).push(()=>br.rel(Hn,At,$n,In))})},Js=(te,Ae)=>Ke=>{try{256&te.$flags$?te.$lazyInstance$[Ae](Ke):(te.$queuedListeners$=te.$queuedListeners$||[]).push([Ae,Ke])}catch(mt){_r(mt)}},ur=(te,Ae)=>4&Ae?Cs:8&Ae?Rr:16&Ae?Cs.body:te,ro=te=>Yo?{passive:!!(1&te),capture:!!(2&te)}:!!(2&te),Kr=new WeakMap,es=te=>Kr.get(te),Ji=(te,Ae)=>Kr.set(Ae.$lazyInstance$=te,Ae),kr=(te,Ae)=>{const Ke={$flags$:0,$hostElement$:te,$cmpMeta$:Ae,$instanceValues$:new Map};return Ke.$onInstancePromise$=new Promise(mt=>Ke.$onInstanceResolve$=mt),Ke.$onReadyPromise$=new Promise(mt=>Ke.$onReadyResolve$=mt),te["s-p"]=[],te["s-rc"]=[],Rs(te,Ke,Ae.$listeners$),Kr.set(te,Ke)},Ro=(te,Ae)=>Ae in te,_r=(te,Ae)=>(0,console.error)(te,Ae),na=new Map,Oa=(te,Ae,Ke)=>{const mt=te.$tagName$.replace(/-/g,"_"),xt=te.$lazyBundleId$,At=na.get(xt);return At?At[mt]:pe(8996)(`./${xt}.entry.js`).then(Pn=>(na.set(xt,Pn),Pn[mt]),_r)},va=new Map,ya=[],Rr=typeof window<"u"?window:{},Cs=Rr.document||{head:{}},br={$flags$:0,$resourcesUrl$:"",jmp:te=>te(),raf:te=>requestAnimationFrame(te),ael:(te,Ae,Ke,mt)=>te.addEventListener(Ae,Ke,mt),rel:(te,Ae,Ke,mt)=>te.removeEventListener(Ae,Ke,mt),ce:(te,Ae)=>new CustomEvent(te,Ae)},fa=te=>{Object.assign(br,te)},No=!0,Yo=(()=>{let te=!1;try{Cs.addEventListener("e",null,Object.defineProperty({},"passive",{get(){te=!0}}))}catch{}return te})(),ha=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),bo=!1,V=[],ce=[],Le=(te,Ae)=>Ke=>{te.push(Ke),bo||(bo=!0,Ae&&4&br.$flags$?Tt(ze):br.raf(ze))},j=te=>{for(let Ae=0;Ae<te.length;Ae++)try{te[Ae](performance.now())}catch(Ke){_r(Ke)}te.length=0},ze=()=>{j(V),j(ce),(bo=V.length>0)&&br.raf(ze)},Tt=te=>Promise.resolve(void 0).then(te),or=Le(V,!1),qs=Le(ce,!0)},2725:(Bi,xn,pe)=>{"use strict";pe.d(xn,{b:()=>je,c:()=>Zt,d:()=>sn,e:()=>Cn,g:()=>pt,l:()=>Wn,s:()=>Zn,t:()=>jt,w:()=>si});var b=pe(467),p=pe(3664),Ue=pe(9672),St=pe(4929),k=pe(4920);const je="ionViewWillLeave",Zt="ionViewDidLeave",sn="ionViewWillUnload",vt=_e=>{_e.tabIndex=-1,_e.focus()},Ct=_e=>null!==_e.offsetParent,ut="ion-last-focus",zt_saveViewFocus=Ee=>{if(p.c.get("focusManagerPriority",!1)){const It=document.activeElement;null!==It&&null!=Ee&&Ee.contains(It)&&It.setAttribute(ut,"true")}},zt_setViewFocus=Ee=>{const lt=p.c.get("focusManagerPriority",!1);if(Array.isArray(lt)&&!Ee.contains(document.activeElement)){const It=Ee.querySelector(`[${ut}]`);if(It&&Ct(It))return void vt(It);for(const Jt of lt)switch(Jt){case"content":const wt=Ee.querySelector('main, [role="main"]');if(wt&&Ct(wt))return void vt(wt);break;case"heading":const Kn=Ee.querySelector('h1, [role="heading"][aria-level="1"]');if(Kn&&Ct(Kn))return void vt(Kn);break;case"banner":const ir=Ee.querySelector('header, [role="banner"]');if(ir&&Ct(ir))return void vt(ir);break;default:(0,St.p)(`Unrecognized focus manager priority value ${Jt}`)}vt(Ee)}},jt=_e=>new Promise((xe,Ee)=>{(0,Ue.w)(()=>{vn(_e),Kt(_e).then(lt=>{lt.animation&&lt.animation.destroy(),Xt(_e),xe(lt)},lt=>{Xt(_e),Ee(lt)})})}),vn=_e=>{const xe=_e.enteringEl,Ee=_e.leavingEl;zt_saveViewFocus(Ee),pn(xe,Ee,_e.direction),_e.showGoBack?xe.classList.add("can-go-back"):xe.classList.remove("can-go-back"),Zn(xe,!1),xe.style.setProperty("pointer-events","none"),Ee&&(Zn(Ee,!1),Ee.style.setProperty("pointer-events","none"))},Kt=function(){var _e=(0,b.A)(function*(xe){const Ee=yield nt(xe);return Ee&&Ue.B.isBrowser?Ut(Ee,xe):tn(xe)});return function(Ee){return _e.apply(this,arguments)}}(),Xt=_e=>{const xe=_e.enteringEl,Ee=_e.leavingEl;xe.classList.remove("ion-page-invisible"),xe.style.removeProperty("pointer-events"),void 0!==Ee&&(Ee.classList.remove("ion-page-invisible"),Ee.style.removeProperty("pointer-events")),zt_setViewFocus(xe)},nt=function(){var _e=(0,b.A)(function*(xe){return xe.leavingEl&&xe.animated&&0!==xe.duration?xe.animationBuilder?xe.animationBuilder:"ios"===xe.mode?(yield Promise.resolve().then(pe.bind(pe,8454))).iosTransitionAnimation:(yield Promise.resolve().then(pe.bind(pe,3314))).mdTransitionAnimation:void 0});return function(Ee){return _e.apply(this,arguments)}}(),Ut=function(){var _e=(0,b.A)(function*(xe,Ee){yield an(Ee,!0);const lt=xe(Ee.baseEl,Ee);Dt(Ee.enteringEl,Ee.leavingEl);const It=yield qe(lt,Ee);return Ee.progressCallback&&Ee.progressCallback(void 0),It&&nn(Ee.enteringEl,Ee.leavingEl),{hasCompleted:It,animation:lt}});return function(Ee,lt){return _e.apply(this,arguments)}}(),tn=function(){var _e=(0,b.A)(function*(xe){const Ee=xe.enteringEl,lt=xe.leavingEl,It=p.c.get("focusManagerPriority",!1);return yield an(xe,It),Dt(Ee,lt),nn(Ee,lt),{hasCompleted:!0}});return function(Ee){return _e.apply(this,arguments)}}(),an=function(){var _e=(0,b.A)(function*(xe,Ee){(void 0!==xe.deepWait?xe.deepWait:Ee)&&(yield Promise.all([Cn(xe.enteringEl),Cn(xe.leavingEl)])),yield gt(xe.viewIsReady,xe.enteringEl)});return function(Ee,lt){return _e.apply(this,arguments)}}(),gt=function(){var _e=(0,b.A)(function*(xe,Ee){xe&&(yield xe(Ee))});return function(Ee,lt){return _e.apply(this,arguments)}}(),qe=(_e,xe)=>{const Ee=xe.progressCallback,lt=new Promise(It=>{_e.onFinish(Jt=>It(1===Jt))});return Ee?(_e.progressStart(!0),Ee(_e)):_e.play(),lt},Dt=(_e,xe)=>{Wn(xe,je),Wn(_e,"ionViewWillEnter")},nn=(_e,xe)=>{Wn(_e,"ionViewDidEnter"),Wn(xe,Zt)},Wn=(_e,xe)=>{if(_e){const Ee=new CustomEvent(xe,{bubbles:!1,cancelable:!1});_e.dispatchEvent(Ee)}},si=()=>new Promise(_e=>(0,k.r)(()=>(0,k.r)(()=>_e()))),Cn=function(){var _e=(0,b.A)(function*(xe){const Ee=xe;if(Ee){if(null!=Ee.componentOnReady){if(null!=(yield Ee.componentOnReady()))return}else if(null!=Ee.__registerHost)return void(yield new Promise(It=>(0,k.r)(It)));yield Promise.all(Array.from(Ee.children).map(Cn))}});return function(Ee){return _e.apply(this,arguments)}}(),Zn=(_e,xe)=>{xe?(_e.setAttribute("aria-hidden","true"),_e.classList.add("ion-page-hidden")):(_e.hidden=!1,_e.removeAttribute("aria-hidden"),_e.classList.remove("ion-page-hidden"))},pn=(_e,xe,Ee)=>{void 0!==_e&&(_e.style.zIndex="back"===Ee?"99":"101"),void 0!==xe&&(xe.style.zIndex="100")},pt=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},4929:(Bi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>p,b:()=>Ue,p:()=>b});const b=(St,...k)=>console.warn(`[Ionic Warning]: ${St}`,...k),p=(St,...k)=>console.error(`[Ionic Error]: ${St}`,...k),Ue=(St,...k)=>console.error(`<${St.tagName.toLowerCase()}> must be used inside ${k.join(" or ")}.`)},8476:(Bi,xn,pe)=>{"use strict";pe.d(xn,{d:()=>p,w:()=>b});const b=typeof window<"u"?window:void 0,p=typeof document<"u"?document:void 0},3664:(Bi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>vt,b:()=>Zn,c:()=>Ue,i:()=>pn});var b=pe(9672);class p{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,xe){const Ee=this.m.get(_e);return void 0!==Ee?Ee:xe}getBoolean(_e,xe=!1){const Ee=this.m.get(_e);return void 0===Ee?xe:"string"==typeof Ee?"true"===Ee:!!Ee}getNumber(_e,xe){const Ee=parseFloat(this.m.get(_e));return isNaN(Ee)?void 0!==xe?xe:NaN:Ee}set(_e,xe){this.m.set(_e,xe)}}const Ue=new p,Zt="ionic-persist-config",vt=(pt,_e)=>("string"==typeof pt&&(_e=pt,pt=void 0),(pt=>Ct(pt))(pt).includes(_e)),Ct=(pt=window)=>{if(typeof pt>"u")return[];pt.Ionic=pt.Ionic||{};let _e=pt.Ionic.platforms;return null==_e&&(_e=pt.Ionic.platforms=Rt(pt),_e.forEach(xe=>pt.document.documentElement.classList.add(`plt-${xe}`))),_e},Rt=pt=>{const _e=Ue.get("platform");return Object.keys(si).filter(xe=>{const Ee=null==_e?void 0:_e[xe];return"function"==typeof Ee?Ee(pt):si[xe](pt)})},Lt=pt=>!!(nn(pt,/iPad/i)||nn(pt,/Macintosh/i)&&nt(pt)),jt=pt=>nn(pt,/android|sink/i),nt=pt=>Wn(pt,"(any-pointer:coarse)"),tn=pt=>an(pt)||gt(pt),an=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),gt=pt=>{const _e=pt.Capacitor;return!(null==_e||!_e.isNative)},nn=(pt,_e)=>_e.test(pt.navigator.userAgent),Wn=(pt,_e)=>{var xe;return null===(xe=pt.matchMedia)||void 0===xe?void 0:xe.call(pt,_e).matches},si={ipad:Lt,iphone:pt=>nn(pt,/iPhone/i),ios:pt=>nn(pt,/iPhone|iPod/i)||Lt(pt),android:jt,phablet:pt=>{const _e=pt.innerWidth,xe=pt.innerHeight,Ee=Math.min(_e,xe),lt=Math.max(_e,xe);return Ee>390&&Ee<520&&lt>620&&lt<800},tablet:pt=>{const _e=pt.innerWidth,xe=pt.innerHeight,Ee=Math.min(_e,xe),lt=Math.max(_e,xe);return Lt(pt)||(pt=>jt(pt)&&!nn(pt,/mobile/i))(pt)||Ee>460&&Ee<820&&lt>780&&lt<1400},cordova:an,capacitor:gt,electron:pt=>nn(pt,/electron/i),pwa:pt=>{var _e;return!!(null!==(_e=pt.matchMedia)&&void 0!==_e&&_e.call(pt,"(display-mode: standalone)").matches||pt.navigator.standalone)},mobile:nt,mobileweb:pt=>nt(pt)&&!tn(pt),desktop:pt=>!nt(pt),hybrid:tn};let Cn;const Zn=pt=>pt&&(0,b.g)(pt)||Cn,pn=(pt={})=>{if(typeof window>"u")return;const _e=window.document,xe=window,Ee=xe.Ionic=xe.Ionic||{},lt={};pt._ael&&(lt.ael=pt._ael),pt._rel&&(lt.rel=pt._rel),pt._ce&&(lt.ce=pt._ce),(0,b.a)(lt);const It=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(pt=>{try{const _e=pt.sessionStorage.getItem(Zt);return null!==_e?JSON.parse(_e):{}}catch{return{}}})(xe)),{persistConfig:!1}),Ee.config),(pt=>{const _e={};return pt.location.search.slice(1).split("&").map(xe=>xe.split("=")).map(([xe,Ee])=>{try{return[decodeURIComponent(xe),decodeURIComponent(Ee)]}catch{return["",""]}}).filter(([xe])=>((pt,_e)=>pt.substr(0,_e.length)===_e)(xe,"ionic:")).map(([xe,Ee])=>[xe.slice(6),Ee]).forEach(([xe,Ee])=>{_e[xe]=Ee}),_e})(xe)),pt);Ue.reset(It),Ue.getBoolean("persistConfig")&&((pt,_e)=>{try{pt.sessionStorage.setItem(Zt,JSON.stringify(_e))}catch{return}})(xe,It),Ct(xe),Ee.config=Ue,Ee.mode=Cn=Ue.get("mode",_e.documentElement.getAttribute("mode")||(vt(xe,"ios")?"ios":"md")),Ue.set("mode",Cn),_e.documentElement.setAttribute("mode",Cn),_e.documentElement.classList.add(Cn),Ue.getBoolean("_testing")&&Ue.set("animated",!1);const Jt=Kn=>{var ir;return null===(ir=Kn.tagName)||void 0===ir?void 0:ir.startsWith("ION-")},wt=Kn=>["ios","md"].includes(Kn);(0,b.c)(Kn=>{for(;Kn;){const ir=Kn.mode||Kn.getAttribute("mode");if(ir){if(wt(ir))return ir;Jt(Kn)&&console.warn('Invalid ionic mode: "'+ir+'", expected: "ios" or "md"')}Kn=Kn.parentElement}return Cn})}},8454:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{iosTransitionAnimation:()=>ut,shadow:()=>je});var b=pe(9986),p=pe(2725);pe(8476),pe(3664),pe(9672);const Be=dn=>document.querySelector(`${dn}.ion-cloned-element`),je=dn=>dn.shadowRoot||dn,Zt=dn=>{const zt="ION-TABS"===dn.tagName?dn:dn.querySelector("ion-tabs"),jt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=zt){const vn=zt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vn?vn.querySelector(jt):null}return dn.querySelector(jt)},sn=(dn,zt)=>{const jt="ION-TABS"===dn.tagName?dn:dn.querySelector("ion-tabs");let vn=[];if(null!=jt){const Kt=jt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Kt&&(vn=Kt.querySelectorAll("ion-buttons"))}else vn=dn.querySelectorAll("ion-buttons");for(const Kt of vn){const Xt=Kt.closest("ion-header"),nt=Xt&&!Xt.classList.contains("header-collapse-condense-inactive"),Ut=Kt.querySelector("ion-back-button"),tn=Kt.classList.contains("buttons-collapse");if(null!==Ut&&("start"===Kt.slot||""===Kt.slot)&&(tn&&nt&&zt||!tn))return Ut}return null},Ct=(dn,zt,jt,vn,Kt,Xt,nt,Ut,tn)=>{var an,gt;const qe=zt?`calc(100% - ${Kt.right+4}px)`:Kt.left-4+"px",Dt=zt?"right":"left",nn=zt?"left":"right",Wn=zt?"right":"left";let si=1,Cn=1,Zn=`scale(${Cn})`;const pn="scale(1)";if(Xt&&nt){const wn=(null===(an=Xt.textContent)||void 0===an?void 0:an.trim())===(null===(gt=Ut.textContent)||void 0===gt?void 0:gt.trim());si=tn.width/nt.width,Cn=(tn.height-Lt)/nt.height,Zn=wn?`scale(${si}, ${Cn})`:`scale(${Cn})`}const _e=je(vn).querySelector("ion-icon").getBoundingClientRect(),xe=zt?_e.width/2-(_e.right-Kt.right)+"px":Kt.left-_e.width/2+"px",Ee=zt?`-${window.innerWidth-Kt.right}px`:`${Kt.left}px`,lt=`${tn.top}px`,It=`${Kt.top}px`,Kn=jt?[{offset:0,transform:`translate3d(${Ee}, ${It}, 0)`},{offset:1,transform:`translate3d(${xe}, ${lt}, 0)`}]:[{offset:0,transform:`translate3d(${xe}, ${lt}, 0)`},{offset:1,transform:`translate3d(${Ee}, ${It}, 0)`}],Qi=jt?[{offset:0,opacity:1,transform:pn},{offset:1,opacity:0,transform:Zn}]:[{offset:0,opacity:0,transform:Zn},{offset:1,opacity:1,transform:pn}],pr=jt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],gr=(0,b.c)(),Or=(0,b.c)(),Vr=(0,b.c)(),di=Be("ion-back-button"),Ot=je(di).querySelector(".button-text"),fn=je(di).querySelector("ion-icon");di.text=vn.text,di.mode=vn.mode,di.icon=vn.icon,di.color=vn.color,di.disabled=vn.disabled,di.style.setProperty("display","block"),di.style.setProperty("position","fixed"),Or.addElement(fn),gr.addElement(Ot),Vr.addElement(di),Vr.beforeStyles({position:"absolute",top:"0px",[Wn]:"0px"}).beforeAddWrite(()=>{vn.style.setProperty("display","none"),di.style.setProperty(Dt,qe)}).afterAddWrite(()=>{vn.style.setProperty("display",""),di.style.setProperty("display","none"),di.style.removeProperty(Dt)}).keyframes(Kn),gr.beforeStyles({"transform-origin":`${Dt} top`}).keyframes(Qi),Or.beforeStyles({"transform-origin":`${nn} center`}).keyframes(pr),dn.addAnimation([gr,Or,Vr])},Rt=(dn,zt,jt,vn,Kt,Xt,nt,Ut,tn)=>{var an,gt;const qe=zt?"right":"left",Dt=zt?`calc(100% - ${Kt.right}px)`:`${Kt.left}px`,Wn=`${Kt.top}px`;let Cn=zt?`-${window.innerWidth-nt.right-8}px`:`${nt.x+8}px`,Zn=.5;const pn="scale(1)";let pt=`scale(${Zn})`;if(Ut&&tn){Cn=zt?`-${window.innerWidth-tn.right-8}px`:tn.x-8+"px";const ir=(null===(an=Ut.textContent)||void 0===an?void 0:an.trim())===(null===(gt=vn.textContent)||void 0===gt?void 0:gt.trim());Zn=tn.height/(Xt.height-Lt),pt=ir?`scale(${tn.width/Xt.width}, ${Zn})`:`scale(${Zn})`}const Ee=nt.top+nt.height/2-Kt.height*Zn/2+"px",Jt=jt?[{offset:0,opacity:0,transform:`translate3d(${Cn}, ${Ee}, 0) ${pt}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Wn}, 0) ${pn}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Wn}, 0) ${pn}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Cn}, ${Ee}, 0) ${pt}`}],wt=Be("ion-title"),Kn=(0,b.c)();wt.innerText=vn.innerText,wt.size=vn.size,wt.color=vn.color,Kn.addElement(wt),Kn.beforeStyles({"transform-origin":`${qe} top`,height:`${Kt.height}px`,display:"",position:"relative",[qe]:Dt}).beforeAddWrite(()=>{vn.style.setProperty("opacity","0")}).afterAddWrite(()=>{vn.style.setProperty("opacity",""),wt.style.setProperty("display","none")}).keyframes(Jt),dn.addAnimation(Kn)},ut=(dn,zt)=>{var jt;try{const vn="cubic-bezier(0.32,0.72,0,1)",Kt="opacity",Xt="transform",nt="0%",tn="rtl"===dn.ownerDocument.dir,an=tn?"-99.5%":"99.5%",gt=tn?"33%":"-33%",qe=zt.enteringEl,Dt=zt.leavingEl,nn="back"===zt.direction,Wn=qe.querySelector(":scope > ion-content"),si=qe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Cn=qe.querySelectorAll(":scope > ion-header > ion-toolbar"),Zn=(0,b.c)(),pn=(0,b.c)();if(Zn.addElement(qe).duration((null!==(jt=zt.duration)&&void 0!==jt?jt:0)||540).easing(zt.easing||vn).fill("both").beforeRemoveClass("ion-page-invisible"),Dt&&null!=dn){const Ee=(0,b.c)();Ee.addElement(dn),Zn.addAnimation(Ee)}if(Wn||0!==Cn.length||0!==si.length?(pn.addElement(Wn),pn.addElement(si)):pn.addElement(qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Zn.addAnimation(pn),nn?pn.beforeClearStyles([Kt]).fromTo("transform",`translateX(${gt})`,`translateX(${nt})`).fromTo(Kt,.8,1):pn.beforeClearStyles([Kt]).fromTo("transform",`translateX(${an})`,`translateX(${nt})`),Wn){const Ee=je(Wn).querySelector(".transition-effect");if(Ee){const lt=Ee.querySelector(".transition-cover"),It=Ee.querySelector(".transition-shadow"),Jt=(0,b.c)(),wt=(0,b.c)(),Kn=(0,b.c)();Jt.addElement(Ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),wt.addElement(lt).beforeClearStyles([Kt]).fromTo(Kt,0,.1),Kn.addElement(It).beforeClearStyles([Kt]).fromTo(Kt,.03,.7),Jt.addAnimation([wt,Kn]),pn.addAnimation([Jt])}}const pt=qe.querySelector("ion-header.header-collapse-condense"),{forward:_e,backward:xe}=((dn,zt,jt,vn,Kt)=>{const Xt=sn(vn,jt),nt=Zt(Kt),Ut=Zt(vn),tn=sn(Kt,jt),an=null!==Xt&&null!==nt&&!jt,gt=null!==Ut&&null!==tn&&jt;if(an){const qe=nt.getBoundingClientRect(),Dt=Xt.getBoundingClientRect(),nn=je(Xt).querySelector(".button-text"),Wn=null==nn?void 0:nn.getBoundingClientRect(),Cn=je(nt).querySelector(".toolbar-title").getBoundingClientRect();Rt(dn,zt,jt,nt,qe,Cn,Dt,nn,Wn),Ct(dn,zt,jt,Xt,Dt,nn,Wn,nt,Cn)}else if(gt){const qe=Ut.getBoundingClientRect(),Dt=tn.getBoundingClientRect(),nn=je(tn).querySelector(".button-text"),Wn=null==nn?void 0:nn.getBoundingClientRect(),Cn=je(Ut).querySelector(".toolbar-title").getBoundingClientRect();Rt(dn,zt,jt,Ut,qe,Cn,Dt,nn,Wn),Ct(dn,zt,jt,tn,Dt,nn,Wn,Ut,Cn)}return{forward:an,backward:gt}})(Zn,tn,nn,qe,Dt);if(Cn.forEach(Ee=>{const lt=(0,b.c)();lt.addElement(Ee),Zn.addAnimation(lt);const It=(0,b.c)();It.addElement(Ee.querySelector("ion-title"));const Jt=(0,b.c)(),wt=Array.from(Ee.querySelectorAll("ion-buttons,[menuToggle]")),Kn=Ee.closest("ion-header"),ir=null==Kn?void 0:Kn.classList.contains("header-collapse-condense-inactive");let hi;hi=wt.filter(nn?gr=>{const Or=gr.classList.contains("buttons-collapse");return Or&&!ir||!Or}:gr=>!gr.classList.contains("buttons-collapse")),Jt.addElement(hi);const Qi=(0,b.c)();Qi.addElement(Ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Gi=(0,b.c)();Gi.addElement(je(Ee).querySelector(".toolbar-background"));const ar=(0,b.c)(),pr=Ee.querySelector("ion-back-button");if(pr&&ar.addElement(pr),lt.addAnimation([It,Jt,Qi,Gi,ar]),Jt.fromTo(Kt,.01,1),Qi.fromTo(Kt,.01,1),nn)ir||It.fromTo("transform",`translateX(${gt})`,`translateX(${nt})`).fromTo(Kt,.01,1),Qi.fromTo("transform",`translateX(${gt})`,`translateX(${nt})`),ar.fromTo(Kt,.01,1);else if(pt||It.fromTo("transform",`translateX(${an})`,`translateX(${nt})`).fromTo(Kt,.01,1),Qi.fromTo("transform",`translateX(${an})`,`translateX(${nt})`),Gi.beforeClearStyles([Kt,"transform"]),(null==Kn?void 0:Kn.translucent)?Gi.fromTo("transform",tn?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Gi.fromTo(Kt,.01,"var(--opacity)"),_e||ar.fromTo(Kt,.01,1),pr&&!_e){const Or=(0,b.c)();Or.addElement(je(pr).querySelector(".button-text")).fromTo("transform",tn?"translateX(-100px)":"translateX(100px)","translateX(0px)"),lt.addAnimation(Or)}}),Dt){const Ee=(0,b.c)(),lt=Dt.querySelector(":scope > ion-content"),It=Dt.querySelectorAll(":scope > ion-header > ion-toolbar"),Jt=Dt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(lt||0!==It.length||0!==Jt.length?(Ee.addElement(lt),Ee.addElement(Jt)):Ee.addElement(Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Zn.addAnimation(Ee),nn){Ee.beforeClearStyles([Kt]).fromTo("transform",`translateX(${nt})`,tn?"translateX(-100%)":"translateX(100%)");const wt=(0,p.g)(Dt);Zn.afterAddWrite(()=>{"normal"===Zn.getDirection()&&wt.style.setProperty("display","none")})}else Ee.fromTo("transform",`translateX(${nt})`,`translateX(${gt})`).fromTo(Kt,1,.8);if(lt){const wt=je(lt).querySelector(".transition-effect");if(wt){const Kn=wt.querySelector(".transition-cover"),ir=wt.querySelector(".transition-shadow"),hi=(0,b.c)(),Qi=(0,b.c)(),Gi=(0,b.c)();hi.addElement(wt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Qi.addElement(Kn).beforeClearStyles([Kt]).fromTo(Kt,.1,0),Gi.addElement(ir).beforeClearStyles([Kt]).fromTo(Kt,.7,.03),hi.addAnimation([Qi,Gi]),Ee.addAnimation([hi])}}It.forEach(wt=>{const Kn=(0,b.c)();Kn.addElement(wt);const ir=(0,b.c)();ir.addElement(wt.querySelector("ion-title"));const hi=(0,b.c)(),Qi=wt.querySelectorAll("ion-buttons,[menuToggle]"),Gi=wt.closest("ion-header"),ar=null==Gi?void 0:Gi.classList.contains("header-collapse-condense-inactive"),pr=Array.from(Qi).filter(fn=>{const wn=fn.classList.contains("buttons-collapse");return wn&&!ar||!wn});hi.addElement(pr);const gr=(0,b.c)(),Or=wt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Or.length>0&&gr.addElement(Or);const Vr=(0,b.c)();Vr.addElement(je(wt).querySelector(".toolbar-background"));const di=(0,b.c)(),Ot=wt.querySelector("ion-back-button");if(Ot&&di.addElement(Ot),Kn.addAnimation([ir,hi,gr,di,Vr]),Zn.addAnimation(Kn),di.fromTo(Kt,.99,0),hi.fromTo(Kt,.99,0),gr.fromTo(Kt,.99,0),nn){if(ar||ir.fromTo("transform",`translateX(${nt})`,tn?"translateX(-100%)":"translateX(100%)").fromTo(Kt,.99,0),gr.fromTo("transform",`translateX(${nt})`,tn?"translateX(-100%)":"translateX(100%)"),Vr.beforeClearStyles([Kt,"transform"]),(null==Gi?void 0:Gi.translucent)?Vr.fromTo("transform","translateX(0px)",tn?"translateX(-100%)":"translateX(100%)"):Vr.fromTo(Kt,"var(--opacity)",0),Ot&&!xe){const wn=(0,b.c)();wn.addElement(je(Ot).querySelector(".button-text")).fromTo("transform",`translateX(${nt})`,`translateX(${(tn?-124:124)+"px"})`),Kn.addAnimation(wn)}}else ar||ir.fromTo("transform",`translateX(${nt})`,`translateX(${gt})`).fromTo(Kt,.99,0).afterClearStyles([Xt,Kt]),gr.fromTo("transform",`translateX(${nt})`,`translateX(${gt})`).afterClearStyles([Xt,Kt]),di.afterClearStyles([Kt]),ir.afterClearStyles([Kt]),hi.afterClearStyles([Kt])})}return Zn}catch(vn){throw vn}},Lt=10},3314:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{mdTransitionAnimation:()=>Nt});var b=pe(9986),p=pe(2725);pe(8476),pe(3664),pe(9672);const Nt=(Be,je)=>{var Zt,sn,vt;const ut="back"===je.direction,dn=je.leavingEl,zt=(0,p.g)(je.enteringEl),jt=zt.querySelector("ion-toolbar"),vn=(0,b.c)();if(vn.addElement(zt).fill("both").beforeRemoveClass("ion-page-invisible"),ut?vn.duration((null!==(Zt=je.duration)&&void 0!==Zt?Zt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vn.duration((null!==(sn=je.duration)&&void 0!==sn?sn:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),jt){const Kt=(0,b.c)();Kt.addElement(jt),vn.addAnimation(Kt)}if(dn&&ut){vn.duration((null!==(vt=je.duration)&&void 0!==vt?vt:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Kt=(0,b.c)();Kt.addElement((0,p.g)(dn)).onFinish(Xt=>{1===Xt&&Kt.elements.length>0&&Kt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vn.addAnimation(Kt)}return vn}},6002:(Bi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>Qi,F:()=>di,G:()=>Gi,O:()=>ar,a:()=>zt,b:()=>jt,c:()=>nt,d:()=>pr,e:()=>gr,f:()=>_e,g:()=>Ee,h:()=>Jt,i:()=>Kn,j:()=>tn,k:()=>an,m:()=>Kt,n:()=>sn,o:()=>pn,q:()=>vt,s:()=>hi});var b=pe(467),p=pe(8476),Ue=pe(4920),St=pe(6411),k=pe(3664),Nt=pe(8621),Be=pe(1970),je=pe(4929);const Zt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',sn=(Ot,fn)=>{const wn=Ot.querySelector(Zt);Ct(wn,null!=fn?fn:Ot)},vt=(Ot,fn)=>{const wn=Array.from(Ot.querySelectorAll(Zt));Ct(wn.length>0?wn[wn.length-1]:null,null!=fn?fn:Ot)},Ct=(Ot,fn)=>{let wn=Ot;const ai=null==Ot?void 0:Ot.shadowRoot;ai&&(wn=ai.querySelector(Zt)||Ot),wn?(0,Ue.f)(wn):fn.focus()};let Rt=0,ut=0;const Lt=new WeakMap,dn=Ot=>({create:fn=>gt(Ot,fn),dismiss:(fn,wn,ai)=>si(document,fn,wn,Ot,ai),getTop:()=>(0,b.A)(function*(){return pn(document,Ot)})()}),zt=dn("ion-alert"),jt=dn("ion-action-sheet"),Kt=dn("ion-modal"),nt=dn("ion-popover"),tn=Ot=>{typeof document<"u"&&Wn(document);const fn=Rt++;Ot.overlayIndex=fn},an=Ot=>(Ot.hasAttribute("id")||(Ot.id="ion-overlay-"+ ++ut),Ot.id),gt=(Ot,fn)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ot).then(()=>{const wn=document.createElement(Ot);return wn.classList.add("overlay-hidden"),Object.assign(wn,Object.assign(Object.assign({},fn),{hasController:!0})),lt(document).appendChild(wn),new Promise(ai=>(0,Ue.c)(wn,ai))}):Promise.resolve(),Dt=(Ot,fn)=>{let wn=Ot;const ai=null==Ot?void 0:Ot.shadowRoot;ai&&(wn=ai.querySelector(Zt)||Ot),wn?(0,Ue.f)(wn):fn.focus()},Wn=Ot=>{0===Rt&&(Rt=1,Ot.addEventListener("focus",fn=>{((Ot,fn)=>{const wn=pn(fn,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ai=Ot.target;wn&&ai&&!wn.classList.contains(di)&&(wn.shadowRoot?(()=>{if(wn.contains(ai))wn.lastFocus=ai;else if("ION-TOAST"===ai.tagName)Dt(wn.lastFocus,wn);else{const vr=wn.lastFocus;sn(wn),vr===fn.activeElement&&vt(wn),wn.lastFocus=fn.activeElement}})():(()=>{if(wn===ai)wn.lastFocus=void 0;else if("ION-TOAST"===ai.tagName)Dt(wn.lastFocus,wn);else{const vr=(0,Ue.g)(wn);if(!vr.contains(ai))return;const Ci=vr.querySelector(".ion-overlay-wrapper");if(!Ci)return;if(Ci.contains(ai)||ai===vr.querySelector("ion-backdrop"))wn.lastFocus=ai;else{const Ei=wn.lastFocus;sn(Ci,wn),Ei===fn.activeElement&&vt(Ci,wn),wn.lastFocus=fn.activeElement}}})())})(fn,Ot)},!0),Ot.addEventListener("ionBackButton",fn=>{const wn=pn(Ot);null!=wn&&wn.backdropDismiss&&fn.detail.register(St.OVERLAY_BACK_BUTTON_PRIORITY,()=>{wn.dismiss(void 0,Qi)})}),(0,St.shouldUseCloseWatcher)()||Ot.addEventListener("keydown",fn=>{if("Escape"===fn.key){const wn=pn(Ot);null!=wn&&wn.backdropDismiss&&wn.dismiss(void 0,Qi)}}))},si=(Ot,fn,wn,ai,sr)=>{const Hr=pn(Ot,ai,sr);return Hr?Hr.dismiss(fn,wn):Promise.reject("overlay does not exist")},Zn=(Ot,fn)=>((Ot,fn)=>(void 0===fn&&(fn="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ot.querySelectorAll(fn)).filter(wn=>wn.overlayIndex>0)))(Ot,fn).filter(wn=>!(Ot=>Ot.classList.contains("overlay-hidden"))(wn)),pn=(Ot,fn,wn)=>{const ai=Zn(Ot,fn);return void 0===wn?ai[ai.length-1]:ai.find(sr=>sr.id===wn)},pt=(Ot=!1)=>{const wn=lt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");wn&&(Ot?wn.setAttribute("aria-hidden","true"):wn.removeAttribute("aria-hidden"))},_e=function(){var Ot=(0,b.A)(function*(fn,wn,ai,sr,Hr){var vr,Ci;if(fn.presented)return;pt(!0),document.body.classList.add(Be.B),Or(fn.el),fn.presented=!0,fn.willPresent.emit(),null===(vr=fn.willPresentShorthand)||void 0===vr||vr.emit();const Ei=(0,k.b)(fn),lr=fn.enterAnimation?fn.enterAnimation:k.c.get(wn,"ios"===Ei?ai:sr);(yield It(fn,lr,fn.el,Hr))&&(fn.didPresent.emit(),null===(Ci=fn.didPresentShorthand)||void 0===Ci||Ci.emit()),"ION-TOAST"!==fn.el.tagName&&xe(fn.el),fn.keyboardClose&&(null===document.activeElement||!fn.el.contains(document.activeElement))&&fn.el.focus(),fn.el.removeAttribute("aria-hidden")});return function(wn,ai,sr,Hr,vr){return Ot.apply(this,arguments)}}(),xe=function(){var Ot=(0,b.A)(function*(fn){let wn=document.activeElement;if(!wn)return;const ai=null==wn?void 0:wn.shadowRoot;ai&&(wn=ai.querySelector(Zt)||wn),yield fn.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&wn.focus()});return function(wn){return Ot.apply(this,arguments)}}(),Ee=function(){var Ot=(0,b.A)(function*(fn,wn,ai,sr,Hr,vr,Ci){var Ei,lr;if(!fn.presented)return!1;void 0!==p.d&&1===Zn(p.d).length&&(pt(!1),document.body.classList.remove(Be.B)),fn.presented=!1;try{fn.el.style.setProperty("pointer-events","none"),fn.willDismiss.emit({data:wn,role:ai}),null===(Ei=fn.willDismissShorthand)||void 0===Ei||Ei.emit({data:wn,role:ai});const Lr=(0,k.b)(fn),Fr=fn.leaveAnimation?fn.leaveAnimation:k.c.get(sr,"ios"===Lr?Hr:vr);ai!==Gi&&(yield It(fn,Fr,fn.el,Ci)),fn.didDismiss.emit({data:wn,role:ai}),null===(lr=fn.didDismissShorthand)||void 0===lr||lr.emit({data:wn,role:ai}),(Lt.get(fn)||[]).forEach(us=>us.destroy()),Lt.delete(fn),fn.el.classList.add("overlay-hidden"),fn.el.style.removeProperty("pointer-events"),void 0!==fn.el.lastFocus&&(fn.el.lastFocus=void 0)}catch(Lr){console.error(Lr)}return fn.el.remove(),Vr(),!0});return function(wn,ai,sr,Hr,vr,Ci,Ei){return Ot.apply(this,arguments)}}(),lt=Ot=>Ot.querySelector("ion-app")||Ot.body,It=function(){var Ot=(0,b.A)(function*(fn,wn,ai,sr){ai.classList.remove("overlay-hidden");const vr=wn(fn.el,sr);(!fn.animated||!k.c.getBoolean("animated",!0))&&vr.duration(0),fn.keyboardClose&&vr.beforeAddWrite(()=>{const Ei=ai.ownerDocument.activeElement;null!=Ei&&Ei.matches("input,ion-input, ion-textarea")&&Ei.blur()});const Ci=Lt.get(fn)||[];return Lt.set(fn,[...Ci,vr]),yield vr.play(),!0});return function(wn,ai,sr,Hr){return Ot.apply(this,arguments)}}(),Jt=(Ot,fn)=>{let wn;const ai=new Promise(sr=>wn=sr);return wt(Ot,fn,sr=>{wn(sr.detail)}),ai},wt=(Ot,fn,wn)=>{const ai=sr=>{(0,Ue.b)(Ot,fn,ai),wn(sr)};(0,Ue.a)(Ot,fn,ai)},Kn=Ot=>"cancel"===Ot||Ot===Qi,ir=Ot=>Ot(),hi=(Ot,fn)=>{if("function"==typeof Ot)return k.c.get("_zoneGate",ir)(()=>{try{return Ot(fn)}catch(ai){throw ai}})},Qi="backdrop",Gi="gesture",ar=39,pr=Ot=>{let wn,fn=!1;const ai=(0,Nt.C)(),sr=(Ci=!1)=>{if(wn&&!Ci)return{delegate:wn,inline:fn};const{el:Ei,hasController:lr,delegate:cs}=Ot;return fn=null!==Ei.parentNode&&!lr,wn=fn?cs||ai:cs,{inline:fn,delegate:wn}};return{attachViewToDom:function(){var Ci=(0,b.A)(function*(Ei){const{delegate:lr}=sr(!0);if(lr)return yield lr.attachViewToDom(Ot.el,Ei);const{hasController:cs}=Ot;if(cs&&void 0!==Ei)throw new Error("framework delegate is missing");return null});return function(lr){return Ci.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Ci}=sr();Ci&&void 0!==Ot.el&&Ci.removeViewFromDom(Ot.el.parentElement,Ot.el)}}},gr=()=>{let Ot;const fn=()=>{Ot&&(Ot(),Ot=void 0)};return{addClickListener:(ai,sr)=>{fn();const Hr=void 0!==sr?document.getElementById(sr):null;Hr?Ot=((Ci,Ei)=>{const lr=()=>{Ei.present()};return Ci.addEventListener("click",lr),()=>{Ci.removeEventListener("click",lr)}})(Hr,ai):(0,je.p)(`A trigger element with the ID "${sr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ai)},removeClickListener:fn}},Or=Ot=>{var fn;if(void 0===p.d)return;const wn=Zn(p.d);for(let ai=wn.length-1;ai>=0;ai--){const sr=wn[ai],Hr=null!==(fn=wn[ai+1])&&void 0!==fn?fn:Ot;(Hr.hasAttribute("aria-hidden")||"ION-TOAST"!==Hr.tagName)&&sr.setAttribute("aria-hidden","true")}},Vr=()=>{if(void 0===p.d)return;const Ot=Zn(p.d);for(let fn=Ot.length-1;fn>=0;fn--){const wn=Ot[fn];if(wn.removeAttribute("aria-hidden"),"ION-TOAST"!==wn.tagName)break}},di="ion-disable-focus-trap"},3971:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{HistoriaPageModule:()=>Rt});var b=pe(177),p=pe(4341),Ue=pe(7863),St=pe(70),k=pe(4438);function Nt(ut,Lt){1&ut&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Empresa de energ\xeda solar enfocada en desarrollar y fortalecer la transici\xf3n hacia un modelo de generaci\xf3n el\xe9ctrica descentralizado, resiliente y sostenible. "),k.k0s()())}function Be(ut,Lt){1&ut&&(k.j41(0,"div")(1,"p",61),k.EFF(2," Formar parte activa de la transici\xf3n energ\xe9tica sostenible del Ecuador, ofreciendo soluciones de ahorro de energ\xeda y sostenibilidad mediante la integraci\xf3n de un sistema fotovoltaico. Ajustados a las necesidades de cada cliente y proyecto."),k.k0s()())}function je(ut,Lt){1&ut&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Trabajar con el objetivo de convertirnos en empresa l\xedder en el sector de las energ\xedas renovables y eficiencia energ\xe9tica en Latino Am\xe9rica. "),k.k0s()())}function Zt(ut,Lt){1&ut&&(k.j41(0,"div")(1,"p",61),k.EFF(2,"Nos sustentamos en cuatro pilares b\xe1sicos basados en un aut\xe9ntico compromiso de responsabilidad:"),k.k0s(),k.nrm(3,"ion-icon",62),k.EFF(4,"Pasion\n"),k.nrm(5,"hr")(6,"ion-icon",63),k.EFF(7,"Transperencia "),k.nrm(8,"hr")(9,"ion-icon",64),k.EFF(10,"Resilencia\n"),k.nrm(11,"hr")(12,"ion-icon",65),k.EFF(13,"Inovacion\n"),k.k0s())}const vt=[{path:"",component:(()=>{var ut;class Lt{constructor(zt){this.router=zt,this.activeSegment="tab1"}segmentChanged(zt){this.router.navigate([zt.detail.value])}ngOnInit(){}segmentChanged1(zt){this.activeSegment=zt.detail.value}}return(ut=Lt).\u0275fac=function(zt){return new(zt||ut)(k.rXU(St.Ix))},ut.\u0275cmp=k.VBU({type:ut,selectors:[["app-historia"]],decls:245,vars:7,consts:[[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[2,"height","auto","margin-top","20px","background-color","orange"],["size-lg","6","size-xs","12",2,"height","100%"],[2,"width","100%","height","100%"],[2,"text-align","justify","font-size","48px","font-family","'Times New Roman', Times, serif"],["value","tab1",3,"ionChange","scrollable"],["value","tab1"],["value","tab2"],["value","tab3"],["value","tab4"],[4,"ngIf"],["size-lg","6","size-xs","12",2,"display","flex","flex-direction","column","justify-content","center"],[2,"width","100%","height","70%","background-color","blue","display","flex","align-items","center","justify-content","center","overflow","hidden"],["src","https://millerspanish.com/assets/img/uploads/2019/10/solar.jpg",2,"width","100%","height","auto","max-height","100%"],[2,"margin-bottom","40px","background-color","rgb(243, 12, 62)"],[2,"font-size","24px","margin-top","20px","margin-left","20px","margin-right","20px","color","black","background-color","rgb(243, 12, 62)"],[2,"width","95%","height","auto","margin","20px 20px 20px 20px","background-color","rgb(236, 157, 8)"],["size-lg","4","size-xs","12"],[2,"display","flex","flex-direction","column","align-items","center","margin-top","7px"],["name","storefront-outline",2,"color","orange","font-size","2em"],[2,"text-align","center"],[2,"text-align","left","font-family","'Times New Roman', Times, serif","font-size","21px"],["name","construct-outline",2,"color","orange","font-size","2em"],["name","checkmark-done-outline",2,"color","orange","font-size","2em"],[1,"paneles"],["size-lg","6","size-xs","12"],[2,"width","100%","height","auto","background-color","rgb(255, 255, 255)"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px"],[2,"width","100%","height","100%","background-color","rgb(226, 125, 43)","align-items","center","display","flex","justify-content","center","border-radius","90px"],["src","assets/foto.jpg",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],[2,"width","auto","height","auto","background-color","rgb(196, 178, 178)"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px","color","rgb(14, 230, 143)","margin-left","20px"],[2,"width","100%","height","auto"],["size-lg","6","size-xs","12",2,"height","auto","width","100%"],[2,"margin-left","7px","color","rgb(14, 230, 14)","font-family","'Times New Roman', Times, serif","font-size","27px"],[2,"margin-left","12px","font-family","'Times New Roman', Times, serif","font-size","21px","color","white"],["size-lg","6","size-xs","12",2,"height","325px","width","auto","text-align","center","display","flex","align-items","center"],["src","assets/policristalino.jpg",2,"width","100%","height","100%"],["src","assets/monocristalino.jpg",2,"width","100%","height","100%"],["src","assets/monica.png",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],[2,"font-family","'Times New Roman', Times, serif","font-size","40px","color","rgb(14, 230, 143)"],["src","assets/controleer.png",2,"width","100%","height","100%"],["src","assets/pwm.jpg",2,"width","100%","height","100%"],["src","assets/inversor.png",2,"width","80%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],["src","assets/pura.png",2,"width","100%","height","100%"],["src","assets/modificada.jpg",2,"width","100%","height","100%"],["src","assets/ocuadrada.png",2,"width","100%","height","100%"],["src","assets/battery.jpg",2,"width","60%","max-width","600px","height","auto","object-fit","cover","border-radius","80px"],["src","assets/acido.jpg",2,"width","100%","height","100%"],["src","assets/gel.jpg",2,"width","100%","height","100%"],[1,"header-container"],[1,"header",2,"background-image","url('https://technocio.com/wp-content/uploads/2022/06/Technocio.jpg')"],[1,"overlay"],[1,"header-text"],[2,"text-align","lef","font-family","'Times New Roman', Times, serif","font-size","21px"],["name","analytics-outline",2,"font-size","30px"],["name","pulse-outline",2,"font-size","30px"],["name","school-outline",2,"font-size","30px"],["name","hardware-chip-outline",2,"font-size","30px"]],template:function(zt,jt){1&zt&&(k.j41(0,"ion-header",0)(1,"ion-segment",1),k.bIt("ionChange",function(Kt){return jt.segmentChanged(Kt)}),k.j41(2,"ion-segment-button",2),k.nrm(3,"ion-icon",3),k.EFF(4,"Inicio "),k.k0s(),k.j41(5,"ion-segment-button",4),k.nrm(6,"ion-icon",5),k.EFF(7,"Paneles Solares "),k.k0s(),k.j41(8,"ion-segment-button",6),k.nrm(9,"ion-icon",7),k.EFF(10,"Generador Solar "),k.k0s()()(),k.j41(11,"ion-content")(12,"ion-grid")(13,"ion-row",8)(14,"ion-col",9)(15,"div",10)(16,"p",11),k.EFF(17,"Transformando la luz solar en soluciones para tu confort "),k.k0s(),k.j41(18,"ion-segment",12),k.bIt("ionChange",function(Kt){return jt.segmentChanged1(Kt)}),k.j41(19,"ion-segment-button",13)(20,"ion-label"),k.EFF(21,"Quienes somos"),k.k0s()(),k.j41(22,"ion-segment-button",14)(23,"ion-label"),k.EFF(24,"Mision"),k.k0s()(),k.j41(25,"ion-segment-button",15)(26,"ion-label"),k.EFF(27,"Vision"),k.k0s()(),k.j41(28,"ion-segment-button",16)(29,"ion-label"),k.EFF(30,"Valores"),k.k0s()()(),k.DNE(31,Nt,3,0,"div",17)(32,Be,3,0,"div",17)(33,je,3,0,"div",17)(34,Zt,14,0,"div",17),k.k0s()(),k.j41(35,"ion-col",18)(36,"div",19),k.nrm(37,"ion-img",20),k.k0s()()()(),k.j41(38,"ion-grid",21)(39,"p",22),k.EFF(40,"Nuestos Objetivos"),k.k0s(),k.j41(41,"ion-row",23)(42,"ion-col",24)(43,"ion-card")(44,"ion-card-title",25),k.nrm(45,"ion-icon",26),k.j41(46,"h2",27),k.EFF(47,"Maximizar el potencial de ahorro de su factura el\xe9ctrica"),k.k0s()(),k.j41(48,"ion-card-content")(49,"p",28),k.EFF(50,"El ahorro econ\xf3mico en facturaci\xf3n es un gran vector para apostar por energ\xeda solar. Es transformar el gasto constante de todos los meses en un activo, con un car\xe1cter circular y compatible con el ambiente, generando un flujo positivo desde el primer d\xeda de operaci\xf3n."),k.k0s()()()(),k.j41(51,"ion-col",24)(52,"ion-card")(53,"ion-card-title",25),k.nrm(54,"ion-icon",29),k.j41(55,"h2",27),k.EFF(56,"Dise\xf1ar el proyecto utilizando nuestra f\xf3rmula ganadora"),k.k0s()(),k.j41(57,"ion-card-content")(58,"p",28),k.EFF(59," T\xfa proyecto de energ\xeda solar es el eje central de nuestro dise\xf1o. "),k.k0s(),k.nrm(60,"hr"),k.j41(61,"p",28),k.EFF(62," Las grandes relaciones comerciales con los mayores fabricantes a nivel global nos permiten analizar cual fuera la tecnolog\xeda m\xe1s viable para adaptar al proyecto. "),k.k0s()()()(),k.j41(63,"ion-col",24)(64,"ion-card")(65,"ion-card-title",25),k.nrm(66,"ion-icon",30),k.j41(67,"h2",27),k.EFF(68,"Entregar resultados eliminando cualquier riesgo"),k.k0s()(),k.j41(69,"ion-card-content")(70,"p",28),k.EFF(71," Gestionamos nuestros proyectos con la de experiencia que tiene Rural Energy y de nuestrod aliados comerciales de tecnolog\xeda y energ\xeda sostenible "),k.k0s()()()()()(),k.j41(72,"div",31)(73,"ion-grid")(74,"ion-row")(75,"ion-col",32)(76,"div",33)(77,"p",34),k.EFF(78,"\xbfQu\xe9 son los paneles solares? "),k.k0s(),k.nrm(79,"br"),k.j41(80,"p",28),k.EFF(81," Los paneles solares, tambi\xe9n conocidos como m\xf3dulos fotovoltaicos, son dispositivos tecnol\xf3gicos dise\xf1ados para convertir la luz solar en electricidad. Estos dispositivos est\xe1n compuestos principalmente por c\xe9lulas solares, que son dispositivos semiconductores que generan corriente el\xe9ctrica cuando son expuestos a la luz sol "),k.k0s(),k.j41(82,"p",28),k.EFF(83," La principal ventaja de los paneles solares radica en su capacidad para aprovechar una fuente de energ\xeda renovable e inagotable: la luz solar. Al transformar la energ\xeda solar en electricidad, los paneles solares contribuyen a la sostenibilidad y reducen la dependencia de fuentes de energ\xeda no renovables. Este proceso se realiza de manera limpia y sin emisiones de gases de efecto invernadero, lo que beneficia el medio ambiente y ayuda en la lucha contra el cambio clim\xe1tico."),k.k0s(),k.j41(84,"p",28),k.EFF(85,"Asimismo, muchos gobiernos y organizaciones ofrecen incentivos y subvenciones para fomentar la adopci\xf3n de energ\xeda solar, lo que hace que la inversi\xf3n inicial sea m\xe1s atractiva"),k.k0s()()(),k.j41(86,"ion-col",32)(87,"div",35),k.nrm(88,"ion-img",36),k.k0s()()()()(),k.j41(89,"div",37)(90,"h2",38),k.EFF(91,"Tipos de Paneles"),k.k0s(),k.j41(92,"h2",38),k.EFF(93," Solares "),k.k0s(),k.nrm(94,"hr"),k.j41(95,"ion-grid")(96,"ion-row",39)(97,"ion-col",40)(98,"p",41),k.EFF(99,"Paneles solares policristalinos "),k.k0s(),k.j41(100,"p",42),k.EFF(101,"Los paneles solares policristalinos son una opci\xf3n popular para sistemas fotovoltaicos debido a su relaci\xf3n costo-eficiencia. Fabricados mediante la fusi\xf3n de m\xfaltiples cristales de silicio, estos paneles son reconocibles por su color azulado y patr\xf3n irregular, caracter\xedsticas que surgen del proceso de enfriamiento m\xe1s r\xe1pido del silicio. Aunque su eficiencia, que oscila entre el 13% y el 16%, es ligeramente inferior a la de los paneles monocristalinos, su menor costo de producci\xf3n los hace econ\xf3micamente atractivos para proyectos a gran escala y aplicaciones residenciales donde el espacio no es una limitaci\xf3n cr\xedtica. Adem\xe1s de ser m\xe1s baratos, los paneles policristalinos ofrecen una buena durabilidad y una vida \xfatil comparable a la de los monocristalinos, generalmente alrededor de 25 a\xf1os. Estos paneles son menos afectados por las altas temperaturas, aunque su rendimiento puede degradarse m\xe1s r\xe1pidamente en condiciones extremas. Dada su robustez y costo efectivo, los paneles policristalinos son una excelente elecci\xf3n para quienes buscan un equilibrio entre eficiencia y asequibilidad en la implementaci\xf3n de energ\xeda solar. "),k.k0s()(),k.j41(102,"ion-col",43),k.nrm(103,"ion-img",44),k.k0s()()(),k.j41(104,"ion-grid")(105,"ion-row",39)(106,"ion-col",40)(107,"p",41),k.EFF(108,"Paneles solares monocristalimps "),k.k0s(),k.j41(109,"p",42),k.EFF(110,"Los paneles solares monocristalinos se destacan por su alta eficiencia energ\xe9tica, que generalmente oscila entre el 15% y el 20%. Se fabrican a partir de un \xfanico cristal de silicio, lo que les confiere una apariencia uniforme y elegante, generalmente en tonos oscuros. Esta uniformidad permite una mayor captura y conversi\xf3n de la luz solar en electricidad en comparaci\xf3n con otros tipos de paneles. Aunque su costo inicial es m\xe1s alto que el de los paneles policristalinos, su mayor eficiencia los hace ideales para \xe1reas donde el espacio es limitado. Su vida \xfatil supera com\xfanmente los 25 a\xf1os, ofreciendo un retorno de inversi\xf3n atractivo a largo plazo debido a su durabilidad y rendimiento superior. "),k.k0s()(),k.j41(111,"ion-col",43),k.nrm(112,"ion-img",45),k.k0s()()()(),k.j41(113,"div",31)(114,"ion-grid")(115,"ion-row")(116,"ion-col",32)(117,"div",33)(118,"p",34),k.EFF(119,"\xbfQu\xe9 son los controladores solares? "),k.k0s(),k.nrm(120,"br"),k.j41(121,"p",28),k.EFF(122," Los controladores solares, tambi\xe9n conocidos como reguladores de carga, son componentes fundamentales en sistemas de energ\xeda solar que integran bater\xedas. Su funci\xf3n principal es regular el flujo de electricidad desde los paneles solares hacia las bater\xedas, asegurando una carga segura y eficaz. Estos dispositivos previenen la sobrecarga y la descarga excesiva, protegiendo las bater\xedas y extendiendo su vida \xfatil. "),k.k0s(),k.j41(123,"p",28),k.EFF(124," Al evitar la sobrecarga, se impide que las bater\xedas sufran da\xf1os que podr\xedan ser permanentes, mientras que la protecci\xf3n contra descargas profundas ayuda a mantener la integridad del almacenamiento energ\xe9tico. Adem\xe1s, los controladores solares optimizan la eficiencia de la carga ajustando los par\xe1metros de carga seg\xfan las condiciones espec\xedficas de cada bater\xeda y las circunstancias operativas del sistema."),k.k0s(),k.j41(125,"p",28),k.EFF(126,"Este nivel de regulaci\xf3n no solo mejora la eficiencia general del sistema solar, sino que tambi\xe9n contribuye a la seguridad, previniendo situaciones de riesgo como cortocircuitos y sobrecalentamientos."),k.k0s()()(),k.j41(127,"ion-col",32)(128,"div",35),k.nrm(129,"ion-img",46),k.k0s()()()()(),k.j41(130,"div",37)(131,"h2",47),k.EFF(132,"Tipos de Controladores"),k.k0s(),k.j41(133,"h2",47),k.EFF(134," Solares "),k.k0s(),k.nrm(135,"hr"),k.j41(136,"ion-grid")(137,"ion-row",39)(138,"ion-col",40)(139,"p",41),k.EFF(140,"Controladores de carga MPPT "),k.k0s(),k.j41(141,"p",42),k.EFF(142,'El controlador de carga MPPT (Maximum Power Point Tracking) es un componente esencial en sistemas fotovoltaicos, dise\xf1ado para maximizar la eficiencia de la energ\xeda solar al regular el flujo el\xe9ctrico entre los paneles solares y las bater\xedas utiliza un algoritmo avanzado para encontrar y mantener el punto de m\xe1xima potencia" permitiendo obtener el m\xe1ximo rendimiento de los paneles solares en diferentes condiciones de luz y temperatura.Pueden incluir funciones adicionales, como monitoreo en tiempo real, protecciones contra cortocircuitos y sobrecargas, y compensaci\xf3n de temperatura para proteger las bater\xedas. Es una soluci\xf3n para sistemas fotovoltaicos que desean maximizar la producci\xf3n de energ\xeda solar y garantizar la seguridad y longevidad del sistema. '),k.k0s()(),k.j41(143,"ion-col",43),k.nrm(144,"ion-img",48),k.k0s()()(),k.j41(145,"ion-grid")(146,"ion-row",39)(147,"ion-col",40)(148,"p",41),k.EFF(149," Controladores de carga PWM "),k.k0s(),k.j41(150,"p",42),k.EFF(151,"Un controlador de carga PWM (Pulse Width Modulation) es un componente fundamental en sistemas solares, encargado de regular la energ\xeda que fluye desde los paneles solares hacia las bater\xedas. Utiliza modulaci\xf3n por ancho de pulso para controlar el voltaje, ajustando la cantidad de electricidad mediante la variaci\xf3n de la duraci\xf3n de los pulsos el\xe9ctricos. Esto ayuda a mantener un nivel de carga seguro y evitar sobrecargas, lo que contribuye a la longevidad de las bater\xedas.Puede cambiar entre modos de carga, como carga r\xe1pida, carga flotante y compensaci\xf3n de temperatura.Estos dispositivos son ampliamente utilizados en sistemas solares peque\xf1os y medianos debido a su simplicidad y costo asequible "),k.k0s()(),k.j41(152,"ion-col",43),k.nrm(153,"ion-img",49),k.k0s()()()(),k.j41(154,"div",31)(155,"ion-grid")(156,"ion-row")(157,"ion-col",32)(158,"div",33)(159,"p",34),k.EFF(160,"\xbfQu\xe9 son los Inversores? "),k.k0s(),k.nrm(161,"br"),k.j41(162,"p",28),k.EFF(163," Los inversores solares son dispositivos clave en los sistemas de energ\xeda solar fotovoltaica que transforman la corriente continua (DC) generada por los paneles solares en corriente alterna (AC) utilizable en hogares y negocios. Esta conversi\xf3n es esencial porque la mayor\xeda de los electrodom\xe9sticos y la infraestructura el\xe9ctrica moderna operan con corriente alterna. Adem\xe1s de convertir la corriente, los inversores tambi\xe9n optimizan la eficiencia del sistema solar al maximizar la producci\xf3n de energ\xeda de los paneles, un proceso conocido como seguimiento del punto de m\xe1xima potencia (MPPT). "),k.k0s(),k.j41(164,"p",28),k.EFF(165," Al evitar la sobrecarga, se impide que las bater\xedas sufran da\xf1os que podr\xedan ser permanentes, mientras que la protecci\xf3n contra descargas profundas ayuda a mantener la integridad del almacenamiento energ\xe9tico. Adem\xe1s, los controladores solares optimizan la eficiencia de la carga ajustando los par\xe1metros de carga seg\xfan las condiciones espec\xedficas de cada bater\xeda y las circunstancias operativas del sistema."),k.k0s(),k.j41(166,"p",28),k.EFF(167,"Este nivel de regulaci\xf3n no solo mejora la eficiencia general del sistema solar, sino que tambi\xe9n contribuye a la seguridad, previniendo situaciones de riesgo como cortocircuitos y sobrecalentamientos."),k.k0s()()(),k.j41(168,"ion-col",32)(169,"div",35),k.nrm(170,"ion-img",50),k.k0s()()()()(),k.j41(171,"div",37)(172,"h2",47),k.EFF(173,"Tipos de Inversores"),k.k0s(),k.nrm(174,"hr"),k.j41(175,"ion-grid")(176,"ion-row",39)(177,"ion-col",40)(178,"p",41),k.EFF(179,"Inversores de Onda Sinusoidal Pura "),k.k0s(),k.j41(180,"p",42),k.EFF(181,"Los inversores de onda sinusoidal pura son dispositivos que convierten la energ\xeda de corriente continua (DC), proveniente de paneles solares o bater\xedas, en corriente alterna (AC) con una forma de onda suave y continua, similar a la de la red el\xe9ctrica convencional. Estas caracter\xedsticas hacen que los inversores de onda sinusoidal pura sean ideales para aplicaciones donde se requiere electricidad de alta calidad, permitiendo el funcionamiento seguro de dispositivos electr\xf3nicos sensibles.Una de sus principales caracter\xedsticas es la producci\xf3n de una se\xf1al AC con baja distorsi\xf3n arm\xf3nica, lo que garantiza un suministro el\xe9ctrico estable y sin ruidos que puedan afectar el rendimiento de dispositivos como computadoras, electrodom\xe9sticos, equipos m\xe9dicos y sistemas de audio y video. "),k.k0s()(),k.j41(182,"ion-col",43),k.nrm(183,"ion-img",51),k.k0s()()(),k.j41(184,"ion-grid")(185,"ion-row",39)(186,"ion-col",40)(187,"p",41),k.EFF(188," Inversores de Onda Sinusoidal Modificada: "),k.k0s(),k.j41(189,"p",42),k.EFF(190," Los inversores de onda sinusoidal modificada son dispositivos que convierten la energ\xeda de corriente continua (DC) en corriente alterna (AC), pero con una forma de onda escalonada que imita la onda sinusoidal. Aunque no es tan suave como la onda sinusoidal pura, la onda sinusoidal modificada es suficientemente eficaz para una amplia gama de aplicaciones. Los inversores de onda sinusoidal modificada se utilizan en aplicaciones donde el costo es un factor importante y la precisi\xf3n de la onda no es cr\xedtica. Por ejemplo, son comunes en sistemas solares para casas de campo, veh\xedculos recreativos o peque\xf1as aplicaciones residenciales "),k.k0s()(),k.j41(191,"ion-col",43),k.nrm(192,"ion-img",52),k.k0s()()(),k.j41(193,"ion-grid")(194,"ion-row",39)(195,"ion-col",40)(196,"p",41),k.EFF(197," Inversores de Onda Cuadrada "),k.k0s(),k.j41(198,"p",42),k.EFF(199," Los inversores de onda cuadrada son dispositivos que convierten corriente continua (DC) en corriente alterna (AC) utilizando una forma de onda cuadrada, caracterizada por transiciones abruptas entre niveles de voltaje. Su alto nivel de distorsi\xf3n arm\xf3nica puede generar ruidos el\xe9ctricos, por lo que no son adecuados para dispositivos electr\xf3nicos sensibles como computadoras o equipos m\xe9dicos. Son econ\xf3micos y simples, lo que los hace \xfatiles en aplicaciones b\xe1sicas, como sistemas solares peque\xf1os para iluminaci\xf3n y herramientas el\xe9ctricas. "),k.k0s()(),k.j41(200,"ion-col",43),k.nrm(201,"ion-img",53),k.k0s()()()(),k.j41(202,"div",31)(203,"ion-grid")(204,"ion-row")(205,"ion-col",32)(206,"div",33)(207,"p",34),k.EFF(208,"\xbfQu\xe9 son las Baterias para sistemas de Energia Solar? "),k.k0s(),k.nrm(209,"br"),k.j41(210,"p",28),k.EFF(211," Las bater\xedas para sistemas de energ\xeda solar son componentes esenciales que almacenan la energ\xeda generada por los paneles solares para su uso posterior. Estas bater\xedas permiten que los sistemas solares proporcionen electricidad durante la noche o en d\xedas nublados cuando la producci\xf3n solar es insuficiente. Son especialmente cruciales en sistemas solares desconectados de la red (off-grid), permitiendo una independencia energ\xe9tica completa de la red el\xe9ctrica."),k.k0s()()(),k.j41(212,"ion-col",32)(213,"div",35),k.nrm(214,"ion-img",54),k.k0s()()()()(),k.j41(215,"div",37)(216,"h2",47),k.EFF(217,"Tipos de Baterias"),k.k0s(),k.j41(218,"h2",47),k.EFF(219," Para sistemas electricos Solares "),k.k0s(),k.nrm(220,"hr"),k.j41(221,"ion-grid")(222,"ion-row",39)(223,"ion-col",40)(224,"p",41),k.EFF(225,"Bater\xedas de Plomo \xc1cido "),k.k0s(),k.j41(226,"p",42),k.EFF(227,"Las bater\xedas de plomo-\xe1cido son las m\xe1s comunes y econ\xf3micas entre las recargables, usadas ampliamente en autom\xf3viles, barcos y sistemas de energ\xeda solar. Estas bater\xedas est\xe1n compuestas por placas de plomo y di\xf3xido de plomo, inmersas en una soluci\xf3n de \xe1cido sulf\xfarico como electrolito. Son valoradas por su robustez y alta capacidad para ofrecer corrientes fuertes a corto plazo. En sistemas fotovoltaicos, desempe\xf1an un papel crucial como fuente de almacenamiento, permitiendo que el exceso de energ\xeda solar se guarde para uso nocturno o en d\xedas nublados. Es especialmente \xfatil en aplicaciones solares independientes de la red, proporcionando un suministro de energ\xeda estable y confiable "),k.k0s()(),k.j41(228,"ion-col",43),k.nrm(229,"ion-img",55),k.k0s()()(),k.j41(230,"ion-grid")(231,"ion-row",39)(232,"ion-col",40)(233,"p",41),k.EFF(234," Bateria de Plomo \xc1cido (Gel) "),k.k0s(),k.j41(235,"p",42),k.EFF(236,"Las bater\xedas de plomo-\xe1cido contienen un electrolito gelificado en lugar de l\xedquido, lo que reduce el riesgo de fugas y derrames. Su dise\xf1o herm\xe9tico y sin ventilaci\xf3n adicional las hace ideales para instalaciones en interiores o entornos sensibles. Aunque suelen ser m\xe1s pesadas que otras bater\xedas recargables, son altamente fiables y se utilizan a menudo en sistemas fotovoltaicos como fuente de almacenamiento de energ\xeda. Permiten almacenar el excedente de energ\xeda solar durante el d\xeda para su uso durante la noche o en condiciones de poca luz. "),k.k0s()(),k.j41(237,"ion-col",43),k.nrm(238,"ion-img",56),k.k0s()()()(),k.j41(239,"div",57)(240,"div",58),k.nrm(241,"div",59),k.j41(242,"div",60)(243,"p",27),k.EFF(244,"Soluciones de energ\xeda solar en todo Ecuador"),k.k0s()()()()()),2&zt&&(k.Y8G("translucent",!0),k.R7$(),k.Y8G("scrollable",!0),k.R7$(17),k.Y8G("scrollable",!0),k.R7$(13),k.Y8G("ngIf","tab1"===jt.activeSegment),k.R7$(),k.Y8G("ngIf","tab2"===jt.activeSegment),k.R7$(),k.Y8G("ngIf","tab3"===jt.activeSegment),k.R7$(),k.Y8G("ngIf","tab4"===jt.activeSegment))},dependencies:[b.bT,Ue.b_,Ue.I9,Ue.tN,Ue.hU,Ue.W9,Ue.lO,Ue.eU,Ue.iq,Ue.KW,Ue.he,Ue.ln,Ue.Gp,Ue.eP,Ue.Je],styles:['@charset "UTF-8";.header-container[_ngcontent-%COMP%]{position:relative;height:25rem;overflow:hidden;margin:1px,1px}.header[_ngcontent-%COMP%]{position:relative;height:100%;background-size:cover;background-image:url(https://technocio.com/wp-content/uploads/2022/06/Technocio.jpg);background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1;margin-bottom:4rem}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(#016101,#014101b3);opacity:1}.header-text[_ngcontent-%COMP%]{font-family:Montserrat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:1;font-size:3.5rem}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{text-align:center;font-size:18px;background-position:center;border-radius:10%;font-family:Montserrat,sans-serif;font-size:1.2rem;line-height:1.5;margin:0%}.paneles[_ngcontent-%COMP%]{width:auto;height:auto;padding:30px 30px 60px}']}),Lt})()}];let Ct=(()=>{var ut;class Lt{}return(ut=Lt).\u0275fac=function(zt){return new(zt||ut)},ut.\u0275mod=k.$C({type:ut}),ut.\u0275inj=k.G2t({imports:[St.iI.forChild(vt),St.iI]}),Lt})(),Rt=(()=>{var ut;class Lt{}return(ut=Lt).\u0275fac=function(zt){return new(zt||ut)},ut.\u0275mod=k.$C({type:ut}),ut.\u0275inj=k.G2t({imports:[b.MD,p.YN,Ue.bv,Ct]}),Lt})()},4478:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{HomePageModule:()=>Dr});var b=pe(177),p=pe(7863),Ue=pe(4341),St=pe(70),k=pe(8132);function Nt(Xe){if(void 0===Xe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}function Be(Xe,_){Xe.prototype=Object.create(_.prototype),Xe.prototype.constructor=Xe,Xe.__proto__=_}var sn,vt,Ct,Ee,lt,It,Jt,ir,wn,Ji,fa,$e,et,ot,Yt,mn,En,Xe,_,M,C,F,Q,oe,ge,Vn,je={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zt={duration:.5,overwrite:!1,delay:0},Rt=1e8,ut=1e-8,Lt=2*Math.PI,dn=Lt/4,zt=0,jt=Math.sqrt,vn=Math.cos,Kt=Math.sin,Xt=function(_){return"string"==typeof _},nt=function(_){return"function"==typeof _},Ut=function(_){return"number"==typeof _},tn=function(_){return typeof _>"u"},an=function(_){return"object"==typeof _},gt=function(_){return!1!==_},qe=function(){return typeof window<"u"},Dt=function(_){return nt(_)||Xt(_)},nn="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Wn=Array.isArray,si=/(?:-?\.?\d|\.)+/gi,Cn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Zn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,pt=/[+-]=-?[.\d]+/,_e=/[^,'"\[\]\s]+/gi,xe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,wt={},Kn={},hi=function(_){return(Kn=$t(_,wt))&&go},Qi=function(_,M){return console.warn("Invalid property",_,"set to",M,"Missing plugin? gsap.registerPlugin()")},Gi=function(_,M){return!M&&console.warn(_)},ar=function(_,M){return _&&(wt[_]=M)&&Kn&&(Kn[_]=M)||wt},pr=function(){return 0},gr={suppressEvents:!0,isStart:!0,kill:!1},Or={suppressEvents:!0,kill:!1},Vr={suppressEvents:!0},di={},Ot=[],fn={},ai={},sr={},Hr=30,vr=[],Ci="",Ei=function(_){var C,F,M=_[0];if(an(M)||nt(M)||(_=[_]),!(C=(M._gsap||{}).harness)){for(F=vr.length;F--&&!vr[F].targetTest(M););C=vr[F]}for(F=_.length;F--;)_[F]&&(_[F]._gsap||(_[F]._gsap=new Ke(_[F],C)))||_.splice(F,1);return _},lr=function(_){return _._gsap||Ei(ee(_))[0]._gsap},cs=function(_,M,C){return(C=_[M])&&nt(C)?_[M]():tn(C)&&_.getAttribute&&_.getAttribute(M)||C},Lr=function(_,M){return(_=_.split(",")).forEach(M)||_},Fr=function(_){return Math.round(1e5*_)/1e5||0},wr=function(_){return Math.round(1e7*_)/1e7||0},us=function(_,M){var C=M.charAt(0),F=parseFloat(M.substr(2));return _=parseFloat(_),"+"===C?_+F:"-"===C?_-F:"*"===C?_*F:_/F},zi=function(_,M){for(var C=M.length,F=0;_.indexOf(M[F])<0&&++F<C;);return F<C},Ls=function(){var C,F,_=Ot.length,M=Ot.slice(0);for(fn={},Ot.length=0,C=0;C<_;C++)(F=M[C])&&F._lazy&&(F.render(F._lazy[0],F._lazy[1],!0)._lazy=0)},yr=function(_,M,C,F){Ot.length&&!vt&&Ls(),_.render(M,C,F||vt&&M<0&&(_._initted||_._startAt)),Ot.length&&!vt&&Ls()},hr=function(_){var M=parseFloat(_);return(M||0===M)&&(_+"").match(_e).length<2?M:Xt(_)?_.trim():_},Fs=function(_){return _},rt=function(_,M){for(var C in M)C in _||(_[C]=M[C]);return _},$t=function(_,M){for(var C in M)_[C]=M[C];return _},ct=function Xe(_,M){for(var C in M)"__proto__"!==C&&"constructor"!==C&&"prototype"!==C&&(_[C]=an(M[C])?Xe(_[C]||(_[C]={}),M[C]):M[C]);return _},Ht=function(_,M){var F,C={};for(F in _)F in M||(C[F]=_[F]);return C},Ne=function(_){var M=_.parent||Ee,C=_.keyframes?function(_){return function(M,C){for(var F in C)F in M||"duration"===F&&_||"ease"===F||(M[F]=C[F])}}(Wn(_.keyframes)):rt;if(gt(_.inherit))for(;M;)C(_,M.vars.defaults),M=M.parent||M._dp;return _},Qe=function(_,M,C,F,Q){void 0===C&&(C="_first"),void 0===F&&(F="_last");var ge,oe=_[F];if(Q)for(ge=M[Q];oe&&oe[Q]>ge;)oe=oe._prev;return oe?(M._next=oe._next,oe._next=M):(M._next=_[C],_[C]=M),M._next?M._next._prev=M:_[F]=M,M._prev=oe,M.parent=M._dp=_,M},fe=function(_,M,C,F){void 0===C&&(C="_first"),void 0===F&&(F="_last");var Q=M._prev,oe=M._next;Q?Q._next=oe:_[C]===M&&(_[C]=oe),oe?oe._prev=Q:_[F]===M&&(_[F]=Q),M._next=M._prev=M.parent=null},Ie=function(_,M){_.parent&&(!M||_.parent.autoRemoveChildren)&&_.parent.remove&&_.parent.remove(_),_._act=0},ye=function(_,M){if(_&&(!M||M._end>_._dur||M._start<0))for(var C=_;C;)C._dirty=1,C=C.parent;return _},I=function(_,M,C,F){return _._startAt&&(vt?_._startAt.revert(Or):_.vars.immediateRender&&!_.vars.autoRevert||_._startAt.render(M,!0,F))},L=function Xe(_){return!_||_._ts&&Xe(_.parent)},N=function(_){return _._repeat?z(_._tTime,_=_.duration()+_._rDelay)*_:0},z=function(_,M){var C=Math.floor(_/=M);return _&&C===_?C-1:C},K=function(_,M){return(_-M._start)*M._ts+(M._ts>=0?0:M._dirty?M.totalDuration():M._tDur)},G=function(_){return _._end=wr(_._start+(_._tDur/Math.abs(_._ts||_._rts||ut)||0))},he=function(_,M){var C=_._dp;return C&&C.smoothChildTiming&&_._ts&&(_._start=wr(C._time-(_._ts>0?M/_._ts:((_._dirty?_.totalDuration():_._tDur)-M)/-_._ts)),G(_),C._dirty||ye(C,_)),_},me=function(_,M){var C;if((M._time||!M._dur&&M._initted||M._start<_._time&&(M._dur||!M.add))&&(C=K(_.rawTime(),M),(!M._dur||Vt(0,M.totalDuration(),C)-M._tTime>ut)&&M.render(C,!0)),ye(_,M)._dp&&_._initted&&_._time>=_._dur&&_._ts){if(_._dur<_.duration())for(C=_;C._dp;)C.rawTime()>=0&&C.totalTime(C._tTime),C=C._dp;_._zTime=-ut}},ve=function(_,M,C,F){return M.parent&&Ie(M),M._start=wr((Ut(C)?C:C||_!==Ee?Wt(_,C,M):_._time)+M._delay),M._end=wr(M._start+(M.totalDuration()/Math.abs(M.timeScale())||0)),Qe(_,M,"_first","_last",_._sort?"_start":0),Et(M)||(_._recent=M),F||me(_,M),_._ts<0&&he(_,_._tTime),_},ft=function(_,M){return(wt.ScrollTrigger||Qi("scrollTrigger",M))&&wt.ScrollTrigger.create(M,_)},bt=function(_,M,C,F,Q){return Pi(_,M,Q),_._initted?!C&&_._pt&&!vt&&(_._dur&&!1!==_.vars.lazy||!_._dur&&_.vars.lazy)&&wn!==No.frame?(Ot.push(_),_._lazy=[Q,F],1):void 0:1},Pt=function Xe(_){var M=_.parent;return M&&M._ts&&M._initted&&!M._lock&&(M.rawTime()<0||Xe(M))},Et=function(_){var M=_.data;return"isFromStart"===M||"isStart"===M},Qt=function(_,M,C,F){var Q=_._repeat,oe=wr(M)||0,ge=_._tTime/_._tDur;return ge&&!F&&(_._time*=oe/_._dur),_._dur=oe,_._tDur=Q?Q<0?1e10:wr(oe*(Q+1)+_._rDelay*Q):oe,ge>0&&!F&&he(_,_._tTime=_._tDur*ge),_.parent&&G(_),C||ye(_.parent,_),_},cn=function(_){return _ instanceof xt?ye(_):Qt(_,_._dur)},en={_start:0,endTime:pr,totalDuration:pr},Wt=function Xe(_,M,C){var ge,$e,et,F=_.labels,Q=_._recent||en,oe=_.duration()>=Rt?Q.endTime(!1):_._dur;return Xt(M)&&(isNaN(M)||M in F)?($e=M.charAt(0),et="%"===M.substr(-1),ge=M.indexOf("="),"<"===$e||">"===$e?(ge>=0&&(M=M.replace(/=/,"")),("<"===$e?Q._start:Q.endTime(Q._repeat>=0))+(parseFloat(M.substr(1))||0)*(et?(ge<0?Q:C).totalDuration()/100:1)):ge<0?(M in F||(F[M]=oe),F[M]):($e=parseFloat(M.charAt(ge-1)+M.substr(ge+1)),et&&C&&($e=$e/100*(Wn(C)?C[0]:C).totalDuration()),ge>1?Xe(_,M.substr(0,ge-1),C)+$e:oe+$e)):null==M?oe:+M},un=function(_,M,C){var ge,$e,F=Ut(M[1]),Q=(F?2:1)+(_<2?0:1),oe=M[Q];if(F&&(oe.duration=M[1]),oe.parent=C,_){for(ge=oe,$e=C;$e&&!("immediateRender"in ge);)ge=$e.vars.defaults||{},$e=gt($e.vars.inherit)&&$e.parent;oe.immediateRender=gt(ge.immediateRender),_<2?oe.runBackwards=1:oe.startAt=M[Q-1]}return new ts(M[0],oe,M[Q+1])},kn=function(_,M){return _||0===_?M(_):M},Vt=function(_,M,C){return C<_?_:C>M?M:C},on=function(_,M){return Xt(_)&&(M=xe.exec(_))?M[1]:""},le=[].slice,se=function(_,M){return _&&an(_)&&"length"in _&&(!M&&!_.length||_.length-1 in _&&an(_[0]))&&!_.nodeType&&_!==lt},ee=function(_,M,C){return Ct&&!M&&Ct.selector?Ct.selector(_):!Xt(_)||C||!It&&Yo()?Wn(_)?function(_,M,C){return void 0===C&&(C=[]),_.forEach(function(F){var Q;return Xt(F)&&!M||se(F,1)?(Q=C).push.apply(Q,ee(F)):C.push(F)})||C}(_,C):se(_)?le.call(_,0):_?[_]:[]:le.call((M||Jt).querySelectorAll(_),0)},Ve=function(_){return _=ee(_)[0]||Gi("Invalid scope")||{},function(M){var C=_.current||_.nativeElement||_;return ee(M,C.querySelectorAll?C:C===_?Gi("Invalid scope")||Jt.createElement("div"):_)}},Je=function(_){return _.sort(function(){return.5-Math.random()})},rn=function(_){if(nt(_))return _;var M=an(_)?_:{each:_},C=Tt(M.ease),F=M.from||0,Q=parseFloat(M.base)||0,oe={},ge=F>0&&F<1,$e=isNaN(F)||ge,et=M.axis,ot=F,Yt=F;return Xt(F)?ot=Yt={center:.5,edges:.5,end:1}[F]||0:!ge&&$e&&(ot=F[0],Yt=F[1]),function(mn,En,Vn){var oi,ci,Ti,Mi,pi,Ui,Xi,Ki,Ii,Ft=(Vn||M).length,Rn=oe[Ft];if(!Rn){if(!(Ii="auto"===M.grid?0:(M.grid||[1,Rt])[1])){for(Xi=-Rt;Xi<(Xi=Vn[Ii++].getBoundingClientRect().left)&&Ii<Ft;);Ii<Ft&&Ii--}for(Rn=oe[Ft]=[],oi=$e?Math.min(Ii,Ft)*ot-.5:F%Ii,ci=Ii===Rt?0:$e?Ft*Yt/Ii-.5:F/Ii|0,Xi=0,Ki=Rt,Ui=0;Ui<Ft;Ui++)Ti=Ui%Ii-oi,Mi=ci-(Ui/Ii|0),Rn[Ui]=pi=et?Math.abs("y"===et?Mi:Ti):jt(Ti*Ti+Mi*Mi),pi>Xi&&(Xi=pi),pi<Ki&&(Ki=pi);"random"===F&&Je(Rn),Rn.max=Xi-Ki,Rn.min=Ki,Rn.v=Ft=(parseFloat(M.amount)||parseFloat(M.each)*(Ii>Ft?Ft-1:et?"y"===et?Ft/Ii:Ii:Math.max(Ii,Ft/Ii))||0)*("edges"===F?-1:1),Rn.b=Ft<0?Q-Ft:Q,Rn.u=on(M.amount||M.each)||0,C=C&&Ft<0?j(C):C}return Ft=(Rn[mn]-Rn.min)/Rn.max||0,wr(Rn.b+(C?C(Ft):Ft)*Rn.v)+Rn.u}},Un=function(_){var M=Math.pow(10,((_+"").split(".")[1]||"").length);return function(C){var F=wr(Math.round(parseFloat(C)/_)*_*M);return(F-F%1)/M+(Ut(C)?0:on(C))}},Si=function(_,M){var F,Q,C=Wn(_);return!C&&an(_)&&(F=C=_.radius||Rt,_.values?(_=ee(_.values),(Q=!Ut(_[0]))&&(F*=F)):_=Un(_.increment)),kn(M,C?nt(_)?function(oe){return Q=_(oe),Math.abs(Q-oe)<=F?Q:oe}:function(oe){for(var mn,En,ge=parseFloat(Q?oe.x:oe),$e=parseFloat(Q?oe.y:0),et=Rt,ot=0,Yt=_.length;Yt--;)(mn=Q?(mn=_[Yt].x-ge)*mn+(En=_[Yt].y-$e)*En:Math.abs(_[Yt]-ge))<et&&(et=mn,ot=Yt);return ot=!F||et<=F?_[ot]:oe,Q||ot===oe||Ut(oe)?ot:ot+on(oe)}:Un(_))},xr=function(_,M,C,F){return kn(Wn(_)?!M:!0===C?!!(C=0):!F,function(){return Wn(_)?_[~~(Math.random()*_.length)]:(C=C||1e-5)&&(F=C<1?Math.pow(10,(C+"").length-2):1)&&Math.floor(Math.round((_-C/2+Math.random()*(M-_+.99*C))/C)*C*F)/F})},Ys=function(_,M,C){return kn(C,function(F){return _[~~M(F)]})},Js=function(_){for(var F,Q,oe,ge,M=0,C="";~(F=_.indexOf("random(",M));)oe=_.indexOf(")",F),ge="["===_.charAt(F+7),Q=_.substr(F+7,oe-F-7).match(ge?_e:si),C+=_.substr(M,F-M)+xr(ge?Q:+Q[0],ge?0:+Q[1],+Q[2]||1e-5),M=oe+1;return C+_.substr(M,_.length-M)},ur=function(_,M,C,F,Q){var oe=M-_,ge=F-C;return kn(Q,function($e){return C+(($e-_)/oe*ge||0)})},so=function(_,M,C){var oe,ge,$e,F=_.labels,Q=Rt;for(oe in F)(ge=F[oe]-M)<0==!!C&&ge&&Q>(ge=Math.abs(ge))&&($e=oe,Q=ge);return $e},Kr=function(_,M,C){var $e,et,ot,F=_.vars,Q=F[M],oe=Ct,ge=_._ctx;if(Q)return $e=F[M+"Params"],et=F.callbackScope||_,C&&Ot.length&&Ls(),ge&&(Ct=ge),ot=$e?Q.apply(et,$e):Q.call(et),Ct=oe,ot},es=function(_){return Ie(_),_.scrollTrigger&&_.scrollTrigger.kill(!!vt),_.progress()<1&&Kr(_,"onInterrupt"),_},kr=[],Ro=function(_){if(_)if(_=!_.name&&_.default||_,qe()||_.headless){var M=_.name,C=nt(_),F=M&&!C&&_.init?function(){this._props=[]}:_,Q={init:pr,render:Qo,add:Pn,kill:ac,modifier:Fc,rawVars:0},oe={targetTest:0,get:0,getSetter:$l,aliases:{},register:0};if(Yo(),_!==F){if(ai[M])return;rt(F,rt(Ht(_,Q),oe)),$t(F.prototype,$t(Q,Ht(_,oe))),ai[F.prop=M]=F,_.targetTest&&(vr.push(F),di[M]=1),M=("css"===M?"CSS":M.charAt(0).toUpperCase()+M.substr(1))+"Plugin"}ar(M,F),_.register&&_.register(go,F,wo)}else kr.push(_)},_r=255,na={aqua:[0,_r,_r],lime:[0,_r,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_r],navy:[0,0,128],white:[_r,_r,_r],olive:[128,128,0],yellow:[_r,_r,0],orange:[_r,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_r,0,0],pink:[_r,192,203],cyan:[0,_r,_r],transparent:[_r,_r,_r,0]},Oa=function(_,M,C){return(6*(_+=_<0?1:_>1?-1:0)<1?M+(C-M)*_*6:_<.5?C:3*_<2?M+(C-M)*(2/3-_)*6:M)*_r+.5|0},va=function(_,M,C){var Q,oe,ge,$e,et,ot,Yt,mn,En,Vn,F=_?Ut(_)?[_>>16,_>>8&_r,_&_r]:0:na.black;if(!F){if(","===_.substr(-1)&&(_=_.substr(0,_.length-1)),na[_])F=na[_];else if("#"===_.charAt(0)){if(_.length<6&&(Q=_.charAt(1),oe=_.charAt(2),ge=_.charAt(3),_="#"+Q+Q+oe+oe+ge+ge+(5===_.length?_.charAt(4)+_.charAt(4):"")),9===_.length)return[(F=parseInt(_.substr(1,6),16))>>16,F>>8&_r,F&_r,parseInt(_.substr(7),16)/255];F=[(_=parseInt(_.substr(1),16))>>16,_>>8&_r,_&_r]}else if("hsl"===_.substr(0,3))if(F=Vn=_.match(si),M){if(~_.indexOf("="))return F=_.match(Cn),C&&F.length<4&&(F[3]=1),F}else $e=+F[0]%360/360,et=+F[1]/100,Q=2*(ot=+F[2]/100)-(oe=ot<=.5?ot*(et+1):ot+et-ot*et),F.length>3&&(F[3]*=1),F[0]=Oa($e+1/3,Q,oe),F[1]=Oa($e,Q,oe),F[2]=Oa($e-1/3,Q,oe);else F=_.match(si)||na.transparent;F=F.map(Number)}return M&&!Vn&&(Q=F[0]/_r,oe=F[1]/_r,ge=F[2]/_r,ot=((Yt=Math.max(Q,oe,ge))+(mn=Math.min(Q,oe,ge)))/2,Yt===mn?$e=et=0:(En=Yt-mn,et=ot>.5?En/(2-Yt-mn):En/(Yt+mn),$e=Yt===Q?(oe-ge)/En+(oe<ge?6:0):Yt===oe?(ge-Q)/En+2:(Q-oe)/En+4,$e*=60),F[0]=~~($e+.5),F[1]=~~(100*et+.5),F[2]=~~(100*ot+.5)),C&&F.length<4&&(F[3]=1),F},ya=function(_){var M=[],C=[],F=-1;return _.split(Cs).forEach(function(Q){var oe=Q.match(Zn)||[];M.push.apply(M,oe),C.push(F+=oe.length+1)}),M.c=C,M},Rr=function(_,M,C){var $e,et,ot,Yt,F="",Q=(_+F).match(Cs),oe=M?"hsla(":"rgba(",ge=0;if(!Q)return _;if(Q=Q.map(function(mn){return(mn=va(mn,M,1))&&oe+(M?mn[0]+","+mn[1]+"%,"+mn[2]+"%,"+mn[3]:mn.join(","))+")"}),C&&(ot=ya(_),($e=C.c).join(F)!==ot.c.join(F)))for(Yt=(et=_.replace(Cs,"1").split(Zn)).length-1;ge<Yt;ge++)F+=et[ge]+(~$e.indexOf(ge)?Q.shift()||oe+"0,0,0,0)":(ot.length?ot:Q.length?Q:C).shift());if(!et)for(Yt=(et=_.split(Cs)).length-1;ge<Yt;ge++)F+=et[ge]+Q[ge];return F+et[Yt]},Cs=function(){var _,Xe="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(_ in na)Xe+="|"+_+"\\b";return new RegExp(Xe+")","gi")}(),ja=/hsl[a]?\(/,br=function(_){var C,M=_.join(" ");if(Cs.lastIndex=0,Cs.test(M))return C=ja.test(M),_[1]=Rr(_[1],C),_[0]=Rr(_[0],C,ya(_[1])),!0},No=(Xe=Date.now,_=500,M=33,C=Xe(),F=C,oe=Q=1e3/240,Vn=function Ft(Rn){var Ti,Mi,pi,Ui,oi=Xe()-F,ci=!0===Rn;if((oi>_||oi<0)&&(C+=oi-M),((Ti=(pi=(F+=oi)-C)-oe)>0||ci)&&(Ui=++Yt.frame,mn=pi-1e3*Yt.time,Yt.time=pi/=1e3,oe+=Ti+(Ti>=Q?4:Q-Ti),Mi=1),ci||($e=et(Ft)),Mi)for(En=0;En<ge.length;En++)ge[En](pi,mn,Ui,Rn)},Yt={time:0,frame:0,tick:function(){Vn(!0)},deltaRatio:function(Rn){return mn/(1e3/(Rn||60))},wake:function(){ir&&(!It&&qe()&&(lt=It=window,Jt=lt.document||{},wt.gsap=go,(lt.gsapVersions||(lt.gsapVersions=[])).push(go.version),hi(Kn||lt.GreenSockGlobals||!lt.gsap&&lt||{}),kr.forEach(Ro)),ot=typeof requestAnimationFrame<"u"&&requestAnimationFrame,$e&&Yt.sleep(),et=ot||function(Rn){return setTimeout(Rn,oe-1e3*Yt.time+1|0)},fa=1,Vn(2))},sleep:function(){(ot?cancelAnimationFrame:clearTimeout)($e),fa=0,et=pr},lagSmoothing:function(Rn,oi){_=Rn||1/0,M=Math.min(oi||33,_)},fps:function(Rn){oe=1e3*Yt.time+(Q=1e3/(Rn||240))},add:function(Rn,oi,ci){var Ti=oi?function(Mi,pi,Ui,Xi){Rn(Mi,pi,Ui,Xi),Yt.remove(Ti)}:Rn;return Yt.remove(Rn),ge[ci?"unshift":"push"](Ti),Yo(),Ti},remove:function(Rn,oi){~(oi=ge.indexOf(Rn))&&ge.splice(oi,1)&&En>=oi&&En--},_listeners:ge=[]}),Yo=function(){return!fa&&No.wake()},Mr={},ha=/^[\d.\-M][\d.\-,\s]/,bo=/["']/g,V=function(_){for(var ge,$e,et,M={},C=_.substr(1,_.length-3).split(":"),F=C[0],Q=1,oe=C.length;Q<oe;Q++)$e=C[Q],ge=Q!==oe-1?$e.lastIndexOf(","):$e.length,et=$e.substr(0,ge),M[F]=isNaN(et)?et.replace(bo,"").trim():+et,F=$e.substr(ge+1).trim();return M},j=function(_){return function(M){return 1-_(1-M)}},ze=function Xe(_,M){for(var F,C=_._first;C;)C instanceof xt?Xe(C,M):C.vars.yoyoEase&&(!C._yoyo||!C._repeat)&&C._yoyo!==M&&(C.timeline?Xe(C.timeline,M):(F=C._ease,C._ease=C._yEase,C._yEase=F,C._yoyo=M)),C=C._next},Tt=function(_,M){return _&&(nt(_)?_:Mr[_]||function(_){var M=(_+"").split("("),C=Mr[M[0]];return C&&M.length>1&&C.config?C.config.apply(null,~_.indexOf("{")?[V(M[1])]:function(_){var M=_.indexOf("(")+1,C=_.indexOf(")"),F=_.indexOf("(",M);return _.substring(M,~F&&F<C?_.indexOf(")",C+1):C)}(_).split(",").map(hr)):Mr._CE&&ha.test(_)?Mr._CE("",_):C}(_))||M},or=function(_,M,C,F){void 0===C&&(C=function($e){return 1-M(1-$e)}),void 0===F&&(F=function($e){return $e<.5?M(2*$e)/2:1-M(2*(1-$e))/2});var oe,Q={easeIn:M,easeOut:C,easeInOut:F};return Lr(_,function(ge){for(var $e in Mr[ge]=wt[ge]=Q,Mr[oe=ge.toLowerCase()]=C,Q)Mr[oe+("easeIn"===$e?".in":"easeOut"===$e?".out":".inOut")]=Mr[ge+"."+$e]=Q[$e]}),Q},qs=function(_){return function(M){return M<.5?(1-_(1-2*M))/2:.5+_(2*(M-.5))/2}},te=function Xe(_,M,C){var F=M>=1?M:1,Q=(C||(_?.3:.45))/(M<1?M:1),oe=Q/Lt*(Math.asin(1/F)||0),ge=function(ot){return 1===ot?1:F*Math.pow(2,-10*ot)*Kt((ot-oe)*Q)+1},$e="out"===_?ge:"in"===_?function(et){return 1-ge(1-et)}:qs(ge);return Q=Lt/Q,$e.config=function(et,ot){return Xe(_,et,ot)},$e},Ae=function Xe(_,M){void 0===M&&(M=1.70158);var C=function(oe){return oe?--oe*oe*((M+1)*oe+M)+1:0},F="out"===_?C:"in"===_?function(Q){return 1-C(1-Q)}:qs(C);return F.config=function(Q){return Xe(_,Q)},F};Lr("Linear,Quad,Cubic,Quart,Quint,Strong",function(Xe,_){var M=_<5?_+1:_;or(Xe+",Power"+(M-1),_?function(C){return Math.pow(C,M)}:function(C){return C},function(C){return 1-Math.pow(1-C,M)},function(C){return C<.5?Math.pow(2*C,M)/2:1-Math.pow(2*(1-C),M)/2})}),Mr.Linear.easeNone=Mr.none=Mr.Linear.easeIn,or("Elastic",te("in"),te("out"),te()),function(Xe,_){var Q=function(ge){return ge<.36363636363636365?Xe*ge*ge:ge<.7272727272727273?Xe*Math.pow(ge-1.5/_,2)+.75:ge<.9090909090909092?Xe*(ge-=2.25/_)*ge+.9375:Xe*Math.pow(ge-2.625/_,2)+.984375};or("Bounce",function(oe){return 1-Q(1-oe)},Q)}(7.5625,2.75),or("Expo",function(Xe){return Xe?Math.pow(2,10*(Xe-1)):0}),or("Circ",function(Xe){return-(jt(1-Xe*Xe)-1)}),or("Sine",function(Xe){return 1===Xe?1:1-vn(Xe*dn)}),or("Back",Ae("in"),Ae("out"),Ae()),Mr.SteppedEase=Mr.steps=wt.SteppedEase={config:function(_,M){void 0===_&&(_=1);var C=1/_,F=_+(M?0:1),Q=M?1:0;return function(ge){return((F*Vt(0,.99999999,ge)|0)+Q)*C}}},Zt.ease=Mr["quad.out"],Lr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(Xe){return Ci+=Xe+","+Xe+"Params,"});var Ke=function(_,M){this.id=zt++,_._gsap=this,this.target=_,this.harness=M,this.get=M?M.get:cs,this.set=M?M.getSetter:$l},mt=function(){function Xe(M){this.vars=M,this._delay=+M.delay||0,(this._repeat=M.repeat===1/0?-2:M.repeat||0)&&(this._rDelay=M.repeatDelay||0,this._yoyo=!!M.yoyo||!!M.yoyoEase),this._ts=1,Qt(this,+M.duration,1,1),this.data=M.data,Ct&&(this._ctx=Ct,Ct.data.push(this)),fa||No.wake()}var _=Xe.prototype;return _.delay=function(C){return C||0===C?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+C-this._delay),this._delay=C,this):this._delay},_.duration=function(C){return arguments.length?this.totalDuration(this._repeat>0?C+(C+this._rDelay)*this._repeat:C):this.totalDuration()&&this._dur},_.totalDuration=function(C){return arguments.length?(this._dirty=0,Qt(this,this._repeat<0?C:(C-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},_.totalTime=function(C,F){if(Yo(),!arguments.length)return this._tTime;var Q=this._dp;if(Q&&Q.smoothChildTiming&&this._ts){for(he(this,C),!Q._dp||Q.parent||me(Q,this);Q&&Q.parent;)Q.parent._time!==Q._start+(Q._ts>=0?Q._tTime/Q._ts:(Q.totalDuration()-Q._tTime)/-Q._ts)&&Q.totalTime(Q._tTime,!0),Q=Q.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&C<this._tDur||this._ts<0&&C>0||!this._tDur&&!C)&&ve(this._dp,this,this._start-this._delay)}return(this._tTime!==C||!this._dur&&!F||this._initted&&Math.abs(this._zTime)===ut||!C&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=C),yr(this,C,F)),this},_.time=function(C,F){return arguments.length?this.totalTime(Math.min(this.totalDuration(),C+N(this))%(this._dur+this._rDelay)||(C?this._dur:0),F):this._time},_.totalProgress=function(C,F){return arguments.length?this.totalTime(this.totalDuration()*C,F):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},_.progress=function(C,F){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?C:1-C)+N(this),F):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},_.iteration=function(C,F){var Q=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(C-1)*Q,F):this._repeat?z(this._tTime,Q)+1:1},_.timeScale=function(C,F){if(!arguments.length)return this._rts===-ut?0:this._rts;if(this._rts===C)return this;var Q=this.parent&&this._ts?K(this.parent._time,this):this._tTime;return this._rts=+C||0,this._ts=this._ps||C===-ut?0:this._rts,this.totalTime(Vt(-Math.abs(this._delay),this._tDur,Q),!1!==F),G(this),function(_){for(var M=_.parent;M&&M.parent;)M._dirty=1,M.totalDuration(),M=M.parent;return _}(this)},_.paused=function(C){return arguments.length?(this._ps!==C&&(this._ps=C,C?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Yo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==ut&&(this._tTime-=ut)))),this):this._ps},_.startTime=function(C){if(arguments.length){this._start=C;var F=this.parent||this._dp;return F&&(F._sort||!this.parent)&&ve(F,this,C-this._delay),this}return this._start},_.endTime=function(C){return this._start+(gt(C)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},_.rawTime=function(C){var F=this.parent||this._dp;return F?C&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?K(F.rawTime(C),this):this._tTime:this._tTime},_.revert=function(C){void 0===C&&(C=Vr);var F=vt;return vt=C,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(C),this.totalTime(-.01,C.suppressEvents)),"nested"!==this.data&&!1!==C.kill&&this.kill(),vt=F,this},_.globalTime=function(C){for(var F=this,Q=arguments.length?C:F.rawTime();F;)Q=F._start+Q/(Math.abs(F._ts)||1),F=F._dp;return!this.parent&&this._sat?this._sat.globalTime(C):Q},_.repeat=function(C){return arguments.length?(this._repeat=C===1/0?-2:C,cn(this)):-2===this._repeat?1/0:this._repeat},_.repeatDelay=function(C){if(arguments.length){var F=this._time;return this._rDelay=C,cn(this),F?this.time(F):this}return this._rDelay},_.yoyo=function(C){return arguments.length?(this._yoyo=C,this):this._yoyo},_.seek=function(C,F){return this.totalTime(Wt(this,C),gt(F))},_.restart=function(C,F){return this.play().totalTime(C?-this._delay:0,gt(F))},_.play=function(C,F){return null!=C&&this.seek(C,F),this.reversed(!1).paused(!1)},_.reverse=function(C,F){return null!=C&&this.seek(C||this.totalDuration(),F),this.reversed(!0).paused(!1)},_.pause=function(C,F){return null!=C&&this.seek(C,F),this.paused(!0)},_.resume=function(){return this.paused(!1)},_.reversed=function(C){return arguments.length?(!!C!==this.reversed()&&this.timeScale(-this._rts||(C?-ut:0)),this):this._rts<0},_.invalidate=function(){return this._initted=this._act=0,this._zTime=-ut,this},_.isActive=function(){var Q,C=this.parent||this._dp,F=this._start;return!(C&&!(this._ts&&this._initted&&C.isActive()&&(Q=C.rawTime(!0))>=F&&Q<this.endTime(!0)-ut))},_.eventCallback=function(C,F,Q){var oe=this.vars;return arguments.length>1?(F?(oe[C]=F,Q&&(oe[C+"Params"]=Q),"onUpdate"===C&&(this._onUpdate=F)):delete oe[C],this):oe[C]},_.then=function(C){var F=this;return new Promise(function(Q){var oe=nt(C)?C:Fs,ge=function(){var et=F.then;F.then=null,nt(oe)&&(oe=oe(F))&&(oe.then||oe===F)&&(F.then=et),Q(oe),F.then=et};F._initted&&1===F.totalProgress()&&F._ts>=0||!F._tTime&&F._ts<0?ge():F._prom=ge})},_.kill=function(){es(this)},Xe}();rt(mt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ut,_prom:0,_ps:!1,_rts:1});var xt=function(Xe){function _(C,F){var Q;return void 0===C&&(C={}),(Q=Xe.call(this,C)||this).labels={},Q.smoothChildTiming=!!C.smoothChildTiming,Q.autoRemoveChildren=!!C.autoRemoveChildren,Q._sort=gt(C.sortChildren),Ee&&ve(C.parent||Ee,Nt(Q),F),C.reversed&&Q.reverse(),C.paused&&Q.paused(!0),C.scrollTrigger&&ft(Nt(Q),C.scrollTrigger),Q}Be(_,Xe);var M=_.prototype;return M.to=function(F,Q,oe){return un(0,arguments,this),this},M.from=function(F,Q,oe){return un(1,arguments,this),this},M.fromTo=function(F,Q,oe,ge){return un(2,arguments,this),this},M.set=function(F,Q,oe){return Q.duration=0,Q.parent=this,Ne(Q).repeatDelay||(Q.repeat=0),Q.immediateRender=!!Q.immediateRender,new ts(F,Q,Wt(this,oe),1),this},M.call=function(F,Q,oe){return ve(this,ts.delayedCall(0,F,Q),oe)},M.staggerTo=function(F,Q,oe,ge,$e,et,ot){return oe.duration=Q,oe.stagger=oe.stagger||ge,oe.onComplete=et,oe.onCompleteParams=ot,oe.parent=this,new ts(F,oe,Wt(this,$e)),this},M.staggerFrom=function(F,Q,oe,ge,$e,et,ot){return oe.runBackwards=1,Ne(oe).immediateRender=gt(oe.immediateRender),this.staggerTo(F,Q,oe,ge,$e,et,ot)},M.staggerFromTo=function(F,Q,oe,ge,$e,et,ot,Yt){return ge.startAt=oe,Ne(ge).immediateRender=gt(ge.immediateRender),this.staggerTo(F,Q,ge,$e,et,ot,Yt)},M.render=function(F,Q,oe){var mn,En,Vn,Ft,Rn,oi,ci,Ti,Mi,pi,Ui,Xi,ge=this._time,$e=this._dirty?this.totalDuration():this._tDur,et=this._dur,ot=F<=0?0:wr(F),Yt=this._zTime<0!=F<0&&(this._initted||!et);if(this!==Ee&&ot>$e&&F>=0&&(ot=$e),ot!==this._tTime||oe||Yt){if(ge!==this._time&&et&&(ot+=this._time-ge,F+=this._time-ge),mn=ot,Mi=this._start,oi=!(Ti=this._ts),Yt&&(et||(ge=this._zTime),(F||!Q)&&(this._zTime=F)),this._repeat){if(Ui=this._yoyo,Rn=et+this._rDelay,this._repeat<-1&&F<0)return this.totalTime(100*Rn+F,Q,oe);if(mn=wr(ot%Rn),ot===$e?(Ft=this._repeat,mn=et):((Ft=~~(ot/Rn))&&Ft===ot/Rn&&(mn=et,Ft--),mn>et&&(mn=et)),pi=z(this._tTime,Rn),!ge&&this._tTime&&pi!==Ft&&this._tTime-pi*Rn-this._dur<=0&&(pi=Ft),Ui&&1&Ft&&(mn=et-mn,Xi=1),Ft!==pi&&!this._lock){var Ki=Ui&&1&pi,Ii=Ki===(Ui&&1&Ft);if(Ft<pi&&(Ki=!Ki),ge=Ki?0:ot%et?et:ot,this._lock=1,this.render(ge||(Xi?0:wr(Ft*Rn)),Q,!et)._lock=0,this._tTime=ot,!Q&&this.parent&&Kr(this,"onRepeat"),this.vars.repeatRefresh&&!Xi&&(this.invalidate()._lock=1),ge&&ge!==this._time||oi!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(et=this._dur,$e=this._tDur,Ii&&(this._lock=2,this.render(ge=Ki?et:-1e-4,!0),this.vars.repeatRefresh&&!Xi&&this.invalidate()),this._lock=0,!this._ts&&!oi)return this;ze(this,Xi)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(ci=function(_,M,C){var F;if(C>M)for(F=_._first;F&&F._start<=C;){if("isPause"===F.data&&F._start>M)return F;F=F._next}else for(F=_._last;F&&F._start>=C;){if("isPause"===F.data&&F._start<M)return F;F=F._prev}}(this,wr(ge),wr(mn)),ci&&(ot-=mn-(mn=ci._start))),this._tTime=ot,this._time=mn,this._act=!Ti,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=F,ge=0),!ge&&mn&&!Q&&!Ft&&(Kr(this,"onStart"),this._tTime!==ot))return this;if(mn>=ge&&F>=0)for(En=this._first;En;){if(Vn=En._next,(En._act||mn>=En._start)&&En._ts&&ci!==En){if(En.parent!==this)return this.render(F,Q,oe);if(En.render(En._ts>0?(mn-En._start)*En._ts:(En._dirty?En.totalDuration():En._tDur)+(mn-En._start)*En._ts,Q,oe),mn!==this._time||!this._ts&&!oi){ci=0,Vn&&(ot+=this._zTime=-ut);break}}En=Vn}else{En=this._last;for(var Gs=F<0?F:mn;En;){if(Vn=En._prev,(En._act||Gs<=En._end)&&En._ts&&ci!==En){if(En.parent!==this)return this.render(F,Q,oe);if(En.render(En._ts>0?(Gs-En._start)*En._ts:(En._dirty?En.totalDuration():En._tDur)+(Gs-En._start)*En._ts,Q,oe||vt&&(En._initted||En._startAt)),mn!==this._time||!this._ts&&!oi){ci=0,Vn&&(ot+=this._zTime=Gs?-ut:ut);break}}En=Vn}}if(ci&&!Q&&(this.pause(),ci.render(mn>=ge?0:-ut)._zTime=mn>=ge?1:-1,this._ts))return this._start=Mi,G(this),this.render(F,Q,oe);this._onUpdate&&!Q&&Kr(this,"onUpdate",!0),(ot===$e&&this._tTime>=this.totalDuration()||!ot&&ge)&&(Mi===this._start||Math.abs(Ti)!==Math.abs(this._ts))&&(this._lock||((F||!et)&&(ot===$e&&this._ts>0||!ot&&this._ts<0)&&Ie(this,1),!Q&&(!(F<0)||ge)&&(ot||ge||!$e)&&(Kr(this,ot===$e&&F>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(ot<$e&&this.timeScale()>0)&&this._prom())))}return this},M.add=function(F,Q){var oe=this;if(Ut(Q)||(Q=Wt(this,Q,F)),!(F instanceof mt)){if(Wn(F))return F.forEach(function(ge){return oe.add(ge,Q)}),this;if(Xt(F))return this.addLabel(F,Q);if(!nt(F))return this;F=ts.delayedCall(0,F)}return this!==F?ve(this,F,Q):this},M.getChildren=function(F,Q,oe,ge){void 0===F&&(F=!0),void 0===Q&&(Q=!0),void 0===oe&&(oe=!0),void 0===ge&&(ge=-Rt);for(var $e=[],et=this._first;et;)et._start>=ge&&(et instanceof ts?Q&&$e.push(et):(oe&&$e.push(et),F&&$e.push.apply($e,et.getChildren(!0,Q,oe)))),et=et._next;return $e},M.getById=function(F){for(var Q=this.getChildren(1,1,1),oe=Q.length;oe--;)if(Q[oe].vars.id===F)return Q[oe]},M.remove=function(F){return Xt(F)?this.removeLabel(F):nt(F)?this.killTweensOf(F):(fe(this,F),F===this._recent&&(this._recent=this._last),ye(this))},M.totalTime=function(F,Q){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=wr(No.time-(this._ts>0?F/this._ts:(this.totalDuration()-F)/-this._ts))),Xe.prototype.totalTime.call(this,F,Q),this._forcing=0,this):this._tTime},M.addLabel=function(F,Q){return this.labels[F]=Wt(this,Q),this},M.removeLabel=function(F){return delete this.labels[F],this},M.addPause=function(F,Q,oe){var ge=ts.delayedCall(0,Q||pr,oe);return ge.data="isPause",this._hasPause=1,ve(this,ge,Wt(this,F))},M.removePause=function(F){var Q=this._first;for(F=Wt(this,F);Q;)Q._start===F&&"isPause"===Q.data&&Ie(Q),Q=Q._next},M.killTweensOf=function(F,Q,oe){for(var ge=this.getTweensOf(F,oe),$e=ge.length;$e--;)In!==ge[$e]&&ge[$e].kill(F,Q);return this},M.getTweensOf=function(F,Q){for(var ot,oe=[],ge=ee(F),$e=this._first,et=Ut(Q);$e;)$e instanceof ts?zi($e._targets,ge)&&(et?(!In||$e._initted&&$e._ts)&&$e.globalTime(0)<=Q&&$e.globalTime($e.totalDuration())>Q:!Q||$e.isActive())&&oe.push($e):(ot=$e.getTweensOf(ge,Q)).length&&oe.push.apply(oe,ot),$e=$e._next;return oe},M.tweenTo=function(F,Q){Q=Q||{};var En,oe=this,ge=Wt(oe,F),et=Q.startAt,ot=Q.onStart,Yt=Q.onStartParams,mn=Q.immediateRender,Vn=ts.to(oe,rt({ease:Q.ease||"none",lazy:!1,immediateRender:!1,time:ge,overwrite:"auto",duration:Q.duration||Math.abs((ge-(et&&"time"in et?et.time:oe._time))/oe.timeScale())||ut,onStart:function(){if(oe.pause(),!En){var Rn=Q.duration||Math.abs((ge-(et&&"time"in et?et.time:oe._time))/oe.timeScale());Vn._dur!==Rn&&Qt(Vn,Rn,0,1).render(Vn._time,!0,!0),En=1}ot&&ot.apply(Vn,Yt||[])}},Q));return mn?Vn.render(0):Vn},M.tweenFromTo=function(F,Q,oe){return this.tweenTo(Q,rt({startAt:{time:Wt(this,F)}},oe))},M.recent=function(){return this._recent},M.nextLabel=function(F){return void 0===F&&(F=this._time),so(this,Wt(this,F))},M.previousLabel=function(F){return void 0===F&&(F=this._time),so(this,Wt(this,F),1)},M.currentLabel=function(F){return arguments.length?this.seek(F,!0):this.previousLabel(this._time+ut)},M.shiftChildren=function(F,Q,oe){void 0===oe&&(oe=0);for(var et,ge=this._first,$e=this.labels;ge;)ge._start>=oe&&(ge._start+=F,ge._end+=F),ge=ge._next;if(Q)for(et in $e)$e[et]>=oe&&($e[et]+=F);return ye(this)},M.invalidate=function(F){var Q=this._first;for(this._lock=0;Q;)Q.invalidate(F),Q=Q._next;return Xe.prototype.invalidate.call(this,F)},M.clear=function(F){void 0===F&&(F=!0);for(var oe,Q=this._first;Q;)oe=Q._next,this.remove(Q),Q=oe;return this._dp&&(this._time=this._tTime=this._pTime=0),F&&(this.labels={}),ye(this)},M.totalDuration=function(F){var et,ot,Yt,Q=0,oe=this,ge=oe._last,$e=Rt;if(arguments.length)return oe.timeScale((oe._repeat<0?oe.duration():oe.totalDuration())/(oe.reversed()?-F:F));if(oe._dirty){for(Yt=oe.parent;ge;)et=ge._prev,ge._dirty&&ge.totalDuration(),(ot=ge._start)>$e&&oe._sort&&ge._ts&&!oe._lock?(oe._lock=1,ve(oe,ge,ot-ge._delay,1)._lock=0):$e=ot,ot<0&&ge._ts&&(Q-=ot,(!Yt&&!oe._dp||Yt&&Yt.smoothChildTiming)&&(oe._start+=ot/oe._ts,oe._time-=ot,oe._tTime-=ot),oe.shiftChildren(-ot,!1,-1/0),$e=0),ge._end>Q&&ge._ts&&(Q=ge._end),ge=et;Qt(oe,oe===Ee&&oe._time>Q?oe._time:Q,1,1),oe._dirty=0}return oe._tDur},_.updateRoot=function(F){if(Ee._ts&&(yr(Ee,K(F,Ee)),wn=No.frame),No.frame>=Hr){Hr+=je.autoSleep||120;var Q=Ee._first;if((!Q||!Q._ts)&&je.autoSleep&&No._listeners.length<2){for(;Q&&!Q._ts;)Q=Q._next;Q||No.sleep()}}},_}(mt);rt(xt.prototype,{_lock:0,_hasPause:0,_forcing:0});var In,_i,At=function(_,M,C,F,Q,oe,ge){var Yt,mn,En,Vn,Ft,Rn,oi,ci,$e=new wo(this._pt,_,M,0,1,Il,null,Q),et=0,ot=0;for($e.b=C,$e.e=F,C+="",(oi=~(F+="").indexOf("random("))&&(F=Js(F)),oe&&(oe(ci=[C,F],_,M),C=ci[0],F=ci[1]),mn=C.match(pn)||[];Yt=pn.exec(F);)Vn=Yt[0],Ft=F.substring(et,Yt.index),En?En=(En+1)%5:"rgba("===Ft.substr(-5)&&(En=1),Vn!==mn[ot++]&&(Rn=parseFloat(mn[ot-1])||0,$e._pt={_next:$e._pt,p:Ft||1===ot?Ft:",",s:Rn,c:"="===Vn.charAt(1)?us(Rn,Vn)-Rn:parseFloat(Vn)-Rn,m:En&&En<4?Math.round:0},et=pn.lastIndex);return $e.c=et<F.length?F.substring(et,F.length):"",$e.fp=ge,(pt.test(F)||oi)&&($e.e=0),this._pt=$e,$e},Pn=function(_,M,C,F,Q,oe,ge,$e,et,ot){nt(F)&&(F=F(Q||0,_,oe));var Vn,Yt=_[M],mn="get"!==C?C:nt(Yt)?et?_[M.indexOf("set")||!nt(_["get"+M.substr(3)])?M:"get"+M.substr(3)](et):_[M]():Yt,En=nt(Yt)?et?Na:Zo:ho;if(Xt(F)&&(~F.indexOf("random(")&&(F=Js(F)),"="===F.charAt(1)&&((Vn=us(mn,F)+(on(mn)||0))||0===Vn)&&(F=Vn)),!ot||mn!==F||_i)return isNaN(mn*F)||""===F?(!Yt&&!(M in _)&&Qi(M,F),At.call(this,_,M,mn,F,En,$e||je.stringFilter,et)):(Vn=new wo(this._pt,_,M,+mn||0,F-(mn||0),"boolean"==typeof Yt?Vo:yl,0,En),et&&(Vn.fp=et),ge&&Vn.modifier(ge,this,_),this._pt=Vn)},$n=function(_,M,C,F,Q,oe){var ge,$e,et,ot;if(ai[_]&&!1!==(ge=new ai[_]).init(Q,ge.rawVars?M[_]:function(_,M,C,F,Q){if(nt(_)&&(_=lo(_,Q,M,C,F)),!an(_)||_.style&&_.nodeType||Wn(_)||nn(_))return Xt(_)?lo(_,Q,M,C,F):_;var ge,oe={};for(ge in _)oe[ge]=lo(_[ge],Q,M,C,F);return oe}(M[_],F,Q,oe,C),C,F,oe)&&(C._pt=$e=new wo(C._pt,Q,_,0,1,ge.render,ge,0,ge.priority),C!==Ji))for(et=C._ptLookup[C._targets.indexOf(Q)],ot=ge._props.length;ot--;)et[ge._props[ot]]=$e;return ge},Pi=function Xe(_,M,C){var pi,Ui,Xi,Ki,Ii,Gs,Vs,po,Ws,Go,jo,yi,x,F=_.vars,Q=F.ease,oe=F.startAt,ge=F.immediateRender,$e=F.lazy,et=F.onUpdate,ot=F.runBackwards,Yt=F.yoyoEase,mn=F.keyframes,En=F.autoRevert,Vn=_._dur,Ft=_._startAt,Rn=_._targets,oi=_.parent,ci=oi&&"nested"===oi.data?oi.vars.targets:Rn,Ti="auto"===_._overwrite&&!sn,Mi=_.timeline;if(Mi&&(!mn||!Q)&&(Q="none"),_._ease=Tt(Q,Zt.ease),_._yEase=Yt?j(Tt(!0===Yt?Q:Yt,Zt.ease)):0,Yt&&_._yoyo&&!_._repeat&&(Yt=_._yEase,_._yEase=_._ease,_._ease=Yt),_._from=!Mi&&!!F.runBackwards,!Mi||mn&&!F.stagger){if(yi=(po=Rn[0]?lr(Rn[0]).harness:0)&&F[po.prop],pi=Ht(F,di),Ft&&(Ft._zTime<0&&Ft.progress(1),M<0&&ot&&ge&&!En?Ft.render(-1,!0):Ft.revert(ot&&Vn?Or:gr),Ft._lazy=0),oe){if(Ie(_._startAt=ts.set(Rn,rt({data:"isStart",overwrite:!1,parent:oi,immediateRender:!0,lazy:!Ft&&gt($e),startAt:null,delay:0,onUpdate:et&&function(){return Kr(_,"onUpdate")},stagger:0},oe))),_._startAt._dp=0,_._startAt._sat=_,M<0&&(vt||!ge&&!En)&&_._startAt.revert(Or),ge&&Vn&&M<=0&&C<=0)return void(M&&(_._zTime=M))}else if(ot&&Vn&&!Ft)if(M&&(ge=!1),Xi=rt({overwrite:!1,data:"isFromStart",lazy:ge&&!Ft&&gt($e),immediateRender:ge,stagger:0,parent:oi},pi),yi&&(Xi[po.prop]=yi),Ie(_._startAt=ts.set(Rn,Xi)),_._startAt._dp=0,_._startAt._sat=_,M<0&&(vt?_._startAt.revert(Or):_._startAt.render(-1,!0)),_._zTime=M,ge){if(!M)return}else Xe(_._startAt,ut,ut);for(_._pt=_._ptCache=0,$e=Vn&&gt($e)||$e&&!Vn,Ui=0;Ui<Rn.length;Ui++){if(Vs=(Ii=Rn[Ui])._gsap||Ei(Rn)[Ui]._gsap,_._ptLookup[Ui]=Go={},fn[Vs.id]&&Ot.length&&Ls(),jo=ci===Rn?Ui:ci.indexOf(Ii),po&&!1!==(Ws=new po).init(Ii,yi||pi,_,jo,ci)&&(_._pt=Ki=new wo(_._pt,Ii,Ws.name,0,1,Ws.render,Ws,0,Ws.priority),Ws._props.forEach(function(P){Go[P]=Ki}),Ws.priority&&(Gs=1)),!po||yi)for(Xi in pi)ai[Xi]&&(Ws=$n(Xi,pi,_,jo,Ii,ci))?Ws.priority&&(Gs=1):Go[Xi]=Ki=Pn.call(_,Ii,Xi,"get",pi[Xi],jo,ci,0,F.stringFilter);_._op&&_._op[Ui]&&_.kill(Ii,_._op[Ui]),Ti&&_._pt&&(In=_,Ee.killTweensOf(Ii,Go,_.globalTime(M)),x=!_.parent,In=0),_._pt&&$e&&(fn[Vs.id]=1)}Gs&&ds(_),_._onInit&&_._onInit(_)}_._onUpdate=et,_._initted=(!_._op||_._pt)&&!x,mn&&M<=0&&Mi.render(Rt,!0,!0)},is=function(_,M,C,F){var oe,ge,Q=M.ease||F||"power1.inOut";if(Wn(M))ge=C[_]||(C[_]=[]),M.forEach(function($e,et){return ge.push({t:et/(M.length-1)*100,v:$e,e:Q})});else for(oe in M)ge=C[oe]||(C[oe]=[]),"ease"===oe||ge.push({t:parseFloat(_),v:M[oe],e:Q})},lo=function(_,M,C,F,Q){return nt(_)?_.call(M,C,F,Q):Xt(_)&&~_.indexOf("random(")?Js(_):_},Zr=Ci+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Us={};Lr(Zr+",id,stagger,delay,duration,paused,scrollTrigger",function(Xe){return Us[Xe]=1});var ts=function(Xe){function _(C,F,Q,oe){var ge;"number"==typeof F&&(Q.duration=F,F=Q,Q=null);var Mi,pi,Ui,Xi,Ki,Ii,Gs,Vs,$e=(ge=Xe.call(this,oe?F:Ne(F))||this).vars,et=$e.duration,ot=$e.delay,Yt=$e.immediateRender,mn=$e.stagger,En=$e.overwrite,Vn=$e.keyframes,Ft=$e.defaults,Rn=$e.scrollTrigger,oi=$e.yoyoEase,ci=F.parent||Ee,Ti=(Wn(C)||nn(C)?Ut(C[0]):"length"in F)?[C]:ee(C);if(ge._targets=Ti.length?Ei(Ti):Gi("GSAP target "+C+" not found. https://gsap.com",!je.nullTargetWarn)||[],ge._ptLookup=[],ge._overwrite=En,Vn||mn||Dt(et)||Dt(ot)){if(F=ge.vars,(Mi=ge.timeline=new xt({data:"nested",defaults:Ft||{},targets:ci&&"nested"===ci.data?ci.vars.targets:Ti})).kill(),Mi.parent=Mi._dp=Nt(ge),Mi._start=0,mn||Dt(et)||Dt(ot)){if(Xi=Ti.length,Gs=mn&&rn(mn),an(mn))for(Ki in mn)~Zr.indexOf(Ki)&&(Vs||(Vs={}),Vs[Ki]=mn[Ki]);for(pi=0;pi<Xi;pi++)(Ui=Ht(F,Us)).stagger=0,oi&&(Ui.yoyoEase=oi),Vs&&$t(Ui,Vs),Ii=Ti[pi],Ui.duration=+lo(et,Nt(ge),pi,Ii,Ti),Ui.delay=(+lo(ot,Nt(ge),pi,Ii,Ti)||0)-ge._delay,!mn&&1===Xi&&Ui.delay&&(ge._delay=ot=Ui.delay,ge._start+=ot,Ui.delay=0),Mi.to(Ii,Ui,Gs?Gs(pi,Ii,Ti):0),Mi._ease=Mr.none;Mi.duration()?et=ot=0:ge.timeline=0}else if(Vn){Ne(rt(Mi.vars.defaults,{ease:"none"})),Mi._ease=Tt(Vn.ease||F.ease||"none");var Ws,Go,jo,po=0;if(Wn(Vn))Vn.forEach(function(yi){return Mi.to(Ti,yi,">")}),Mi.duration();else{for(Ki in Ui={},Vn)"ease"===Ki||"easeEach"===Ki||is(Ki,Vn[Ki],Ui,Vn.easeEach);for(Ki in Ui)for(Ws=Ui[Ki].sort(function(yi,x){return yi.t-x.t}),po=0,pi=0;pi<Ws.length;pi++)(jo={ease:(Go=Ws[pi]).e,duration:(Go.t-(pi?Ws[pi-1].t:0))/100*et})[Ki]=Go.v,Mi.to(Ti,jo,po),po+=jo.duration;Mi.duration()<et&&Mi.to({},{duration:et-Mi.duration()})}}et||ge.duration(et=Mi.duration())}else ge.timeline=0;return!0===En&&!sn&&(In=Nt(ge),Ee.killTweensOf(Ti),In=0),ve(ci,Nt(ge),Q),F.reversed&&ge.reverse(),F.paused&&ge.paused(!0),(Yt||!et&&!Vn&&ge._start===wr(ci._time)&&gt(Yt)&&L(Nt(ge))&&"nested"!==ci.data)&&(ge._tTime=-ut,ge.render(Math.max(0,-ot)||0)),Rn&&ft(Nt(ge),Rn),ge}Be(_,Xe);var M=_.prototype;return M.render=function(F,Q,oe){var mn,En,Vn,Ft,Rn,oi,ci,Ti,Mi,ge=this._time,$e=this._tDur,et=this._dur,ot=F<0,Yt=F>$e-ut&&!ot?$e:F<ut?0:F;if(et){if(Yt!==this._tTime||!F||oe||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==ot){if(mn=Yt,Ti=this.timeline,this._repeat){if(Ft=et+this._rDelay,this._repeat<-1&&ot)return this.totalTime(100*Ft+F,Q,oe);if(mn=wr(Yt%Ft),Yt===$e?(Vn=this._repeat,mn=et):((Vn=~~(Yt/Ft))&&Vn===wr(Yt/Ft)&&(mn=et,Vn--),mn>et&&(mn=et)),(oi=this._yoyo&&1&Vn)&&(Mi=this._yEase,mn=et-mn),Rn=z(this._tTime,Ft),mn===ge&&!oe&&this._initted&&Vn===Rn)return this._tTime=Yt,this;Vn!==Rn&&(Ti&&this._yEase&&ze(Ti,oi),this.vars.repeatRefresh&&!oi&&!this._lock&&this._time!==Ft&&this._initted&&(this._lock=oe=1,this.render(wr(Ft*Vn),!0).invalidate()._lock=0))}if(!this._initted){if(bt(this,ot?F:mn,oe,Q,Yt))return this._tTime=0,this;if(!(ge===this._time||oe&&this.vars.repeatRefresh&&Vn!==Rn))return this;if(et!==this._dur)return this.render(F,Q,oe)}if(this._tTime=Yt,this._time=mn,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=ci=(Mi||this._ease)(mn/et),this._from&&(this.ratio=ci=1-ci),mn&&!ge&&!Q&&!Vn&&(Kr(this,"onStart"),this._tTime!==Yt))return this;for(En=this._pt;En;)En.r(ci,En.d),En=En._next;Ti&&Ti.render(F<0?F:Ti._dur*Ti._ease(mn/this._dur),Q,oe)||this._startAt&&(this._zTime=F),this._onUpdate&&!Q&&(ot&&I(this,F,0,oe),Kr(this,"onUpdate")),this._repeat&&Vn!==Rn&&this.vars.onRepeat&&!Q&&this.parent&&Kr(this,"onRepeat"),(Yt===this._tDur||!Yt)&&this._tTime===Yt&&(ot&&!this._onUpdate&&I(this,F,0,!0),(F||!et)&&(Yt===this._tDur&&this._ts>0||!Yt&&this._ts<0)&&Ie(this,1),!Q&&(!ot||ge)&&(Yt||ge||oi)&&(Kr(this,Yt===$e?"onComplete":"onReverseComplete",!0),this._prom&&!(Yt<$e&&this.timeScale()>0)&&this._prom()))}}else!function(_,M,C,F){var et,ot,Yt,Q=_.ratio,oe=M<0||!M&&(!_._start&&Pt(_)&&(_._initted||!Et(_))||(_._ts<0||_._dp._ts<0)&&!Et(_))?0:1,ge=_._rDelay,$e=0;if(ge&&_._repeat&&($e=Vt(0,_._tDur,M),ot=z($e,ge),_._yoyo&&1&ot&&(oe=1-oe),ot!==z(_._tTime,ge)&&(Q=1-oe,_.vars.repeatRefresh&&_._initted&&_.invalidate())),oe!==Q||vt||F||_._zTime===ut||!M&&_._zTime){if(!_._initted&&bt(_,M,F,C,$e))return;for(Yt=_._zTime,_._zTime=M||(C?ut:0),C||(C=M&&!Yt),_.ratio=oe,_._from&&(oe=1-oe),_._time=0,_._tTime=$e,et=_._pt;et;)et.r(oe,et.d),et=et._next;M<0&&I(_,M,0,!0),_._onUpdate&&!C&&Kr(_,"onUpdate"),$e&&_._repeat&&!C&&_.parent&&Kr(_,"onRepeat"),(M>=_._tDur||M<0)&&_.ratio===oe&&(oe&&Ie(_,1),!C&&!vt&&(Kr(_,oe?"onComplete":"onReverseComplete",!0),_._prom&&_._prom()))}else _._zTime||(_._zTime=M)}(this,F,Q,oe);return this},M.targets=function(){return this._targets},M.invalidate=function(F){return(!F||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(F),Xe.prototype.invalidate.call(this,F)},M.resetTo=function(F,Q,oe,ge,$e){fa||No.wake(),this._ts||this.play();var et=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Pi(this,et),function(_,M,C,F,Q,oe,ge,$e){var ot,Yt,mn,En,et=(_._pt&&_._ptCache||(_._ptCache={}))[M];if(!et)for(et=_._ptCache[M]=[],mn=_._ptLookup,En=_._targets.length;En--;){if((ot=mn[En][M])&&ot.d&&ot.d._pt)for(ot=ot.d._pt;ot&&ot.p!==M&&ot.fp!==M;)ot=ot._next;if(!ot)return _i=1,_.vars[M]="+=0",Pi(_,ge),_i=0,$e?Gi(M+" not eligible for reset"):1;et.push(ot)}for(En=et.length;En--;)(ot=(Yt=et[En])._pt||Yt).s=!F&&0!==F||Q?ot.s+(F||0)+oe*ot.c:F,ot.c=C-ot.s,Yt.e&&(Yt.e=Fr(C)+on(Yt.e)),Yt.b&&(Yt.b=ot.s+on(Yt.b))}(this,F,Q,oe,ge,this._ease(et/this._dur),et,$e)?this.resetTo(F,Q,oe,ge,1):(he(this,0),this.parent||Qe(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},M.kill=function(F,Q){if(void 0===Q&&(Q="all"),!(F||Q&&"all"!==Q))return this._lazy=this._pt=0,this.parent?es(this):this;if(this.timeline){var oe=this.timeline.totalDuration();return this.timeline.killTweensOf(F,Q,In&&!0!==In.vars.overwrite)._first||es(this),this.parent&&oe!==this.timeline.totalDuration()&&Qt(this,this._dur*this.timeline._tDur/oe,0,1),this}var Yt,mn,En,Vn,Ft,Rn,oi,ge=this._targets,$e=F?ee(F):ge,et=this._ptLookup,ot=this._pt;if((!Q||"all"===Q)&&function(_,M){for(var C=_.length,F=C===M.length;F&&C--&&_[C]===M[C];);return C<0}(ge,$e))return"all"===Q&&(this._pt=0),es(this);for(Yt=this._op=this._op||[],"all"!==Q&&(Xt(Q)&&(Ft={},Lr(Q,function(ci){return Ft[ci]=1}),Q=Ft),Q=function(_,M){var Q,oe,ge,$e,C=_[0]?lr(_[0]).harness:0,F=C&&C.aliases;if(!F)return M;for(oe in Q=$t({},M),F)if(oe in Q)for(ge=($e=F[oe].split(",")).length;ge--;)Q[$e[ge]]=Q[oe];return Q}(ge,Q)),oi=ge.length;oi--;)if(~$e.indexOf(ge[oi]))for(Ft in mn=et[oi],"all"===Q?(Yt[oi]=Q,Vn=mn,En={}):(En=Yt[oi]=Yt[oi]||{},Vn=Q),Vn)(Rn=mn&&mn[Ft])&&((!("kill"in Rn.d)||!0===Rn.d.kill(Ft))&&fe(this,Rn,"_pt"),delete mn[Ft]),"all"!==En&&(En[Ft]=1);return this._initted&&!this._pt&&ot&&es(this),this},_.to=function(F,Q){return new _(F,Q,arguments[2])},_.from=function(F,Q){return un(1,arguments)},_.delayedCall=function(F,Q,oe,ge){return new _(Q,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:F,onComplete:Q,onReverseComplete:Q,onCompleteParams:oe,onReverseCompleteParams:oe,callbackScope:ge})},_.fromTo=function(F,Q,oe){return un(2,arguments)},_.set=function(F,Q){return Q.duration=0,Q.repeatDelay||(Q.repeat=0),new _(F,Q)},_.killTweensOf=function(F,Q,oe){return Ee.killTweensOf(F,Q,oe)},_}(mt);rt(ts.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Lr("staggerTo,staggerFrom,staggerFromTo",function(Xe){ts[Xe]=function(){var _=new xt,M=le.call(arguments,0);return M.splice("staggerFromTo"===Xe?5:4,0,0),_[Xe].apply(_,M)}});var ho=function(_,M,C){return _[M]=C},Zo=function(_,M,C){return _[M](C)},Na=function(_,M,C,F){return _[M](F.fp,C)},Ta=function(_,M,C){return _.setAttribute(M,C)},$l=function(_,M){return nt(_[M])?Zo:tn(_[M])&&_.setAttribute?Ta:ho},yl=function(_,M){return M.set(M.t,M.p,Math.round(1e6*(M.s+M.c*_))/1e6,M)},Vo=function(_,M){return M.set(M.t,M.p,!!(M.s+M.c*_),M)},Il=function(_,M){var C=M._pt,F="";if(!_&&M.b)F=M.b;else if(1===_&&M.e)F=M.e;else{for(;C;)F=C.p+(C.m?C.m(C.s+C.c*_):Math.round(1e4*(C.s+C.c*_))/1e4)+F,C=C._next;F+=M.c}M.set(M.t,M.p,F,M)},Qo=function(_,M){for(var C=M._pt;C;)C.r(_,C.d),C=C._next},Fc=function(_,M,C,F){for(var oe,Q=this._pt;Q;)oe=Q._next,Q.p===F&&Q.modifier(_,M,C),Q=oe},ac=function(_){for(var C,F,M=this._pt;M;)F=M._next,M.p===_&&!M.op||M.op===_?fe(this,M,"_pt"):M.dep||(C=1),M=F;return!C},_a=function(_,M,C,F){F.mSet(_,M,F.m.call(F.tween,C,F.mt),F)},ds=function(_){for(var C,F,Q,oe,M=_._pt;M;){for(C=M._next,F=Q;F&&F.pr>M.pr;)F=F._next;(M._prev=F?F._prev:oe)?M._prev._next=M:Q=M,(M._next=F)?F._prev=M:oe=M,M=C}_._pt=Q},wo=function(){function Xe(M,C,F,Q,oe,ge,$e,et,ot){this.t=C,this.s=Q,this.c=oe,this.p=F,this.r=ge||yl,this.d=$e||this,this.set=et||ho,this.pr=ot||0,this._next=M,M&&(M._prev=this)}return Xe.prototype.modifier=function(C,F,Q){this.mSet=this.mSet||this.set,this.set=_a,this.m=C,this.mt=Q,this.tween=F},Xe}();Lr(Ci+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(Xe){return di[Xe]=1}),wt.TweenMax=wt.TweenLite=ts,wt.TimelineLite=wt.TimelineMax=xt,Ee=new xt({sortChildren:!1,defaults:Zt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),je.stringFilter=br;var Da=[],rl={},sl=[],Po=0,Wa=0,ia=function(_){return(rl[_]||sl).map(function(M){return M()})},kc=function(){var _=Date.now(),M=[];_-Po>2&&(ia("matchMediaInit"),Da.forEach(function(C){var oe,ge,$e,et,F=C.queries,Q=C.conditions;for(ge in F)(oe=lt.matchMedia(F[ge]).matches)&&($e=1),oe!==Q[ge]&&(Q[ge]=oe,et=1);et&&(C.revert(),$e&&M.push(C))}),ia("matchMediaRevert"),M.forEach(function(C){return C.onMatch(C,function(F){return C.add(null,F)})}),Po=_,ia("matchMedia"))},Gl=function(){function Xe(M,C){this.selector=C&&Ve(C),this.data=[],this._r=[],this.isReverted=!1,this.id=Wa++,M&&this.add(M)}var _=Xe.prototype;return _.add=function(C,F,Q){nt(C)&&(Q=F,F=C,C=nt);var oe=this,ge=function(){var Yt,et=Ct,ot=oe.selector;return et&&et!==oe&&et.data.push(oe),Q&&(oe.selector=Ve(Q)),Ct=oe,Yt=F.apply(oe,arguments),nt(Yt)&&oe._r.push(Yt),Ct=et,oe.selector=ot,oe.isReverted=!1,Yt};return oe.last=ge,C===nt?ge(oe,function($e){return oe.add(null,$e)}):C?oe[C]=ge:ge},_.ignore=function(C){var F=Ct;Ct=null,C(this),Ct=F},_.getTweens=function(){var C=[];return this.data.forEach(function(F){return F instanceof Xe?C.push.apply(C,F.getTweens()):F instanceof ts&&!(F.parent&&"nested"===F.parent.data)&&C.push(F)}),C},_.clear=function(){this._r.length=this.data.length=0},_.kill=function(C,F){var Q=this;if(C?function(){for(var et,ge=Q.getTweens(),$e=Q.data.length;$e--;)"isFlip"===(et=Q.data[$e]).data&&(et.revert(),et.getChildren(!0,!0,!1).forEach(function(ot){return ge.splice(ge.indexOf(ot),1)}));for(ge.map(function(ot){return{g:ot._dur||ot._delay||ot._sat&&!ot._sat.vars.immediateRender?ot.globalTime(0):-1/0,t:ot}}).sort(function(ot,Yt){return Yt.g-ot.g||-1/0}).forEach(function(ot){return ot.t.revert(C)}),$e=Q.data.length;$e--;)(et=Q.data[$e])instanceof xt?"nested"!==et.data&&(et.scrollTrigger&&et.scrollTrigger.revert(),et.kill()):!(et instanceof ts)&&et.revert&&et.revert(C);Q._r.forEach(function(ot){return ot(C,Q)}),Q.isReverted=!0}():this.data.forEach(function(ge){return ge.kill&&ge.kill()}),this.clear(),F)for(var oe=Da.length;oe--;)Da[oe].id===this.id&&Da.splice(oe,1)},_.revert=function(C){this.kill(C||{})},Xe}(),Uc=function(){function Xe(M){this.contexts=[],this.scope=M,Ct&&Ct.data.push(this)}var _=Xe.prototype;return _.add=function(C,F,Q){an(C)||(C={matches:C});var $e,et,ot,oe=new Gl(0,Q||this.scope),ge=oe.conditions={};for(et in Ct&&!oe.selector&&(oe.selector=Ct.selector),this.contexts.push(oe),F=oe.add("onMatch",F),oe.queries=C,C)"all"===et?ot=1:($e=lt.matchMedia(C[et]))&&(Da.indexOf(oe)<0&&Da.push(oe),(ge[et]=$e.matches)&&(ot=1),$e.addListener?$e.addListener(kc):$e.addEventListener("change",kc));return ot&&F(oe,function(Yt){return oe.add(null,Yt)}),this},_.revert=function(C){this.kill(C||{})},_.kill=function(C){this.contexts.forEach(function(F){return F.kill(C,!0)})},Xe}(),Rl={registerPlugin:function(){for(var _=arguments.length,M=new Array(_),C=0;C<_;C++)M[C]=arguments[C];M.forEach(function(F){return Ro(F)})},timeline:function(_){return new xt(_)},getTweensOf:function(_,M){return Ee.getTweensOf(_,M)},getProperty:function(_,M,C,F){Xt(_)&&(_=ee(_)[0]);var Q=lr(_||{}).get,oe=C?Fs:hr;return"native"===C&&(C=""),_&&(M?oe((ai[M]&&ai[M].get||Q)(_,M,C,F)):function(ge,$e,et){return oe((ai[ge]&&ai[ge].get||Q)(_,ge,$e,et))})},quickSetter:function(_,M,C){if((_=ee(_)).length>1){var F=_.map(function(ot){return go.quickSetter(ot,M,C)}),Q=F.length;return function(ot){for(var Yt=Q;Yt--;)F[Yt](ot)}}var oe=ai[M],ge=lr(_=_[0]||{}),$e=ge.harness&&(ge.harness.aliases||{})[M]||M,et=oe?function(ot){var Yt=new oe;Ji._pt=0,Yt.init(_,C?ot+C:ot,Ji,0,[_]),Yt.render(1,Yt),Ji._pt&&Qo(1,Ji)}:ge.set(_,$e);return oe?et:function(ot){return et(_,$e,C?ot+C:ot,ge,1)}},quickTo:function(_,M,C){var F,Q=go.to(_,$t(((F={})[M]="+=0.1",F.paused=!0,F),C||{})),oe=function($e,et,ot){return Q.resetTo(M,$e,et,ot)};return oe.tween=Q,oe},isTweening:function(_){return Ee.getTweensOf(_,!0).length>0},defaults:function(_){return _&&_.ease&&(_.ease=Tt(_.ease,Zt.ease)),ct(Zt,_||{})},config:function(_){return ct(je,_||{})},registerEffect:function(_){var M=_.name,C=_.effect,Q=_.defaults,oe=_.extendTimeline;(_.plugins||"").split(",").forEach(function(ge){return ge&&!ai[ge]&&!wt[ge]&&Gi(M+" effect requires "+ge+" plugin.")}),sr[M]=function(ge,$e,et){return C(ee(ge),rt($e||{},Q),et)},oe&&(xt.prototype[M]=function(ge,$e,et){return this.add(sr[M](ge,an($e)?$e:(et=$e)&&{},this),et)})},registerEase:function(_,M){Mr[_]=Tt(M)},parseEase:function(_,M){return arguments.length?Tt(_,M):Mr},getById:function(_){return Ee.getById(_)},exportRoot:function(_,M){void 0===_&&(_={});var F,Q,C=new xt(_);for(C.smoothChildTiming=gt(_.smoothChildTiming),Ee.remove(C),C._dp=0,C._time=C._tTime=Ee._time,F=Ee._first;F;)Q=F._next,(M||!(!F._dur&&F instanceof ts&&F.vars.onComplete===F._targets[0]))&&ve(C,F,F._start-F._delay),F=Q;return ve(Ee,C,0),C},context:function(_,M){return _?new Gl(_,M):Ct},matchMedia:function(_){return new Uc(_)},matchMediaRefresh:function(){return Da.forEach(function(_){var C,F,M=_.conditions;for(F in M)M[F]&&(M[F]=!1,C=1);C&&_.revert()})||kc()},addEventListener:function(_,M){var C=rl[_]||(rl[_]=[]);~C.indexOf(M)||C.push(M)},removeEventListener:function(_,M){var C=rl[_],F=C&&C.indexOf(M);F>=0&&C.splice(F,1)},utils:{wrap:function Xe(_,M,C){var F=M-_;return Wn(_)?Ys(_,Xe(0,_.length),M):kn(C,function(Q){return(F+(Q-_)%F)%F+_})},wrapYoyo:function Xe(_,M,C){var F=M-_,Q=2*F;return Wn(_)?Ys(_,Xe(0,_.length-1),M):kn(C,function(oe){return _+((oe=(Q+(oe-_)%Q)%Q||0)>F?Q-oe:oe)})},distribute:rn,random:xr,snap:Si,normalize:function(_,M,C){return ur(_,M,0,1,C)},getUnit:on,clamp:function(_,M,C){return kn(C,function(F){return Vt(_,M,F)})},splitColor:va,toArray:ee,selector:Ve,mapRange:ur,pipe:function(){for(var _=arguments.length,M=new Array(_),C=0;C<_;C++)M[C]=arguments[C];return function(F){return M.reduce(function(Q,oe){return oe(Q)},F)}},unitize:function(_,M){return function(C){return _(parseFloat(C))+(M||on(C))}},interpolate:function Xe(_,M,C,F){var Q=isNaN(_+M)?0:function(En){return(1-En)*_+En*M};if(!Q){var $e,et,ot,Yt,mn,oe=Xt(_),ge={};if(!0===C&&(F=1)&&(C=null),oe)_={p:_},M={p:M};else if(Wn(_)&&!Wn(M)){for(ot=[],mn=(Yt=_.length)-2,et=1;et<Yt;et++)ot.push(Xe(_[et-1],_[et]));Yt--,Q=function(Vn){Vn*=Yt;var Ft=Math.min(mn,~~Vn);return ot[Ft](Vn-Ft)},C=M}else F||(_=$t(Wn(_)?[]:{},_));if(!ot){for($e in M)Pn.call(ge,_,$e,"get",M[$e]);Q=function(Vn){return Qo(Vn,ge)||(oe?_.p:_)}}}return kn(C,Q)},shuffle:Je},install:hi,effects:sr,ticker:No,updateRoot:xt.updateRoot,plugins:ai,globalTimeline:Ee,core:{PropTween:wo,globals:ar,Tween:ts,Timeline:xt,Animation:mt,getCache:lr,_removeLinkedListItem:fe,reverting:function(){return vt},context:function(_){return _&&Ct&&(Ct.data.push(_),_._ctx=Ct),Ct},suppressOverwrites:function(_){return sn=_}}};Lr("to,from,fromTo,delayedCall,set,killTweensOf",function(Xe){return Rl[Xe]=ts[Xe]}),No.add(xt.updateRoot),Ji=Rl.to({},{duration:0});var ol=function(_,M){for(var C=_._pt;C&&C.p!==M&&C.op!==M&&C.fp!==M;)C=C._next;return C},jl=function(_,M){return{name:_,rawVars:1,init:function(F,Q,oe){oe._onInit=function(ge){var $e,et;if(Xt(Q)&&($e={},Lr(Q,function(ot){return $e[ot]=1}),Q=$e),M){for(et in $e={},Q)$e[et]=M(Q[et]);Q=$e}!function(_,M){var F,Q,oe,C=_._targets;for(F in M)for(Q=C.length;Q--;)(oe=_._ptLookup[Q][F])&&(oe=oe.d)&&(oe._pt&&(oe=ol(oe,F)),oe&&oe.modifier&&oe.modifier(M[F],_,C[Q],F))}(ge,Q)}}}},go=Rl.registerPlugin({name:"attr",init:function(_,M,C,F,Q){var oe,ge,$e;for(oe in this.tween=C,M)$e=_.getAttribute(oe)||"",(ge=this.add(_,"setAttribute",($e||0)+"",M[oe],F,Q,0,0,oe)).op=oe,ge.b=$e,this._props.push(oe)},render:function(_,M){for(var C=M._pt;C;)vt?C.set(C.t,C.p,C.b,C):C.r(_,C.d),C=C._next}},{name:"endArray",init:function(_,M){for(var C=M.length;C--;)this.add(_,C,_[C]||0,M[C],0,0,0,0,0,1)}},jl("roundProps",Un),jl("modifiers"),jl("snap",Si))||Rl;ts.version=xt.version=go.version="3.12.5",ir=1,qe()&&Yo();var Vc,qa,Ka,Qr,oo,la,Mo,js,$s={},Cr=180/Math.PI,bl=Math.PI/180,Gn=Math.atan2,jr=1e8,Ya=/([A-Z])/g,Pl=/(left|right|width|margin|padding|x)/i,Wl=/[\s,\(]\S/,Lo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},wl=function(_,M){return M.set(M.t,M.p,Math.round(1e4*(M.s+M.c*_))/1e4+M.u,M)},zc=function(_,M){return M.set(M.t,M.p,1===_?M.e:Math.round(1e4*(M.s+M.c*_))/1e4+M.u,M)},du=function(_,M){return M.set(M.t,M.p,_?Math.round(1e4*(M.s+M.c*_))/1e4+M.u:M.b,M)},cc=function(_,M){var C=M.s+M.c*_;M.set(M.t,M.p,~~(C+(C<0?-.5:.5))+M.u,M)},uc=function(_,M){return M.set(M.t,M.p,_?M.e:M.b,M)},xl=function(_,M){return M.set(M.t,M.p,1!==_?M.b:M.e,M)},Ra=function(_,M,C){return _.style[M]=C},fu=function(_,M,C){return _.style.setProperty(M,C)},Os=function(_,M,C){return _._gsap[M]=C},Za=function(_,M,C){return _._gsap.scaleX=_._gsap.scaleY=C},dc=function(_,M,C,F,Q){var oe=_._gsap;oe.scaleX=oe.scaleY=C,oe.renderTransform(Q,oe)},al=function(_,M,C,F,Q){var oe=_._gsap;oe[M]=C,oe.renderTransform(Q,oe)},eo="transform",co=eo+"Origin",ba=function Xe(_,M){var C=this,F=this.target,Q=F.style,oe=F._gsap;if(_ in $s&&Q){if(this.tfm=this.tfm||{},"transform"===_)return Lo.transform.split(",").forEach(function(ge){return Xe.call(C,ge,M)});if(~(_=Lo[_]||_).indexOf(",")?_.split(",").forEach(function(ge){return C.tfm[ge]=bn(F,ge)}):this.tfm[_]=oe.x?oe[_]:bn(F,_),_===co&&(this.tfm.zOrigin=oe.zOrigin),this.props.indexOf(eo)>=0)return;oe.svg&&(this.svgo=F.getAttribute("data-svg-origin"),this.props.push(co,M,"")),_=eo}(Q||M)&&this.props.push(_,M,Q[_])},Xl=function(_){_.translate&&(_.removeProperty("translate"),_.removeProperty("scale"),_.removeProperty("rotate"))},td=function(){var Q,oe,_=this.props,M=this.target,C=M.style,F=M._gsap;for(Q=0;Q<_.length;Q+=3)_[Q+1]?M[_[Q]]=_[Q+2]:_[Q+2]?C[_[Q]]=_[Q+2]:C.removeProperty("--"===_[Q].substr(0,2)?_[Q]:_[Q].replace(Ya,"-$1").toLowerCase());if(this.tfm){for(oe in this.tfm)F[oe]=this.tfm[oe];F.svg&&(F.renderTransform(),M.setAttribute("data-svg-origin",this.svgo||"")),(!(Q=Mo())||!Q.isStart)&&!C[eo]&&(Xl(C),F.zOrigin&&C[co]&&(C[co]+=" "+F.zOrigin+"px",F.zOrigin=0,F.renderTransform()),F.uncache=1)}},zo=function(_,M){var C={target:_,props:[],revert:td,save:ba};return _._gsap||go.core.getCache(_),M&&M.split(",").forEach(function(F){return C.save(F)}),C},ll=function(_,M){var C=qa.createElementNS?qa.createElementNS((M||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),_):qa.createElement(_);return C&&C.style?C:qa.createElement(_)},Co=function Xe(_,M,C){var F=getComputedStyle(_);return F[M]||F.getPropertyValue(M.replace(Ya,"-$1").toLowerCase())||F.getPropertyValue(M)||!C&&Xe(_,ql(M)||M,1)||""},fc="O,Moz,ms,Ms,Webkit".split(","),ql=function(_,M,C){var Q=(M||oo).style,oe=5;if(_ in Q&&!C)return _;for(_=_.charAt(0).toUpperCase()+_.substr(1);oe--&&!(fc[oe]+_ in Q););return oe<0?null:(3===oe?"ms":oe>=0?fc[oe]:"")+_},Ol=function(){typeof window<"u"&&window.document&&(Vc=window,Ka=(qa=Vc.document).documentElement,oo=ll("div")||{style:{}},ll("div"),eo=ql(eo),co=eo+"Origin",oo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",js=!!ql("perspective"),Mo=go.core.reverting,Qr=1)},Fa=function Xe(_){var oe,M=ll("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),C=this.parentNode,F=this.nextSibling,Q=this.style.cssText;if(Ka.appendChild(M),M.appendChild(this),this.style.display="block",_)try{oe=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Xe}catch{}else this._gsapBBox&&(oe=this._gsapBBox());return C&&(F?C.insertBefore(this,F):C.appendChild(this)),Ka.removeChild(M),this.style.cssText=Q,oe},Ao=function(_,M){for(var C=M.length;C--;)if(_.hasAttribute(M[C]))return _.getAttribute(M[C])},it=function(_){var M;try{M=_.getBBox()}catch{M=Fa.call(_,!0)}return M&&(M.width||M.height)||_.getBBox===Fa||(M=Fa.call(_,!0)),!M||M.width||M.x||M.y?M:{x:+Ao(_,["x","cx","x1"])||0,y:+Ao(_,["y","cy","y1"])||0,width:0,height:0}},O=function(_){return!(!_.getCTM||_.parentNode&&!_.ownerSVGElement||!it(_))},J=function(_,M){if(M){var F,C=_.style;M in $s&&M!==co&&(M=eo),C.removeProperty?(("ms"===(F=M.substr(0,2))||"webkit"===M.substr(0,6))&&(M="-"+M),C.removeProperty("--"===F?M:M.replace(Ya,"-$1").toLowerCase())):C.removeAttribute(M)}},We=function(_,M,C,F,Q,oe){var ge=new wo(_._pt,M,C,0,1,oe?xl:uc);return _._pt=ge,ge.b=F,ge.e=Q,_._props.push(C),ge},q={deg:1,rad:1,turn:1},Pe={grid:1,flex:1},at=function Xe(_,M,C,F){var Vn,Ft,Rn,oi,Q=parseFloat(C)||0,oe=(C+"").trim().substr((Q+"").length)||"px",ge=oo.style,$e=Pl.test(M),et="svg"===_.tagName.toLowerCase(),ot=(et?"client":"offset")+($e?"Width":"Height"),mn="px"===F,En="%"===F;if(F===oe||!Q||q[F]||q[oe])return Q;if("px"!==oe&&!mn&&(Q=Xe(_,M,C,"px")),oi=_.getCTM&&O(_),(En||"%"===oe)&&($s[M]||~M.indexOf("adius")))return Vn=oi?_.getBBox()[$e?"width":"height"]:_[ot],Fr(En?Q/Vn*100:Q/100*Vn);if(ge[$e?"width":"height"]=100+(mn?oe:F),Ft=~M.indexOf("adius")||"em"===F&&_.appendChild&&!et?_:_.parentNode,oi&&(Ft=(_.ownerSVGElement||{}).parentNode),(!Ft||Ft===qa||!Ft.appendChild)&&(Ft=qa.body),(Rn=Ft._gsap)&&En&&Rn.width&&$e&&Rn.time===No.time&&!Rn.uncache)return Fr(Q/Rn.width*100);if(!En||"height"!==M&&"width"!==M)(En||"%"===oe)&&!Pe[Co(Ft,"display")]&&(ge.position=Co(_,"position")),Ft===_&&(ge.position="static"),Ft.appendChild(oo),Vn=oo[ot],Ft.removeChild(oo),ge.position="absolute";else{var ci=_.style[M];_.style[M]=100+F,Vn=_[ot],ci?_.style[M]=ci:J(_,M)}return $e&&En&&((Rn=lr(Ft)).time=No.time,Rn.width=Ft[ot]),Fr(mn?Vn*Q/100:Vn&&Q?100/Vn*Q:0)},bn=function(_,M,C,F){var Q;return Qr||Ol(),M in Lo&&"transform"!==M&&~(M=Lo[M]).indexOf(",")&&(M=M.split(",")[0]),$s[M]&&"transform"!==M?(Q=_s(_,F),Q="transformOrigin"!==M?Q[M]:Q.svg?Q.origin:no(Co(_,co))+" "+Q.zOrigin+"px"):(!(Q=_.style[M])||"auto"===Q||F||~(Q+"").indexOf("calc("))&&(Q=Tr[M]&&Tr[M](_,M,C)||Co(_,M)||cs(_,M)||("opacity"===M?1:0)),C&&!~(Q+"").trim().indexOf(" ")?at(_,M,Q,C)+C:Q},ni=function(_,M,C,F){if(!C||"none"===C){var Q=ql(M,_,1),oe=Q&&Co(_,Q,1);oe&&oe!==C?(M=Q,C=oe):"borderColor"===M&&(C=Co(_,"borderTopColor"))}var ot,Yt,mn,En,Vn,Ft,Rn,oi,ci,Ti,Mi,ge=new wo(this._pt,_.style,M,0,1,Il),$e=0,et=0;if(ge.b=C,ge.e=F,C+="","auto"==(F+="")&&(Ft=_.style[M],_.style[M]=F,F=Co(_,M)||F,Ft?_.style[M]=Ft:J(_,M)),br(ot=[C,F]),F=ot[1],mn=(C=ot[0]).match(Zn)||[],(F.match(Zn)||[]).length){for(;Yt=Zn.exec(F);)Rn=Yt[0],ci=F.substring($e,Yt.index),Vn?Vn=(Vn+1)%5:("rgba("===ci.substr(-5)||"hsla("===ci.substr(-5))&&(Vn=1),Rn!==(Ft=mn[et++]||"")&&(En=parseFloat(Ft)||0,Mi=Ft.substr((En+"").length),"="===Rn.charAt(1)&&(Rn=us(En,Rn)+Mi),oi=parseFloat(Rn),Ti=Rn.substr((oi+"").length),$e=Zn.lastIndex-Ti.length,Ti||(Ti=Ti||je.units[M]||Mi,$e===F.length&&(F+=Ti,ge.e+=Ti)),Mi!==Ti&&(En=at(_,M,Ft,Ti)||0),ge._pt={_next:ge._pt,p:ci||1===et?ci:",",s:En,c:oi-En,m:Vn&&Vn<4||"zIndex"===M?Math.round:0});ge.c=$e<F.length?F.substring($e,F.length):""}else ge.r="display"===M&&"none"===F?xl:uc;return pt.test(F)&&(ge.e=0),this._pt=ge,ge},Ar={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$r=function(_){var M=_.split(" "),C=M[0],F=M[1]||"50%";return("top"===C||"bottom"===C||"left"===F||"right"===F)&&(_=C,C=F,F=_),M[0]=Ar[C]||C,M[1]=Ar[F]||F,M.join(" ")},rs=function(_,M){if(M.tween&&M.tween._time===M.tween._dur){var ge,$e,et,C=M.t,F=C.style,Q=M.u,oe=C._gsap;if("all"===Q||!0===Q)F.cssText="",$e=1;else for(et=(Q=Q.split(",")).length;--et>-1;)$s[ge=Q[et]]&&($e=1,ge="transformOrigin"===ge?co:eo),J(C,ge);$e&&(J(C,eo),oe&&(oe.svg&&C.removeAttribute("transform"),_s(C,1),oe.uncache=1,Xl(F)))}},Tr={clearProps:function(_,M,C,F,Q){if("isFromStart"!==Q.data){var oe=_._pt=new wo(_._pt,M,C,0,0,rs);return oe.u=F,oe.pr=-10,oe.tween=Q,_._props.push(C),1}}},ss=[1,0,0,1,0,0],ys={},to=function(_){return"matrix(1, 0, 0, 1, 0, 0)"===_||"none"===_||!_},fs=function(_){var M=Co(_,eo);return to(M)?ss:M.substr(7).match(Cn).map(Fr)},ri=function(_,M){var oe,ge,$e,et,C=_._gsap||lr(_),F=_.style,Q=fs(_);return C.svg&&_.getAttribute("transform")?"1,0,0,1,0,0"===(Q=[($e=_.transform.baseVal.consolidate().matrix).a,$e.b,$e.c,$e.d,$e.e,$e.f]).join(",")?ss:Q:(Q===ss&&!_.offsetParent&&_!==Ka&&!C.svg&&($e=F.display,F.display="block",(!(oe=_.parentNode)||!_.offsetParent)&&(et=1,ge=_.nextElementSibling,Ka.appendChild(_)),Q=fs(_),$e?F.display=$e:J(_,"display"),et&&(ge?oe.insertBefore(_,ge):oe?oe.appendChild(_):Ka.removeChild(_))),M&&Q.length>6?[Q[0],Q[1],Q[4],Q[5],Q[12],Q[13]]:Q)},tr=function(_,M,C,F,Q,oe){var Ui,Xi,Ii,ge=_._gsap,$e=Q||ri(_,!0),et=ge.xOrigin||0,ot=ge.yOrigin||0,Yt=ge.xOffset||0,mn=ge.yOffset||0,En=$e[0],Vn=$e[1],Ft=$e[2],Rn=$e[3],oi=$e[4],ci=$e[5],Ti=M.split(" "),Mi=parseFloat(Ti[0])||0,pi=parseFloat(Ti[1])||0;C?$e!==ss&&(Xi=En*Rn-Vn*Ft)&&(Ii=Mi*(-Vn/Xi)+pi*(En/Xi)-(En*ci-Vn*oi)/Xi,Mi=Mi*(Rn/Xi)+pi*(-Ft/Xi)+(Ft*ci-Rn*oi)/Xi,pi=Ii):(Mi=(Ui=it(_)).x+(~Ti[0].indexOf("%")?Mi/100*Ui.width:Mi),pi=Ui.y+(~(Ti[1]||Ti[0]).indexOf("%")?pi/100*Ui.height:pi)),F||!1!==F&&ge.smooth?(ge.xOffset=Yt+((oi=Mi-et)*En+(ci=pi-ot)*Ft)-oi,ge.yOffset=mn+(oi*Vn+ci*Rn)-ci):ge.xOffset=ge.yOffset=0,ge.xOrigin=Mi,ge.yOrigin=pi,ge.smooth=!!F,ge.origin=M,ge.originIsAbsolute=!!C,_.style[co]="0px 0px",oe&&(We(oe,ge,"xOrigin",et,Mi),We(oe,ge,"yOrigin",ot,pi),We(oe,ge,"xOffset",Yt,ge.xOffset),We(oe,ge,"yOffset",mn,ge.yOffset)),_.setAttribute("data-svg-origin",Mi+" "+pi)},_s=function(_,M){var C=_._gsap||new Ke(_);if("x"in C&&!M&&!C.uncache)return C;var ot,Yt,mn,En,Vn,Ft,Rn,oi,ci,Ti,Mi,pi,Ui,Xi,Ki,Ii,Gs,Vs,po,Ws,Go,jo,yi,x,P,$,T,W,be,ke,Bt,Ln,F=_.style,Q=C.scaleX<0,ge="deg",$e=getComputedStyle(_),et=Co(_,co)||"0";return ot=Yt=mn=Ft=Rn=oi=ci=Ti=Mi=0,En=Vn=1,C.svg=!(!_.getCTM||!O(_)),$e.translate&&(("none"!==$e.translate||"none"!==$e.scale||"none"!==$e.rotate)&&(F[eo]=("none"!==$e.translate?"translate3d("+($e.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==$e.rotate?"rotate("+$e.rotate+") ":"")+("none"!==$e.scale?"scale("+$e.scale.split(" ").join(",")+") ":"")+("none"!==$e[eo]?$e[eo]:"")),F.scale=F.rotate=F.translate="none"),Xi=ri(_,C.svg),C.svg&&(C.uncache?(P=_.getBBox(),et=C.xOrigin-P.x+"px "+(C.yOrigin-P.y)+"px",x=""):x=!M&&_.getAttribute("data-svg-origin"),tr(_,x||et,!!x||C.originIsAbsolute,!1!==C.smooth,Xi)),pi=C.xOrigin||0,Ui=C.yOrigin||0,Xi!==ss&&(Vs=Xi[0],po=Xi[1],Ws=Xi[2],Go=Xi[3],ot=jo=Xi[4],Yt=yi=Xi[5],6===Xi.length?(En=Math.sqrt(Vs*Vs+po*po),Vn=Math.sqrt(Go*Go+Ws*Ws),Ft=Vs||po?Gn(po,Vs)*Cr:0,(ci=Ws||Go?Gn(Ws,Go)*Cr+Ft:0)&&(Vn*=Math.abs(Math.cos(ci*bl))),C.svg&&(ot-=pi-(pi*Vs+Ui*Ws),Yt-=Ui-(pi*po+Ui*Go))):(ke=Xi[7],T=Xi[8],W=Xi[9],Bt=Xi[11],ot=Xi[12],Yt=Xi[13],mn=Xi[14],Rn=(Ki=Gn(Ln=Xi[6],be=Xi[10]))*Cr,Ki&&(x=jo*(Ii=Math.cos(-Ki))+T*(Gs=Math.sin(-Ki)),P=yi*Ii+W*Gs,$=Ln*Ii+be*Gs,T=jo*-Gs+T*Ii,W=yi*-Gs+W*Ii,be=Ln*-Gs+be*Ii,Bt=ke*-Gs+Bt*Ii,jo=x,yi=P,Ln=$),oi=(Ki=Gn(-Ws,be))*Cr,Ki&&(Ii=Math.cos(-Ki),Bt=Go*(Gs=Math.sin(-Ki))+Bt*Ii,Vs=x=Vs*Ii-T*Gs,po=P=po*Ii-W*Gs,Ws=$=Ws*Ii-be*Gs),Ft=(Ki=Gn(po,Vs))*Cr,Ki&&(x=Vs*(Ii=Math.cos(Ki))+po*(Gs=Math.sin(Ki)),P=jo*Ii+yi*Gs,po=po*Ii-Vs*Gs,yi=yi*Ii-jo*Gs,Vs=x,jo=P),Rn&&Math.abs(Rn)+Math.abs(Ft)>359.9&&(Rn=Ft=0,oi=180-oi),En=Fr(Math.sqrt(Vs*Vs+po*po+Ws*Ws)),Vn=Fr(Math.sqrt(yi*yi+Ln*Ln)),Ki=Gn(jo,yi),ci=Math.abs(Ki)>2e-4?Ki*Cr:0,Mi=Bt?1/(Bt<0?-Bt:Bt):0),C.svg&&(x=_.getAttribute("transform"),C.forceCSS=_.setAttribute("transform","")||!to(Co(_,eo)),x&&_.setAttribute("transform",x))),Math.abs(ci)>90&&Math.abs(ci)<270&&(Q?(En*=-1,ci+=Ft<=0?180:-180,Ft+=Ft<=0?180:-180):(Vn*=-1,ci+=ci<=0?180:-180)),M=M||C.uncache,C.x=ot-((C.xPercent=ot&&(!M&&C.xPercent||(Math.round(_.offsetWidth/2)===Math.round(-ot)?-50:0)))?_.offsetWidth*C.xPercent/100:0)+"px",C.y=Yt-((C.yPercent=Yt&&(!M&&C.yPercent||(Math.round(_.offsetHeight/2)===Math.round(-Yt)?-50:0)))?_.offsetHeight*C.yPercent/100:0)+"px",C.z=mn+"px",C.scaleX=Fr(En),C.scaleY=Fr(Vn),C.rotation=Fr(Ft)+ge,C.rotationX=Fr(Rn)+ge,C.rotationY=Fr(oi)+ge,C.skewX=ci+ge,C.skewY=Ti+ge,C.transformPerspective=Mi+"px",(C.zOrigin=parseFloat(et.split(" ")[2])||!M&&C.zOrigin||0)&&(F[co]=no(et)),C.xOffset=C.yOffset=0,C.force3D=je.force3D,C.renderTransform=C.svg?Nr:js?pa:io,C.uncache=0,C},no=function(_){return(_=_.split(" "))[0]+" "+_[1]},Jr=function(_,M,C){var F=on(M);return Fr(parseFloat(M)+parseFloat(at(_,"x",C+"px",F)))+F},io=function(_,M){M.z="0px",M.rotationY=M.rotationX="0deg",M.force3D=0,pa(_,M)},Ho="0deg",Bs="0px",Yr=") ",pa=function(_,M){var C=M||this,F=C.xPercent,Q=C.yPercent,oe=C.x,ge=C.y,$e=C.z,et=C.rotation,ot=C.rotationY,Yt=C.rotationX,mn=C.skewX,En=C.skewY,Vn=C.scaleX,Ft=C.scaleY,Rn=C.transformPerspective,oi=C.force3D,ci=C.target,Ti=C.zOrigin,Mi="",pi="auto"===oi&&_&&1!==_||!0===oi;if(Ti&&(Yt!==Ho||ot!==Ho)){var Ii,Ui=parseFloat(ot)*bl,Xi=Math.sin(Ui),Ki=Math.cos(Ui);Ui=parseFloat(Yt)*bl,Ii=Math.cos(Ui),oe=Jr(ci,oe,Xi*Ii*-Ti),ge=Jr(ci,ge,-Math.sin(Ui)*-Ti),$e=Jr(ci,$e,Ki*Ii*-Ti+Ti)}Rn!==Bs&&(Mi+="perspective("+Rn+Yr),(F||Q)&&(Mi+="translate("+F+"%, "+Q+"%) "),(pi||oe!==Bs||ge!==Bs||$e!==Bs)&&(Mi+=$e!==Bs||pi?"translate3d("+oe+", "+ge+", "+$e+") ":"translate("+oe+", "+ge+Yr),et!==Ho&&(Mi+="rotate("+et+Yr),ot!==Ho&&(Mi+="rotateY("+ot+Yr),Yt!==Ho&&(Mi+="rotateX("+Yt+Yr),(mn!==Ho||En!==Ho)&&(Mi+="skew("+mn+", "+En+Yr),(1!==Vn||1!==Ft)&&(Mi+="scale("+Vn+", "+Ft+Yr),ci.style[eo]=Mi||"translate(0, 0)"},Nr=function(_,M){var pi,Ui,Xi,Ki,Ii,C=M||this,F=C.xPercent,Q=C.yPercent,oe=C.x,ge=C.y,$e=C.rotation,et=C.skewX,ot=C.skewY,Yt=C.scaleX,mn=C.scaleY,En=C.target,Vn=C.xOrigin,Ft=C.yOrigin,Rn=C.xOffset,oi=C.yOffset,ci=C.forceCSS,Ti=parseFloat(oe),Mi=parseFloat(ge);$e=parseFloat($e),et=parseFloat(et),(ot=parseFloat(ot))&&(et+=ot=parseFloat(ot),$e+=ot),$e||et?($e*=bl,et*=bl,pi=Math.cos($e)*Yt,Ui=Math.sin($e)*Yt,Xi=Math.sin($e-et)*-mn,Ki=Math.cos($e-et)*mn,et&&(ot*=bl,Ii=Math.tan(et-ot),Xi*=Ii=Math.sqrt(1+Ii*Ii),Ki*=Ii,ot&&(Ii=Math.tan(ot),pi*=Ii=Math.sqrt(1+Ii*Ii),Ui*=Ii)),pi=Fr(pi),Ui=Fr(Ui),Xi=Fr(Xi),Ki=Fr(Ki)):(pi=Yt,Ki=mn,Ui=Xi=0),(Ti&&!~(oe+"").indexOf("px")||Mi&&!~(ge+"").indexOf("px"))&&(Ti=at(En,"x",oe,"px"),Mi=at(En,"y",ge,"px")),(Vn||Ft||Rn||oi)&&(Ti=Fr(Ti+Vn-(Vn*pi+Ft*Xi)+Rn),Mi=Fr(Mi+Ft-(Vn*Ui+Ft*Ki)+oi)),(F||Q)&&(Ii=En.getBBox(),Ti=Fr(Ti+F/100*Ii.width),Mi=Fr(Mi+Q/100*Ii.height)),En.setAttribute("transform",Ii="matrix("+pi+","+Ui+","+Xi+","+Ki+","+Ti+","+Mi+")"),ci&&(En.style[eo]=Ii)},Qa=function(_,M,C,F,Q){var Yt,mn,oe=360,ge=Xt(Q),et=parseFloat(Q)*(ge&&~Q.indexOf("rad")?Cr:1)-F,ot=F+et+"deg";return ge&&("short"===(Yt=Q.split("_")[1])&&(et%=oe)!=et%180&&(et+=et<0?oe:-oe),"cw"===Yt&&et<0?et=(et+oe*jr)%oe-~~(et/oe)*oe:"ccw"===Yt&&et>0&&(et=(et-oe*jr)%oe-~~(et/oe)*oe)),_._pt=mn=new wo(_._pt,M,C,F,et,zc),mn.e=ot,mn.u="deg",_._props.push(C),mn},El=function(_,M){for(var C in M)_[C]=M[C];return _},dr=function(_,M,C){var ge,$e,et,ot,Yt,mn,Vn,F=El({},C._gsap),oe=C.style;for($e in F.svg?(et=C.getAttribute("transform"),C.setAttribute("transform",""),oe[eo]=M,ge=_s(C,1),J(C,eo),C.setAttribute("transform",et)):(et=getComputedStyle(C)[eo],oe[eo]=M,ge=_s(C,1),oe[eo]=et),$s)(et=F[$e])!==(ot=ge[$e])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf($e)<0&&(Yt=on(et)!==(Vn=on(ot))?at(C,$e,et,Vn):parseFloat(et),mn=parseFloat(ot),_._pt=new wo(_._pt,ge,$e,Yt,mn-Yt,wl),_._pt.u=Vn||0,_._props.push($e));El(ge,F)};Lr("padding,margin,Width,Radius",function(Xe,_){var M="Top",C="Right",F="Bottom",Q="Left",oe=(_<3?[M,C,F,Q]:[M+Q,M+C,F+C,F+Q]).map(function(ge){return _<2?Xe+ge:"border"+ge+Xe});Tr[_>1?"border"+Xe:Xe]=function(ge,$e,et,ot,Yt){var mn,En;if(arguments.length<4)return mn=oe.map(function(Vn){return bn(ge,Vn,et)}),5===(En=mn.join(" ")).split(mn[0]).length?mn[0]:En;mn=(ot+"").split(" "),En={},oe.forEach(function(Vn,Ft){return En[Vn]=mn[Ft]=mn[Ft]||mn[(Ft-1)/2|0]}),ge.init($e,En,Yt)}});var Ks={name:"css",register:Ol,targetTest:function(_){return _.style&&_.nodeType},init:function(_,M,C,F,Q){var et,ot,Yt,mn,En,Vn,Ft,Rn,oi,ci,Ti,Mi,pi,Ui,Xi,Ki,oe=this._props,ge=_.style,$e=C.vars.startAt;for(Ft in Qr||Ol(),this.styles=this.styles||zo(_),Ki=this.styles.props,this.tween=C,M)if("autoRound"!==Ft&&(ot=M[Ft],!ai[Ft]||!$n(Ft,M,C,F,_,Q)))if(Vn=Tr[Ft],"function"==(En=typeof ot)&&(En=typeof(ot=ot.call(C,F,_,Q))),"string"===En&&~ot.indexOf("random(")&&(ot=Js(ot)),Vn)Vn(this,_,Ft,ot,C)&&(Xi=1);else if("--"===Ft.substr(0,2))et=(getComputedStyle(_).getPropertyValue(Ft)+"").trim(),ot+="",Cs.lastIndex=0,Cs.test(et)||(Rn=on(et),oi=on(ot)),oi?Rn!==oi&&(et=at(_,Ft,et,oi)+oi):Rn&&(ot+=Rn),this.add(ge,"setProperty",et,ot,F,Q,0,0,Ft),oe.push(Ft),Ki.push(Ft,0,ge[Ft]);else if("undefined"!==En){if($e&&Ft in $e?(et="function"==typeof $e[Ft]?$e[Ft].call(C,F,_,Q):$e[Ft],Xt(et)&&~et.indexOf("random(")&&(et=Js(et)),on(et+"")||"auto"===et||(et+=je.units[Ft]||on(bn(_,Ft))||""),"="===(et+"").charAt(1)&&(et=bn(_,Ft))):et=bn(_,Ft),mn=parseFloat(et),(ci="string"===En&&"="===ot.charAt(1)&&ot.substr(0,2))&&(ot=ot.substr(2)),Yt=parseFloat(ot),Ft in Lo&&("autoAlpha"===Ft&&(1===mn&&"hidden"===bn(_,"visibility")&&Yt&&(mn=0),Ki.push("visibility",0,ge.visibility),We(this,ge,"visibility",mn?"inherit":"hidden",Yt?"inherit":"hidden",!Yt)),"scale"!==Ft&&"transform"!==Ft&&~(Ft=Lo[Ft]).indexOf(",")&&(Ft=Ft.split(",")[0])),Ti=Ft in $s)if(this.styles.save(Ft),Mi||((pi=_._gsap).renderTransform&&!M.parseTransform||_s(_,M.parseTransform),Ui=!1!==M.smoothOrigin&&pi.smooth,(Mi=this._pt=new wo(this._pt,ge,eo,0,1,pi.renderTransform,pi,0,-1)).dep=1),"scale"===Ft)this._pt=new wo(this._pt,pi,"scaleY",pi.scaleY,(ci?us(pi.scaleY,ci+Yt):Yt)-pi.scaleY||0,wl),this._pt.u=0,oe.push("scaleY",Ft),Ft+="X";else{if("transformOrigin"===Ft){Ki.push(co,0,ge[co]),ot=$r(ot),pi.svg?tr(_,ot,0,Ui,0,this):((oi=parseFloat(ot.split(" ")[2])||0)!==pi.zOrigin&&We(this,pi,"zOrigin",pi.zOrigin,oi),We(this,ge,Ft,no(et),no(ot)));continue}if("svgOrigin"===Ft){tr(_,ot,1,Ui,0,this);continue}if(Ft in ys){Qa(this,pi,Ft,mn,ci?us(mn,ci+ot):ot);continue}if("smoothOrigin"===Ft){We(this,pi,"smooth",pi.smooth,ot);continue}if("force3D"===Ft){pi[Ft]=ot;continue}if("transform"===Ft){dr(this,ot,_);continue}}else Ft in ge||(Ft=ql(Ft)||Ft);if(Ti||(Yt||0===Yt)&&(mn||0===mn)&&!Wl.test(ot)&&Ft in ge)Yt||(Yt=0),(Rn=(et+"").substr((mn+"").length))!==(oi=on(ot)||(Ft in je.units?je.units[Ft]:Rn))&&(mn=at(_,Ft,et,oi)),this._pt=new wo(this._pt,Ti?pi:ge,Ft,mn,(ci?us(mn,ci+Yt):Yt)-mn,Ti||"px"!==oi&&"zIndex"!==Ft||!1===M.autoRound?wl:cc),this._pt.u=oi||0,Rn!==oi&&"%"!==oi&&(this._pt.b=et,this._pt.r=du);else if(Ft in ge)ni.call(this,_,Ft,et,ci?ci+ot:ot);else if(Ft in _)this.add(_,Ft,et||_[Ft],ci?ci+ot:ot,F,Q);else if("parseTransform"!==Ft){Qi(Ft,ot);continue}Ti||(Ft in ge?Ki.push(Ft,0,ge[Ft]):Ki.push(Ft,1,et||_[Ft])),oe.push(Ft)}Xi&&ds(this)},render:function(_,M){if(M.tween._time||!Mo())for(var C=M._pt;C;)C.r(_,C.d),C=C._next;else M.styles.revert()},get:bn,aliases:Lo,getSetter:function(_,M,C){var F=Lo[M];return F&&F.indexOf(",")<0&&(M=F),M in $s&&M!==co&&(_._gsap.x||bn(_,"x"))?C&&la===C?"scale"===M?Za:Os:(la=C||{})&&("scale"===M?dc:al):_.style&&!tn(_.style[M])?Ra:~M.indexOf("-")?fu:$l(_,M)},core:{_removeProperty:J,_getMatrix:ri}};go.utils.checkPrefix=ql,go.core.getStyleSaver=zo,function(Xe,_,M,C){var F=Lr(Xe+","+_+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(Q){$s[Q]=1});Lr(_,function(Q){je.units[Q]="deg",ys[Q]=1}),Lo[F[13]]=Xe+","+_,Lr("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(Q){var oe=Q.split(":");Lo[oe[1]]=F[oe[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Lr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(Xe){je.units[Xe]="px"}),go.registerPlugin(Ks);var vo=go.registerPlugin(Ks)||go,Ce=pe(4438);const ma=["timelineContainer"],Kl=["swiper"],Nl=[{path:"",component:(()=>{var Xe;class _{constructor(C){this.router=C,this.timelineContainer=null,this.imageSources=["assets/descarga.png","assets/descarga (1).png","assets/descarga (2).png"],this.currentImageIndex=0,this.currentImage=this.imageSources[this.currentImageIndex]}segmentChanged(C){this.router.navigate([C.detail.value])}swiperReady(){var C;this.swiper=null===(C=this.swiperRef)||void 0===C?void 0:C.nativeElement.swiper}goNext(){var C;null===(C=this.swiper)||void 0===C||C.slideNext()}goPrev(){var C;null===(C=this.swiper)||void 0===C||C.slidePrev()}swiperSlideChanged(C){console.log("changed",C)}ngAfterViewInit(){this.startGSAPAnimations(),this.startImageLoop(),this.initializeSwiper()}startGSAPAnimations(){if(this.timelineContainer){const C=new IntersectionObserver(F=>{F.forEach(Q=>{Q.isIntersecting&&(vo.fromTo(".timeline-event-horizontal",{opacity:0,x:-100,scale:.8},{opacity:1,x:0,scale:1,duration:1,stagger:.3,ease:"power3.out",onComplete:()=>{vo.to(".timeline-event-horizontal",{opacity:0,x:-100,scale:.8,duration:1,stagger:.3,ease:"power3.in"})}}),C.disconnect())})});C.observe(this.timelineContainer.nativeElement)}vo.fromTo(".header-text p",{opacity:0,y:-50},{opacity:1,y:0,duration:1,ease:"power3.out",onComplete:()=>{vo.to(".header-text p",{opacity:0,y:-50,duration:1,ease:"power3.in"})}}),vo.fromTo(".swiper-slide",{opacity:0,y:50},{opacity:1,y:0,duration:1,stagger:.3,ease:"power3.out",onComplete:()=>{vo.to(".swiper-slide",{opacity:0,y:50,duration:1,stagger:.3,ease:"power3.in"})}})}startImageLoop(){setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.imageSources.length;const Q=this.imageSources[this.currentImageIndex],oe=document.querySelector(".transition-img");vo.to(oe,{opacity:0,scale:.8,duration:1,ease:"power3.in",onComplete:()=>{this.currentImage=Q,vo.fromTo(oe,{opacity:0,scale:1.2},{opacity:1,scale:1,duration:1,ease:"power3.out"})}})},3e3)}initializeSwiper(){new k.S(".swiper-container",{direction:"horizontal",loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}}return(Xe=_).\u0275fac=function(C){return new(C||Xe)(Ce.rXU(St.Ix))},Xe.\u0275cmp=Ce.VBU({type:Xe,selectors:[["app-home"]],viewQuery:function(C,F){if(1&C&&(Ce.GBs(ma,7),Ce.GBs(Kl,5)),2&C){let Q;Ce.mGM(Q=Ce.lsd())&&(F.timelineContainer=Q.first),Ce.mGM(Q=Ce.lsd())&&(F.swiperRef=Q.first)}},decls:316,vars:6,consts:[["swiper",""],["timelineContainer",""],[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[3,"fullscreen"],[1,"header-container"],[1,"header",2,"background-image","url('https://prensaregional.pe/wp-content/uploads/2020/10/Central-Solar-Fotovoltaica-Rubi-se-ubica-en-Moquegua.jpg')"],[1,"overlay"],[1,"header-text"],[1,"swiper-container"],[1,"swiper-wrapper"],[1,"swiper-slide"],[1,"swiper-pagination"],[1,"swiper-button-prev"],[1,"swiper-button-next"],[1,"st"],[1,"a"],[2,"margin-top","30px"],[1,"c"],[1,"z"],[1,"sty"],["id","styContainer",1,"sub_sty"],[1,"ssy"],["id","styContainer",1,"ssy_sty"],[1,"stys"],["id","stysContainer",1,"sub_stys"],[2,"margin-left","14px","font-family","'Times New Roman', Times, serif","font-size","30px","padding-top","30px"],[2,"width","100%","height","310px","position","relative","background-size","cover","background-image","url('assets/historia.jpeg')","background-position","center","background-repeat","no-repeat","padding","0","overflow","hidden","opacity","1"],[1,"timeline-container-horizontal"],[1,"timeline-event-horizontal"],[1,"timeline-icon-horizontal"],[1,"timeline-content-horizontal"],[1,"timeline-date"],[2,"height","auto"],[2,"color","rgb(20, 219, 20)","margin-left","30px","margin-top","50px","font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"],["size-xs","12","size-md","5","size-lg","5"],[1,"class"],["size-xs","12","size-md","6","size-lg","6"],[2,"width","100%","height","100%","background-color","blue","display","flex","align-items","center","justify-content","center","overflow","hidden"],["src","https://ingeoexpert.com/wp-content/uploads/2019/03/energia-solar-fotovoltaica.jpg",2,"width","100%","height","auto","max-height","100%"],[2,"width","100%","height","auto","background-color","black",3,"swiper","loop","pagination"],[1,"ion"],[1,"dark-bg"],[1,"section-1"],[2,"font-family","'Times New Roman', Times, serif"],[1,"section-2"],["size-lg","4","size-xs","12"],[2,"background-color","black"],["name","bulb-outline",1,"foco"],[2,"margin-bottom","5px","font-family","'Times New Roman', Times, serif","color","white"],[2,"font-family","'Times New Roman', Times, serif","color","white"],["name","golf-outline",1,"recurso"],["name","leaf-outline",1,"logro"],[2,"width","100%","height","auto","padding-left","20px","padding-right","15px","padding-top","20px","padding-bottom","20px","background-color","red"],[2,"width","100%"],[2,"width","100%","height","100%","background-color","black"],["size-xs","12","size-md","6","size-lg","6",2,"background-color","aliceblue"],[2,"width","100%","height","auto","position","relative","background-size","cover"],[1,"vertical-container"],[2,"color","rgb(16, 232, 16)","font-family","'Times New Roman', Times, serif"],[2,"margin-top","20px","margin-bottom","20px","color","rgb(16, 232, 16)","font-family","'Times New Roman', Times, serif"],["size-xs","12","size-md","6","size-lg","6",2,"background-color","rgb(77, 102, 124)"],[1,"vertical-containers"],[1,"transition-img",3,"src"],[1,"imgd"]],template:function(C,F){if(1&C){const Q=Ce.RV6();Ce.j41(0,"ion-header",2)(1,"ion-segment",3),Ce.bIt("ionChange",function(ge){return Ce.eBV(Q),Ce.Njj(F.segmentChanged(ge))}),Ce.j41(2,"ion-segment-button",4),Ce.nrm(3,"ion-icon",5),Ce.EFF(4,"Inicio "),Ce.k0s(),Ce.j41(5,"ion-segment-button",6),Ce.nrm(6,"ion-icon",7),Ce.EFF(7,"Paneles "),Ce.k0s(),Ce.j41(8,"ion-segment-button",8),Ce.nrm(9,"ion-icon",9),Ce.EFF(10,"Generador Solar "),Ce.k0s()()(),Ce.j41(11,"ion-content",10)(12,"div",11)(13,"div",12),Ce.nrm(14,"div",13),Ce.j41(15,"div",14)(16,"p"),Ce.EFF(17,"La energ\xeda solar"),Ce.k0s(),Ce.j41(18,"div",15,0)(20,"div",16)(21,"div",17),Ce.EFF(22,"De divinidad a objeto de estudio de Albert Einstein, desde los albores de la humanidad la luz solar ha ido de la mano del ser humano."),Ce.k0s(),Ce.j41(23,"div",17),Ce.EFF(24,"Hemos aprovechado su energ\xeda para iluminar nuestras vidas, alimentar nuestras ciudades y alimentar nuestras mentes con la esperanza de un futuro m\xe1s sostenible."),Ce.k0s(),Ce.j41(25,"div",17),Ce.EFF(26,"Explora con nosotros la maravilla de la energ\xeda solar y descubre c\xf3mo est\xe1 dando forma a nuestro mundo y nuestro futuro."),Ce.k0s()(),Ce.nrm(27,"div",18)(28,"div",19)(29,"div",20),Ce.k0s()()()(),Ce.j41(30,"div",21)(31,"p",22),Ce.EFF(32,"\xbfQue es la Energia solar?"),Ce.k0s(),Ce.j41(33,"div",23)(34,"h1",24),Ce.EFF(35,"La madre de todas las"),Ce.k0s(),Ce.j41(36,"h1",24),Ce.EFF(37,"Energias"),Ce.k0s(),Ce.j41(38,"h1",25),Ce.EFF(39,"Energias"),Ce.k0s()()(),Ce.j41(40,"div",26)(41,"div",27)(42,"p"),Ce.EFF(43,"La energ\xeda solar es la energ\xeda madre de la Tierra. Gracias a la radiaci\xf3n solar,"),Ce.k0s(),Ce.j41(44,"p"),Ce.EFF(45,"por ejemplo, las plantas realizan la fotos\xedntesis de la clorofila y ponen en"),Ce.k0s(),Ce.j41(46,"p"),Ce.EFF(47,"marcha el proceso que permite la supervivencia de los seres vivos que"),Ce.k0s(),Ce.j41(48,"p"),Ce.EFF(49,"habitan el planeta. La radiaci\xf3n solar tambi\xe9n es el origen de los vientos, las"),Ce.k0s(),Ce.j41(50,"p"),Ce.EFF(51,"mareas y los combustibles f\xf3siles: el Sol es el motor principal de casi todas"),Ce.k0s(),Ce.j41(52,"p"),Ce.EFF(53,"las formas de energ\xeda de nuestro planeta."),Ce.k0s()()(),Ce.j41(54,"div",28)(55,"div",29)(56,"p"),Ce.EFF(57,"Durante siglos, el ser humano ha sacado provecho del estrecho v\xednculo que"),Ce.k0s(),Ce.j41(58,"p"),Ce.EFF(59,"existe entre las plantas y el sol, sobre todo para aprender a gestionar el ciclo vital"),Ce.k0s(),Ce.j41(60,"p"),Ce.EFF(61,"de los vegetales necesarios para su alimentaci\xf3n. Con la llegada del progreso"),Ce.k0s(),Ce.j41(62,"p"),Ce.EFF(63,"tecnol\xf3gico de finales del siglo XIX fue posible transformar la fuerza del sol en"),Ce.k0s(),Ce.j41(64,"p"),Ce.EFF(65,"energ\xeda el\xe9ctrica gracias a la invenci\xf3n de la c\xe9lula solar, el dispositivo que"),Ce.k0s(),Ce.j41(66,"p"),Ce.EFF(67,"convierte la radiaci\xf3n del sol en energ\xeda el\xe9ctrica,."),Ce.k0s()()(),Ce.j41(68,"div",30)(69,"section",31)(70,"p"),Ce.EFF(71,"En la actualidad, casi 150 a\xf1os despu\xe9s de la fabricaci\xf3n de la primera c\xe9lula"),Ce.k0s(),Ce.j41(72,"p"),Ce.EFF(73,"fotovoltaica, la energ\xeda solar es el tipo de energ\xeda renovable que m\xe1s crece"),Ce.k0s(),Ce.j41(74,"p"),Ce.EFF(75,"proporcionalmente (+24 % al a\xf1o seg\xfan el informe IRENA 2019) en"),Ce.k0s(),Ce.j41(76,"p"),Ce.EFF(77,"consonancia con el desarrollo tecnol\xf3gico, que permite la construcci\xf3n de"),Ce.k0s(),Ce.j41(78,"p"),Ce.EFF(79,"parques solares cada vez m\xe1s eficientes. El sol va a seguir "),Ce.k0s(),Ce.j41(80,"p"),Ce.EFF(81,"brillando en lo m\xe1s alto, tambi\xe9n de las energ\xedas sostenibles."),Ce.k0s()(),Ce.j41(82,"p",32),Ce.EFF(83,"Historia de la Energia Solar"),Ce.k0s()(),Ce.j41(84,"div",33)(85,"div",34,1)(87,"div",35),Ce.nrm(88,"div",36),Ce.j41(89,"div",37)(90,"h3"),Ce.EFF(91,"2500 a.C."),Ce.k0s(),Ce.j41(92,"p"),Ce.EFF(93,"El Dios del Sol"),Ce.k0s(),Ce.j41(94,"span",38),Ce.EFF(95,"El Sol se considera fuente de vida y es venerado como una deidad."),Ce.k0s()()(),Ce.j41(96,"div",35),Ce.nrm(97,"div",36),Ce.j41(98,"div",37)(99,"h3"),Ce.EFF(100,"800 a.C."),Ce.k0s(),Ce.j41(101,"p"),Ce.EFF(102,"El fuego de Olimpia"),Ce.k0s(),Ce.j41(103,"span",38),Ce.EFF(104,"La llama ol\xedmpica fue creada con una lente que concentraba el calor solar."),Ce.k0s()()(),Ce.j41(105,"div",35),Ce.nrm(106,"div",36),Ce.j41(107,"div",37)(108,"h3"),Ce.EFF(109,"Siglo X"),Ce.k0s(),Ce.j41(110,"p"),Ce.EFF(111,"El descubrimiento de la refracci\xf3n "),Ce.k0s(),Ce.j41(112,"span",38),Ce.EFF(113,"El m\xe9dico y cient\xedfico \xe1rabe Ibn al-Haytham explica en su \xabLibro de la \xf3ptica\xbb el mecanismo de refracci\xf3n de la luz y por qu\xe9 una esfera de un material transparente concentra la radiaci\xf3n del sol en un punto situado debajo de la esfera. Sus escritos tienen una gran influencia en Bacon y otros fil\xf3sofos europeos. "),Ce.k0s()()(),Ce.j41(114,"div",35),Ce.nrm(115,"div",36),Ce.j41(116,"div",37)(117,"h3"),Ce.EFF(118,"1767"),Ce.k0s(),Ce.j41(119,"p"),Ce.EFF(120,"El primer colector Solar"),Ce.k0s(),Ce.j41(121,"span",38),Ce.EFF(122,"El cient\xedfico \u2014y alpinista\u2014 suizo Horace de Saussurre inventa el primer colector solar. Con una olla de madera forrada de corcho negro y recubierta de tres capas de vidrio consigue concentrar el calor y hacer que el agua de la olla hierva. "),Ce.k0s()()(),Ce.j41(123,"div",35),Ce.nrm(124,"div",36),Ce.j41(125,"div",37)(126,"h3"),Ce.EFF(127,"1839"),Ce.k0s(),Ce.j41(128,"p"),Ce.EFF(129,"Del platino a la electricidad "),Ce.k0s(),Ce.j41(130,"span",38),Ce.EFF(131,"El f\xedsico franc\xe9s Edmond Becquerel observa que algunas barras de platino a las que les da la luz del sol producen una peque\xf1a cantidad de electricidad. Se trata del efecto fotoel\xe9ctrico, un fen\xf3meno que en la actualidad sigue siendo la base del funcionamiento de las c\xe9lulas fotovoltaicas. "),Ce.k0s()()(),Ce.j41(132,"div",35),Ce.nrm(133,"div",36),Ce.j41(134,"div",37)(135,"h3"),Ce.EFF(136,"1879"),Ce.k0s(),Ce.j41(137,"p"),Ce.EFF(138,"La primera celula Solar "),Ce.k0s(),Ce.j41(139,"span",38),Ce.EFF(140,"Charles Fritts crea en Estados Unidos las primeras c\xe9lulas con una capa de selenio y otra de oro. Consiguen transformar en electricidad \xfanicamente el 1 % de la energ\xeda solar que reciben, pero sientan las bases para la aplicaci\xf3n pr\xe1ctica de los descubrimientos realizados hasta ese momento. "),Ce.k0s()()(),Ce.j41(141,"div",35),Ce.nrm(142,"div",36),Ce.j41(143,"div",37)(144,"h3"),Ce.EFF(145,"1921"),Ce.k0s(),Ce.j41(146,"p"),Ce.EFF(147,"Einstein, fotones y electrones "),Ce.k0s(),Ce.j41(148,"span",38),Ce.EFF(149,"Albert Einstein recibe el Premio Nobel de F\xedsica por la formulaci\xf3n de la ley del efecto fotoel\xe9ctrico, en la que explica c\xf3mo interact\xfaa la luz con la electricidad. El cient\xedfico demuestra que la luz contiene fotones dotados de energ\xeda, que ponen en movimiento los electrones dentro de ciertos materiales como el selenio. "),Ce.k0s()()(),Ce.j41(150,"div",35),Ce.nrm(151,"div",36),Ce.j41(152,"div",37)(153,"h3"),Ce.EFF(154,"1954"),Ce.k0s(),Ce.j41(155,"p"),Ce.EFF(156,"El silicio marca el comienzo de una nueva era "),Ce.k0s(),Ce.j41(157,"span",38),Ce.EFF(158,"Chapin, Filler y Pearson desarrollan una c\xe9lula solar fotovoltaica a base de silicio que convierte la energ\xeda solar en electricidad y es capaz de proporcionar energ\xeda a ciertos dispositivos de uso diario. El New York Times lopresenta como \xabel comienzo de una nueva era que permitir\xe1 aprovechar la energ\xeda ilimitada del sol en su totalidad en beneficio de todos los usos de la civilizaci\xf3n\xbb. "),Ce.k0s()()(),Ce.j41(159,"div",35),Ce.nrm(160,"div",36),Ce.j41(161,"div",37)(162,"h3"),Ce.EFF(163,"1982"),Ce.k0s(),Ce.j41(164,"p"),Ce.EFF(165,"La energia solar a cutatro ruedas "),Ce.k0s(),Ce.j41(166,"span",38),Ce.EFF(167,"En Australia nace el primer coche alimentado por c\xe9lulas solares, el Quiet Achiever. "),Ce.k0s()()(),Ce.j41(168,"div",35),Ce.nrm(169,"div",36),Ce.j41(170,"div",37)(171,"h3"),Ce.EFF(172,"2016"),Ce.k0s(),Ce.j41(173,"p"),Ce.EFF(174,"El sol esta cada vez mas al oeste"),Ce.k0s(),Ce.j41(175,"span",38),Ce.EFF(176,"En China se construye el parque solar del desierto de Tengger, la central fotovoltaica m\xe1s grande del mundo. "),Ce.k0s()()(),Ce.j41(177,"div",35),Ce.nrm(178,"div",36),Ce.j41(179,"div",37)(180,"h3"),Ce.EFF(181,"2016"),Ce.k0s(),Ce.j41(182,"p"),Ce.EFF(183,"El sol esta cada vez mas al oeste"),Ce.k0s(),Ce.j41(184,"span",38),Ce.EFF(185,"En China se construye el parque solar del desierto de Tengger, la central fotovoltaica m\xe1s grande del mundo. "),Ce.k0s()()()()(),Ce.j41(186,"div",39),Ce.nrm(187,"hr"),Ce.j41(188,"h1",40),Ce.EFF(189,"\xbf Que es la Enegia fotovoltaica?"),Ce.k0s(),Ce.j41(190,"ion-grid")(191,"ion-row")(192,"ion-col",41)(193,"p",42),Ce.EFF(194,"La energ\xeda fotovoltaica es una forma de generaci\xf3n de energ\xeda el\xe9ctrica que aprovecha la radiaci\xf3n solar para producir electricidad. Este proceso se lleva a cabo mediante el uso de dispositivos llamados c\xe9lulas fotovoltaicas o paneles solares. Estas c\xe9lulas est\xe1n hechas de materiales semiconductores, como el silicio, que tienen la capacidad de convertir la luz solar directamente en electricidad a trav\xe9s del efecto fotovoltaico. "),Ce.k0s(),Ce.j41(195,"p",42),Ce.EFF(196,"Cuando la luz solar incide sobre las c\xe9lulas fotovoltaicas, los fotones de luz excitan los electrones en el material semiconductor, generando as\xed una corriente el\xe9ctrica. Estas corrientes individuales de las c\xe9lulas se combinan en m\xf3dulos solares, y m\xfaltiples m\xf3dulos se pueden instalar juntos para formar un sistema fotovoltaico m\xe1s grande. "),Ce.k0s(),Ce.j41(197,"p",42),Ce.EFF(198,"La energ\xeda fotovoltaica es una fuente de energ\xeda renovable y sostenible, ya que utiliza la luz del sol, una fuente inagotable, para generar electricidad sin emitir gases de efecto invernadero u otros contaminantes atmosf\xe9ricos directos durante su operaci\xf3n. Esta forma de generaci\xf3n de energ\xeda es ampliamente utilizada en aplicaciones residenciales, comerciales e industriales, as\xed como en proyectos a gran escala para la generaci\xf3n de energ\xeda a nivel de red. "),Ce.k0s()(),Ce.j41(199,"ion-col",43)(200,"div",44),Ce.nrm(201,"ion-img",45),Ce.k0s()()()()(),Ce.j41(202,"swiper-container",46,0),Ce.bIt("swiper",function(){return Ce.eBV(Q),Ce.Njj(F.swiperReady())}),Ce.j41(204,"swiper-slide")(205,"div",47)(206,"div",48)(207,"div",49)(208,"h1",50),Ce.EFF(209,"Ventajas de la energia solar"),Ce.k0s()(),Ce.j41(210,"div",51)(211,"ion-grid")(212,"ion-row")(213,"ion-col",52)(214,"ion-card",53)(215,"ion-card-header"),Ce.nrm(216,"ion-icon",54),Ce.k0s(),Ce.j41(217,"ion-card-content")(218,"h1",55),Ce.EFF(219,"Amplios m\xe1rgenes de desarrollo"),Ce.k0s(),Ce.j41(220,"p",56),Ce.EFF(221,"La eficiencia media de los paneles solares es del 20 %, pero la innovaci\xf3n tecnol\xf3gica est\xe1 subiendo el list\xf3n a\xf1o tras a\xf1o. La heterouni\xf3n ya est\xe1 en el 24,63 % y la multiuni\xf3n ya ha superado el 40 %."),Ce.k0s(),Ce.nrm(222,"p"),Ce.k0s()()(),Ce.j41(223,"ion-col",52)(224,"ion-card",53)(225,"ion-card-header"),Ce.nrm(226,"ion-icon",57),Ce.k0s(),Ce.j41(227,"ion-card-content")(228,"h1",55),Ce.EFF(229,"Un recurso escalable"),Ce.k0s(),Ce.j41(230,"p",56),Ce.EFF(231,"De los tejados de las casas para uso dom\xe9stico a las centrales de energ\xeda solar para cubrir las necesidades energ\xe9ticas de un pa\xeds, la energ\xeda solar puede satisfacer una amplia variedad de necesidades. "),Ce.k0s()()()(),Ce.j41(232,"ion-col",52)(233,"ion-card",53)(234,"ion-card-header"),Ce.nrm(235,"ion-icon",58),Ce.k0s(),Ce.j41(236,"ion-card-content")(237,"h1",55),Ce.EFF(238,"Un recurso escalable"),Ce.k0s(),Ce.j41(239,"p",56),Ce.EFF(240,"Una instalaci\xf3n fotovoltaica no emite ning\xfan ruido durante su funcionamiento. Cero emisiones de CO2 y cero decibelios mientrasse produce nueva energ\xeda sostenible. "),Ce.k0s()()()()()()()()()(),Ce.j41(241,"swiper-slide")(242,"div",47)(243,"div",48)(244,"div",49)(245,"h1",50),Ce.EFF(246,"Ventajas de la energia solar"),Ce.k0s()(),Ce.j41(247,"div",51)(248,"ion-grid")(249,"ion-row")(250,"ion-col",52)(251,"ion-card",53)(252,"ion-card-header"),Ce.nrm(253,"ion-icon",54),Ce.k0s(),Ce.j41(254,"ion-card-content")(255,"h1",55),Ce.EFF(256,"Amplios m\xe1rgenes de desarrollo"),Ce.k0s(),Ce.j41(257,"p",56),Ce.EFF(258,"La eficiencia media de los paneles solares es del 20 %, pero la innovaci\xf3n tecnol\xf3gica est\xe1 subiendo el list\xf3n a\xf1o tras a\xf1o. La heterouni\xf3n ya est\xe1 en el 24,63 % y la multiuni\xf3n ya ha superado el 40 %."),Ce.k0s(),Ce.nrm(259,"p"),Ce.k0s()()(),Ce.j41(260,"ion-col",52)(261,"ion-card",53)(262,"ion-card-header"),Ce.nrm(263,"ion-icon",57),Ce.k0s(),Ce.j41(264,"ion-card-content")(265,"h1",55),Ce.EFF(266,"Un recurso escalable"),Ce.k0s(),Ce.j41(267,"p",56),Ce.EFF(268,"De los tejados de las casas para uso dom\xe9stico a las centrales de energ\xeda solar para cubrir las necesidades energ\xe9ticas de un pa\xeds, la energ\xeda solar puede satisfacer una amplia variedad de necesidades. "),Ce.k0s()()()(),Ce.j41(269,"ion-col",52)(270,"ion-card",53)(271,"ion-card-header"),Ce.nrm(272,"ion-icon",58),Ce.k0s(),Ce.j41(273,"ion-card-content")(274,"h1",55),Ce.EFF(275,"Un recurso escalable"),Ce.k0s(),Ce.j41(276,"p",56),Ce.EFF(277,"Una instalaci\xf3n fotovoltaica no emite ning\xfan ruido durante su funcionamiento. Cero emisiones de CO2 y cero decibelios mientrasse produce nueva energ\xeda sostenible. "),Ce.k0s()()()()()()()()()()(),Ce.j41(278,"div",59)(279,"ion-grid",60)(280,"ion-row",61)(281,"ion-col",62)(282,"div",63)(283,"div",64)(284,"h2",65),Ce.EFF(285,"Energia Solar"),Ce.k0s(),Ce.j41(286,"p"),Ce.EFF(287,"Una opcion para tener energia solar abajo costo y seguro. "),Ce.k0s(),Ce.j41(288,"p",66),Ce.EFF(289,"Aplicaciones de la energia solar"),Ce.k0s(),Ce.j41(290,"p",65),Ce.EFF(291,"Energ\xeda Residencial "),Ce.k0s(),Ce.j41(292,"p"),Ce.EFF(293,"Muchos hogares utilizan paneles solares para generar electricidad, reduciendo su dependencia de la red el\xe9ctrica y sus costos de energ\xeda"),Ce.k0s(),Ce.j41(294,"p",65),Ce.EFF(295,"Instalaciones Comerciales"),Ce.k0s(),Ce.j41(296,"p"),Ce.EFF(297," Empresas de diversos tama\xf1os instalan sistemas fotovoltaicos para alimentar sus operaciones, desde peque\xf1as tiendas hasta grandes f\xe1bricas y centros comerciales."),Ce.k0s(),Ce.j41(298,"p",65),Ce.EFF(299," Agricultura"),Ce.k0s(),Ce.j41(300,"p"),Ce.EFF(301," La energ\xeda solar fotovoltaica ayuda a los agricultores a operar sistemas de riego, ventiladores, bombas y otros equipos necesarios en sus cultivos, optimizando costos y recursos."),Ce.k0s(),Ce.EFF(302,"\xb4\n"),Ce.j41(303,"p",65),Ce.EFF(304,"Transporte"),Ce.k0s(),Ce.j41(305,"p"),Ce.EFF(306," Aplicaciones en transporte incluyen la alimentaci\xf3n de se\xf1ales de tr\xe1fico y farolas, adem\xe1s de su uso en veh\xedculos el\xe9ctricos que integran paneles solares para extender su autonom\xeda."),Ce.k0s(),Ce.j41(307,"p",65),Ce.EFF(308,"Energ\xeda para \xc1reas Remotas"),Ce.k0s(),Ce.j41(309,"p"),Ce.EFF(310," Los paneles solares proporcionan electricidad en lugares que no est\xe1n conectados a la red el\xe9ctrica, permitiendo acceso a electricidad en \xe1reas aisladas para escuelas, hospitales y comunidades rurales. "),Ce.k0s()()()(),Ce.j41(311,"ion-col",67)(312,"div",68),Ce.nrm(313,"ion-img",69),Ce.k0s()()()()(),Ce.j41(314,"div"),Ce.nrm(315,"div",70),Ce.k0s()()}2&C&&(Ce.Y8G("translucent",!0),Ce.R7$(),Ce.Y8G("scrollable",!0),Ce.R7$(10),Ce.Y8G("fullscreen",!0),Ce.R7$(191),Ce.Y8G("loop",!0)("pagination",!0),Ce.R7$(111),Ce.Y8G("src",F.currentImage))},dependencies:[p.b_,p.I9,p.ME,p.hU,p.W9,p.lO,p.eU,p.iq,p.KW,p.ln,p.Gp,p.eP,p.Je],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0}.header-container[_ngcontent-%COMP%]{position:relative;height:1010px;overflow:hidden}.header[_ngcontent-%COMP%]{position:relative;height:100%;background-size:cover;background-image:url(https://prensaregional.pe/wp-content/uploads/2020/10/Central-Solar-Fotovoltaica-Rubi-se-ubica-en-Moquegua.jpg);background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1}.header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(#00000080,#00000080)}.header-text[_ngcontent-%COMP%]{font-family:Montserrat;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:1;font-size:4rem}.swiper-container[_ngcontent-%COMP%]{width:100%;height:100%}.swiper-slide[_ngcontent-%COMP%]{text-align:center;font-size:18px;background-position:center;border-radius:10%;font-family:Montserrat,sans-serif;font-size:1.2rem;line-height:1.5;margin:0%}.sty[_ngcontent-%COMP%]{margin-top:-60px;padding-top:20px;text-align:center!important;-webkit-font-smoothing:antialiased;font:40px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.8rem;position:relative;background-size:100% auto;padding-left:1rem;color:#fffaf0!important;padding-bottom:15px;background-color:#000!important}.sub_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:1.4rem}@media (max-width: 601px){.sub_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.ssy[_ngcontent-%COMP%]   .ssy_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.sty[_ngcontent-%COMP%]   .sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 601px){.stys[_ngcontent-%COMP%]   .sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;padding-left:.7rem}}.class[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:18px;margin-left:40px;margin-top:20px}@media (max-width: 601px){.class[_ngcontent-%COMP%]{font-size:15px;margin-left:20px;margin-top:20px}}.ssy[_ngcontent-%COMP%]{padding-top:20px;text-align:center!important;-webkit-font-smoothing:antialiased;font:40px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.8rem;position:relative;background-size:100% auto;padding-left:1.1rem;color:#fffaf0!important;padding-bottom:15px;background-color:#000!important}.ssy_sty[_ngcontent-%COMP%]{text-align:left;margin-top:10px}.ssy_sty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-family:Times New Roman,Times,serif;font-size:1.4rem}.sub_stys[_ngcontent-%COMP%]{text-align:left;margin-top:10px}.stys[_ngcontent-%COMP%]{margin-top:0;text-align:left!important;-webkit-font-smoothing:antialiased;font:30px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:flex;flex-direction:column;align-items:center;justify-content:center;background:transparent no-repeat bottom;font-size:1.5rem;position:relative;background-size:100% auto;color:#fff!important;padding-bottom:150px;background-color:#000!important}.sub_stys[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;font-size:1.4rem;background-color:#000;font-family:Times New Roman,Times,serif}.a[_ngcontent-%COMP%]{color:#fff;margin-top:150px;font-size:1.5rem}.c[_ngcontent-%COMP%]{font-size:3.2rem;color:#fff}.z[_ngcontent-%COMP%]{font-size:3.2rem;color:#000}section[_ngcontent-%COMP%]{margin-top:-70px;-webkit-text-size-adjust:100%;--swiper-theme-color: #007aff;--swiper-navigation-size: 44px;text-align:left;-webkit-font-smoothing:antialiased;font:20px Roobert,sans-serif;font-weight:400;box-sizing:border-box!important;display:block;background:transparent no-repeat bottom;font-size:.8rem;position:relative;background-size:100% auto;padding-top:1.2rem;padding-left:.4rem;background-color:#000408!important}.af[_ngcontent-%COMP%]{margin-bottom:40px}.st[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#000;padding-top:.5rem;padding-left:12rem}@media (max-width: 600px){.st[_ngcontent-%COMP%]{padding-left:1.4rem}}@media (max-width: 600px){.a[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 600px){.c[_ngcontent-%COMP%]{font-size:1.8rem}}.st[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{margin-left:1.6rem}.st[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%], .st[_ngcontent-%COMP%]   .z[_ngcontent-%COMP%]{margin-left:.9rem}.ion[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#000;margin-bottom:20pxs}.dark-bg[_ngcontent-%COMP%]{margin:15px 30px;height:100%;background-color:#000}.section-1[_ngcontent-%COMP%]{margin:40px 20px 30px;padding-top:20px;color:#fff;font-family:Times New Roman,Times,serif}.section-1[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:20px}.section-1[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.section-2[_ngcontent-%COMP%]{margin:20px;background-color:#0000;height:90%}.section-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.section-3[_ngcontent-%COMP%]{margin:20px;text-align:center}.section-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0}.imgd[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:100vh;background:linear-gradient(to bottom,transparent 0%,rgba(0,0,0,.5) 80%),url(https://img.freepik.com/foto-gratis/paneles-solares-techo-celula-solar_335224-1324.jpg?size=626&ext=jpg&ga=GA1.1.1803636316.1707350400&semt=ais);background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;align-items:center;justify-content:center;overflow:hidden;opacity:1.9;box-shadow:8px 9px 8px #000}.foco[_ngcontent-%COMP%], .recurso[_ngcontent-%COMP%], .logro[_ngcontent-%COMP%]{color:#fff;font-size:24px;background-color:#0e141a}.paneles[_ngcontent-%COMP%]{width:100%;height:650px;padding:30px 30px 60px}swiper-container[_ngcontent-%COMP%]{width:100%;height:auto}swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.swiper-button-prev[_ngcontent-%COMP%], .swiper-button-next[_ngcontent-%COMP%]{position:absolute;top:50%;width:27px;height:44px;margin-top:-22px;z-index:10;cursor:pointer;background-size:27px 44px;background-position:center;background-repeat:no-repeat}.encabezado2[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;border:.1spx solid black-}.encabezado[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.timeline-container-horizontal[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:20px;gap:20px}.timeline-event-horizontal[_ngcontent-%COMP%]{display:inline-block;position:relative;padding:10px;width:350px!important;height:auto;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a;text-align:center}.timeline-icon-horizontal[_ngcontent-%COMP%]{position:absolute;top:-10px;left:50%;transform:translate(-50%);width:30px;height:30px;background-color:#ff5722;border-radius:50%;box-shadow:0 2px 5px #0000004d}.timeline-content-horizontal[_ngcontent-%COMP%]{padding:10px;border-radius:5px;text-align:center;height:auto;overflow-x:auto;white-space:normal;word-wrap:break-word;width:350px}.timeline-date[_ngcontent-%COMP%]{font-size:.85em;color:#757575;margin-top:10px}.vertical-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;background-color:#f5f5f5}.fondo[_ngcontent-%COMP%]{position:relative;height:100vh;background-size:cover;background-position:center;background-repeat:no-repeat;padding:0;overflow:hidden;opacity:1}.vertical-containers[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#f5f5f5}.transition-img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:10px}']}),_})()}];let Jo=(()=>{var Xe;class _{}return(Xe=_).\u0275fac=function(C){return new(C||Xe)},Xe.\u0275mod=Ce.$C({type:Xe}),Xe.\u0275inj=Ce.G2t({imports:[St.iI.forChild(Nl),St.iI]}),_})(),Dr=(()=>{var Xe;class _{}return(Xe=_).\u0275fac=function(C){return new(C||Xe)},Xe.\u0275mod=Ce.$C({type:Xe}),Xe.\u0275inj=Ce.G2t({imports:[b.MD,Ue.YN,p.bv,Jo]}),_})()},4652:(Bi,xn,pe)=>{"use strict";pe.r(xn),pe.d(xn,{TresPageModule:()=>wy});var b=pe(177),p=pe(4341),Ue=pe(7863),St=pe(70),k=pe(4438),Nt=pe(467);const Lt=1,dn=2,zt=3,fn=0,wn=1,ai=2,sr=0,Hr=1,vr=2,Ci=3,Ei=4,lr=5,cs=6,Lr=7,Fr="attached",zi=301,Ls=302,Fs=306,rt=1e3,g=1001,ct=1003,Oe=1005,fe=1006,we=1008,L=1009,he=1014,me=1015,Pt=1020,Qt=1023,Wt=1026,un=1027,Yo=2300,Mr=2301,xt="srgb",At="srgb-linear",Pn="display-p3",Hn="display-p3-linear",$n="linear",In="srgb",_i="rec709",Pi="p3",er=7680,go="300 es",ra=2e3;class X{addEventListener(e,n){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(n)&&r[e].push(n)}hasEventListener(e,n){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(n)}removeEventListener(e,n){if(void 0===this._listeners)return;const o=this._listeners[e];if(void 0!==o){const l=o.indexOf(n);-1!==l&&o.splice(l,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const r=this._listeners[e.type];if(void 0!==r){e.target=this;const o=r.slice(0);for(let l=0,d=o.length;l<d;l++)o[l].call(this,e);e.target=null}}}const Re=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const Ye=Math.PI/180,ti=180/Math.PI;function qi(){const c=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Re[255&c]+Re[c>>8&255]+Re[c>>16&255]+Re[c>>24&255]+"-"+Re[255&e]+Re[e>>8&255]+"-"+Re[e>>16&15|64]+Re[e>>24&255]+"-"+Re[63&n|128]+Re[n>>8&255]+"-"+Re[n>>16&255]+Re[n>>24&255]+Re[255&r]+Re[r>>8&255]+Re[r>>16&255]+Re[r>>24&255]).toLowerCase()}function ji(c,e,n){return Math.max(e,Math.min(n,c))}function sa(c,e){return(c%e+e)%e}function Ia(c,e,n){return(1-n)*c+n*e}function $s(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return c/4294967295;case Uint16Array:return c/65535;case Uint8Array:return c/255;case Int32Array:return Math.max(c/2147483647,-1);case Int16Array:return Math.max(c/32767,-1);case Int8Array:return Math.max(c/127,-1);default:throw new Error("Invalid component type.")}}function Cr(c,e){switch(e.constructor){case Float32Array:return c;case Uint32Array:return Math.round(4294967295*c);case Uint16Array:return Math.round(65535*c);case Uint8Array:return Math.round(255*c);case Int32Array:return Math.round(2147483647*c);case Int16Array:return Math.round(32767*c);case Int8Array:return Math.round(127*c);default:throw new Error("Invalid component type.")}}const bl_DEG2RAD=Ye,bl_radToDeg=function oo(c){return c*ti};class Gn{constructor(e=0,n=0){Gn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6],this.y=o[1]*n+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===n)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ji(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),o=Math.sin(n),l=this.x-e.x,d=this.y-e.y;return this.x=l*r-d*o+e.x,this.y=l*o+d*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jr{constructor(e,n,r,o,l,d,f,m,v){jr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,n,r,o,l,d,f,m,v)}set(e,n,r,o,l,d,f,m,v){const w=this.elements;return w[0]=e,w[1]=o,w[2]=f,w[3]=n,w[4]=l,w[5]=m,w[6]=r,w[7]=d,w[8]=v,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,d=r[0],f=r[3],m=r[6],v=r[1],w=r[4],S=r[7],A=r[2],R=r[5],B=r[8],Y=o[0],H=o[3],U=o[6],ue=o[1],re=o[4],de=o[7],dt=o[2],Ge=o[5],Ze=o[8];return l[0]=d*Y+f*ue+m*dt,l[3]=d*H+f*re+m*Ge,l[6]=d*U+f*de+m*Ze,l[1]=v*Y+w*ue+S*dt,l[4]=v*H+w*re+S*Ge,l[7]=v*U+w*de+S*Ze,l[2]=A*Y+R*ue+B*dt,l[5]=A*H+R*re+B*Ge,l[8]=A*U+R*de+B*Ze,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],d=e[4],f=e[5],m=e[6],v=e[7],w=e[8];return n*d*w-n*f*v-r*l*w+r*f*m+o*l*v-o*d*m}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],d=e[4],f=e[5],m=e[6],v=e[7],w=e[8],S=w*d-f*v,A=f*m-w*l,R=v*l-d*m,B=n*S+r*A+o*R;if(0===B)return this.set(0,0,0,0,0,0,0,0,0);const Y=1/B;return e[0]=S*Y,e[1]=(o*v-w*r)*Y,e[2]=(f*r-o*d)*Y,e[3]=A*Y,e[4]=(w*n-o*m)*Y,e[5]=(o*l-f*n)*Y,e[6]=R*Y,e[7]=(r*m-v*n)*Y,e[8]=(d*n-r*l)*Y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,o,l,d,f){const m=Math.cos(l),v=Math.sin(l);return this.set(r*m,r*v,-r*(m*d+v*f)+d+e,-o*v,o*m,-o*(-v*d+m*f)+f+n,0,0,1),this}scale(e,n){return this.premultiply(Ya.makeScale(e,n)),this}rotate(e){return this.premultiply(Ya.makeRotation(-e)),this}translate(e,n){return this.premultiply(Ya.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<9;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ya=new jr;function Pl(c){for(let e=c.length-1;e>=0;--e)if(c[e]>=65535)return!0;return!1}function wl(c){return document.createElementNS("http://www.w3.org/1999/xhtml",c)}function zc(){const c=wl("canvas");return c.style.display="block",c}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const du={};function cc(c){c in du||(du[c]=!0,console.warn(c))}const uc=(new jr).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),xl=(new jr).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ra={[At]:{transfer:$n,primaries:_i,toReference:c=>c,fromReference:c=>c},[xt]:{transfer:In,primaries:_i,toReference:c=>c.convertSRGBToLinear(),fromReference:c=>c.convertLinearToSRGB()},[Hn]:{transfer:$n,primaries:Pi,toReference:c=>c.applyMatrix3(xl),fromReference:c=>c.applyMatrix3(uc)},[Pn]:{transfer:In,primaries:Pi,toReference:c=>c.convertSRGBToLinear().applyMatrix3(xl),fromReference:c=>c.applyMatrix3(uc).convertLinearToSRGB()}},fu=new Set([At,Hn]),Os={enabled:!0,_workingColorSpace:At,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(c){if(!fu.has(c))throw new Error(`Unsupported working color space, "${c}".`);this._workingColorSpace=c},convert:function(c,e,n){return!1!==this.enabled&&e!==n&&e&&n?(0,Ra[n].fromReference)((0,Ra[e].toReference)(c)):c},fromWorkingColorSpace:function(c,e){return this.convert(c,this._workingColorSpace,e)},toWorkingColorSpace:function(c,e){return this.convert(c,e,this._workingColorSpace)},getPrimaries:function(c){return Ra[c].primaries},getTransfer:function(c){return""===c?$n:Ra[c].transfer}};function Za(c){return c<.04045?.0773993808*c:Math.pow(.9478672986*c+.0521327014,2.4)}function dc(c){return c<.0031308?12.92*c:1.055*Math.pow(c,.41666)-.055}let al;class eo{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===al&&(al=wl("canvas")),al.width=e.width,al.height=e.height;const r=al.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=al}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wl("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),l=o.data;for(let d=0;d<l.length;d++)l[d]=255*Za(l[d]/255);return r.putImageData(o,0,0),n}if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n[r]=n instanceof Uint8Array||n instanceof Uint8ClampedArray?Math.floor(255*Za(n[r]/255)):Za(n[r]);return{data:n,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let co=0;class ba{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:co++}),this.uuid=qi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.images[this.uuid])return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(null!==o){let l;if(Array.isArray(o)){l=[];for(let d=0,f=o.length;d<f;d++)l.push(Xl(o[d].isDataTexture?o[d].image:o[d]))}else l=Xl(o);r.url=l}return n||(e.images[this.uuid]=r),r}}function Xl(c){return typeof HTMLImageElement<"u"&&c instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&c instanceof ImageBitmap?eo.getDataURL(c):c.data?{data:Array.from(c.data),width:c.width,height:c.height,type:c.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let td=0,zo=(()=>{class c extends X{constructor(n=c.DEFAULT_IMAGE,r=c.DEFAULT_MAPPING,o=g,l=g,d=fe,f=we,m=Qt,v=L,w=c.DEFAULT_ANISOTROPY,S=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:td++}),this.uuid=qi(),this.name="",this.source=new ba(n),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=o,this.wrapT=l,this.magFilter=d,this.minFilter=f,this.anisotropy=w,this.format=m,this.internalFormat=null,this.type=v,this.offset=new Gn(0,0),this.repeat=new Gn(1,1),this.center=new Gn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=S,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(n=null){this.source.data=n}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(n){return this.name=n.name,this.source=n.source,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.channel=n.channel,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.internalFormat=n.internalFormat,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.colorSpace=n.colorSpace,this.userData=JSON.parse(JSON.stringify(n.userData)),this.needsUpdate=!0,this}toJSON(n){const r=void 0===n||"string"==typeof n;if(!r&&void 0!==n.textures[this.uuid])return n.textures[this.uuid];const o={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(n).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(o.userData=this.userData),r||(n.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(n){if(300!==this.mapping)return n;if(n.applyMatrix3(this.matrix),n.x<0||n.x>1)switch(this.wrapS){case rt:n.x=n.x-Math.floor(n.x);break;case g:n.x=n.x<0?0:1;break;case 1002:n.x=1===Math.abs(Math.floor(n.x)%2)?Math.ceil(n.x)-n.x:n.x-Math.floor(n.x)}if(n.y<0||n.y>1)switch(this.wrapT){case rt:n.y=n.y-Math.floor(n.y);break;case g:n.y=n.y<0?0:1;break;case 1002:n.y=1===Math.abs(Math.floor(n.y)%2)?Math.ceil(n.y)-n.y:n.y-Math.floor(n.y)}return this.flipY&&(n.y=1-n.y),n}set needsUpdate(n){!0===n&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(n){!0===n&&this.pmremVersion++}}return c.DEFAULT_IMAGE=null,c.DEFAULT_MAPPING=300,c.DEFAULT_ANISOTROPY=1,c})();class js{constructor(e=0,n=0,r=0,o=1){js.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,o){return this.x=e,this.y=n,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=this.w,d=e.elements;return this.x=d[0]*n+d[4]*r+d[8]*o+d[12]*l,this.y=d[1]*n+d[5]*r+d[9]*o+d[13]*l,this.z=d[2]*n+d[6]*r+d[10]*o+d[14]*l,this.w=d[3]*n+d[7]*r+d[11]*o+d[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,o,l;const m=e.elements,v=m[0],w=m[4],S=m[8],A=m[1],R=m[5],B=m[9],Y=m[2],H=m[6],U=m[10];if(Math.abs(w-A)<.01&&Math.abs(S-Y)<.01&&Math.abs(B-H)<.01){if(Math.abs(w+A)<.1&&Math.abs(S+Y)<.1&&Math.abs(B+H)<.1&&Math.abs(v+R+U-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const re=(v+1)/2,de=(R+1)/2,dt=(U+1)/2,Ge=(w+A)/4,Ze=(S+Y)/4,_t=(B+H)/4;return re>de&&re>dt?re<.01?(r=0,o=.707106781,l=.707106781):(r=Math.sqrt(re),o=Ge/r,l=Ze/r):de>dt?de<.01?(r=.707106781,o=0,l=.707106781):(o=Math.sqrt(de),r=Ge/o,l=_t/o):dt<.01?(r=.707106781,o=.707106781,l=0):(l=Math.sqrt(dt),r=Ze/l,o=_t/l),this.set(r,o,l,n),this}let ue=Math.sqrt((H-B)*(H-B)+(S-Y)*(S-Y)+(A-w)*(A-w));return Math.abs(ue)<.001&&(ue=1),this.x=(H-B)/ue,this.y=(S-Y)/ue,this.z=(A-w)/ue,this.w=Math.acos((v+R+U-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ll extends X{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new js(0,0,e,n),this.scissorTest=!1,this.viewport=new js(0,0,e,n);const o={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:fe,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const l=new zo(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);l.flipY=!1,l.generateMipmaps=r.generateMipmaps,l.internalFormat=r.internalFormat,this.textures=[];const d=r.count;for(let f=0;f<d;f++)this.textures[f]=l.clone(),this.textures[f].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let o=0,l=this.textures.length;o<l;o++)this.textures[o].image.width=e,this.textures[o].image.height=n,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,o=e.textures.length;r<o;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new ba(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Co extends ll{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fc extends zo{constructor(e=null,n=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=ct,this.minFilter=ct,this.wrapR=g,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ol extends zo{constructor(e=null,n=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=ct,this.minFilter=ct,this.wrapR=g,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ao{constructor(e=0,n=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=o}static slerpFlat(e,n,r,o,l,d,f){let m=r[o+0],v=r[o+1],w=r[o+2],S=r[o+3];const A=l[d+0],R=l[d+1],B=l[d+2],Y=l[d+3];if(0===f)return e[n+0]=m,e[n+1]=v,e[n+2]=w,void(e[n+3]=S);if(1===f)return e[n+0]=A,e[n+1]=R,e[n+2]=B,void(e[n+3]=Y);if(S!==Y||m!==A||v!==R||w!==B){let H=1-f;const U=m*A+v*R+w*B+S*Y,ue=U>=0?1:-1,re=1-U*U;if(re>Number.EPSILON){const dt=Math.sqrt(re),Ge=Math.atan2(dt,U*ue);H=Math.sin(H*Ge)/dt,f=Math.sin(f*Ge)/dt}const de=f*ue;if(m=m*H+A*de,v=v*H+R*de,w=w*H+B*de,S=S*H+Y*de,H===1-f){const dt=1/Math.sqrt(m*m+v*v+w*w+S*S);m*=dt,v*=dt,w*=dt,S*=dt}}e[n]=m,e[n+1]=v,e[n+2]=w,e[n+3]=S}static multiplyQuaternionsFlat(e,n,r,o,l,d){const f=r[o],m=r[o+1],v=r[o+2],w=r[o+3],S=l[d],A=l[d+1],R=l[d+2],B=l[d+3];return e[n]=f*B+w*S+m*R-v*A,e[n+1]=m*B+w*A+v*S-f*R,e[n+2]=v*B+w*R+f*A-m*S,e[n+3]=w*B-f*S-m*A-v*R,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,o){return this._x=e,this._y=n,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,o=e._y,l=e._z,d=e._order,f=Math.cos,m=Math.sin,v=f(r/2),w=f(o/2),S=f(l/2),A=m(r/2),R=m(o/2),B=m(l/2);switch(d){case"XYZ":this._x=A*w*S+v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S-A*R*B;break;case"YXZ":this._x=A*w*S+v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S+A*R*B;break;case"ZXY":this._x=A*w*S-v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S-A*R*B;break;case"ZYX":this._x=A*w*S-v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S+A*R*B;break;case"YZX":this._x=A*w*S+v*R*B,this._y=v*R*S+A*w*B,this._z=v*w*B-A*R*S,this._w=v*w*S-A*R*B;break;case"XZY":this._x=A*w*S-v*R*B,this._y=v*R*S-A*w*B,this._z=v*w*B+A*R*S,this._w=v*w*S+A*R*B;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}return!0===n&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],o=n[4],l=n[8],d=n[1],f=n[5],m=n[9],v=n[2],w=n[6],S=n[10],A=r+f+S;if(A>0){const R=.5/Math.sqrt(A+1);this._w=.25/R,this._x=(w-m)*R,this._y=(l-v)*R,this._z=(d-o)*R}else if(r>f&&r>S){const R=2*Math.sqrt(1+r-f-S);this._w=(w-m)/R,this._x=.25*R,this._y=(o+d)/R,this._z=(l+v)/R}else if(f>S){const R=2*Math.sqrt(1+f-r-S);this._w=(l-v)/R,this._x=(o+d)/R,this._y=.25*R,this._z=(m+w)/R}else{const R=2*Math.sqrt(1+S-r-f);this._w=(d-o)/R,this._x=(l+v)/R,this._y=(m+w)/R,this._z=.25*R}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ji(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(0===r)return this;const o=Math.min(1,n/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,o=e._y,l=e._z,d=e._w,f=n._x,m=n._y,v=n._z,w=n._w;return this._x=r*w+d*f+o*v-l*m,this._y=o*w+d*m+l*f-r*v,this._z=l*w+d*v+r*m-o*f,this._w=d*w-r*f-o*m-l*v,this._onChangeCallback(),this}slerp(e,n){if(0===n)return this;if(1===n)return this.copy(e);const r=this._x,o=this._y,l=this._z,d=this._w;let f=d*e._w+r*e._x+o*e._y+l*e._z;if(f<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,f=-f):this.copy(e),f>=1)return this._w=d,this._x=r,this._y=o,this._z=l,this;const m=1-f*f;if(m<=Number.EPSILON){const R=1-n;return this._w=R*d+n*this._w,this._x=R*r+n*this._x,this._y=R*o+n*this._y,this._z=R*l+n*this._z,this.normalize(),this}const v=Math.sqrt(m),w=Math.atan2(v,f),S=Math.sin((1-n)*w)/v,A=Math.sin(n*w)/v;return this._w=d*S+this._w*A,this._x=r*S+this._x*A,this._y=o*S+this._y*A,this._z=l*S+this._z*A,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),l=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),l*Math.sin(n),l*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class it{constructor(e=0,n=0,r=0){it.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return void 0===r&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(J.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(J.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[3]*r+l[6]*o,this.y=l[1]*n+l[4]*r+l[7]*o,this.z=l[2]*n+l[5]*r+l[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=e.elements,d=1/(l[3]*n+l[7]*r+l[11]*o+l[15]);return this.x=(l[0]*n+l[4]*r+l[8]*o+l[12])*d,this.y=(l[1]*n+l[5]*r+l[9]*o+l[13])*d,this.z=(l[2]*n+l[6]*r+l[10]*o+l[14])*d,this}applyQuaternion(e){const n=this.x,r=this.y,o=this.z,l=e.x,d=e.y,f=e.z,m=e.w,v=2*(d*o-f*r),w=2*(f*n-l*o),S=2*(l*r-d*n);return this.x=n+m*v+d*S-f*w,this.y=r+m*w+f*v-l*S,this.z=o+m*S+l*w-d*v,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[4]*r+l[8]*o,this.y=l[1]*n+l[5]*r+l[9]*o,this.z=l[2]*n+l[6]*r+l[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,o=e.y,l=e.z,d=n.x,f=n.y,m=n.z;return this.x=o*m-l*f,this.y=l*d-r*m,this.z=r*f-o*d,this}projectOnVector(e){const n=e.lengthSq();if(0===n)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return O.copy(this).projectOnVector(e),this.sub(O)}reflect(e){return this.sub(O.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===n)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ji(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return n*n+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const o=Math.sin(n)*e;return this.x=o*Math.sin(r),this.y=Math.cos(n)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,4*n)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,3*n)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=2*Math.random()-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const O=new it,J=new Ao;class We{constructor(e=new it(1/0,1/0,1/0),n=new it(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Pe.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Pe.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Pe.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(void 0!==r){const l=r.getAttribute("position");if(!0===n&&void 0!==l&&!0!==e.isInstancedMesh)for(let d=0,f=l.count;d<f;d++)!0===e.isMesh?e.getVertexPosition(d,Pe):Pe.fromBufferAttribute(l,d),Pe.applyMatrix4(e.matrixWorld),this.expandByPoint(Pe);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),at.copy(e.boundingBox)):(null===r.boundingBox&&r.computeBoundingBox(),at.copy(r.boundingBox)),at.applyMatrix4(e.matrixWorld),this.union(at)}const o=e.children;for(let l=0,d=o.length;l<d;l++)this.expandByObject(o[l],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Pe),Pe.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ss),ys.subVectors(this.max,ss),bn.subVectors(e.a,ss),ni.subVectors(e.b,ss),Ar.subVectors(e.c,ss),$r.subVectors(ni,bn),rs.subVectors(Ar,ni),Tr.subVectors(bn,Ar);let n=[0,-$r.z,$r.y,0,-rs.z,rs.y,0,-Tr.z,Tr.y,$r.z,0,-$r.x,rs.z,0,-rs.x,Tr.z,0,-Tr.x,-$r.y,$r.x,0,-rs.y,rs.x,0,-Tr.y,Tr.x,0];return!(!ri(n,bn,ni,Ar,ys)||(n=[1,0,0,0,1,0,0,0,1],!ri(n,bn,ni,Ar,ys)))&&(to.crossVectors($r,rs),n=[to.x,to.y,to.z],ri(n,bn,ni,Ar,ys))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Pe).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Pe).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(q[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),q[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),q[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),q[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),q[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),q[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),q[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),q[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(q)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const q=[new it,new it,new it,new it,new it,new it,new it,new it],Pe=new it,at=new We,bn=new it,ni=new it,Ar=new it,$r=new it,rs=new it,Tr=new it,ss=new it,ys=new it,to=new it,fs=new it;function ri(c,e,n,r,o){for(let l=0,d=c.length-3;l<=d;l+=3){fs.fromArray(c,l);const f=o.x*Math.abs(fs.x)+o.y*Math.abs(fs.y)+o.z*Math.abs(fs.z),m=e.dot(fs),v=n.dot(fs),w=r.dot(fs);if(Math.max(-Math.max(m,v,w),Math.min(m,v,w))>f)return!1}return!0}const tr=new We,_s=new it,no=new it;class Jr{constructor(e=new it,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;void 0!==n?r.copy(n):tr.setFromPoints(e).getCenter(r);let o=0;for(let l=0,d=e.length;l<d;l++)o=Math.max(o,r.distanceToSquared(e[l]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_s.subVectors(e,this.center);const n=_s.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),o=.5*(r-this.radius);this.center.addScaledVector(_s,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(no.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_s.copy(e.center).add(no)),this.expandByPoint(_s.copy(e.center).sub(no))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const io=new it,Ho=new it,Bs=new it,Yr=new it,pa=new it,Nr=new it,Qa=new it;class El{constructor(e=new it,n=new it(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,io)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=io.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(io.copy(this.origin).addScaledVector(this.direction,n),io.distanceToSquared(e))}distanceSqToSegment(e,n,r,o){Ho.copy(e).add(n).multiplyScalar(.5),Bs.copy(n).sub(e).normalize(),Yr.copy(this.origin).sub(Ho);const l=.5*e.distanceTo(n),d=-this.direction.dot(Bs),f=Yr.dot(this.direction),m=-Yr.dot(Bs),v=Yr.lengthSq(),w=Math.abs(1-d*d);let S,A,R,B;if(w>0)if(S=d*m-f,A=d*f-m,B=l*w,S>=0)if(A>=-B)if(A<=B){const Y=1/w;S*=Y,A*=Y,R=S*(S+d*A+2*f)+A*(d*S+A+2*m)+v}else A=l,S=Math.max(0,-(d*A+f)),R=-S*S+A*(A+2*m)+v;else A=-l,S=Math.max(0,-(d*A+f)),R=-S*S+A*(A+2*m)+v;else A<=-B?(S=Math.max(0,-(-d*l+f)),A=S>0?-l:Math.min(Math.max(-l,-m),l),R=-S*S+A*(A+2*m)+v):A<=B?(S=0,A=Math.min(Math.max(-l,-m),l),R=A*(A+2*m)+v):(S=Math.max(0,-(d*l+f)),A=S>0?l:Math.min(Math.max(-l,-m),l),R=-S*S+A*(A+2*m)+v);else A=d>0?-l:l,S=Math.max(0,-(d*A+f)),R=-S*S+A*(A+2*m)+v;return r&&r.copy(this.origin).addScaledVector(this.direction,S),o&&o.copy(Ho).addScaledVector(Bs,A),R}intersectSphere(e,n){io.subVectors(e.center,this.origin);const r=io.dot(this.direction),o=io.dot(io)-r*r,l=e.radius*e.radius;if(o>l)return null;const d=Math.sqrt(l-o),f=r-d,m=r+d;return m<0?null:this.at(f<0?m:f,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(0===n)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return null===r?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return 0===n||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,o,l,d,f,m;const v=1/this.direction.x,w=1/this.direction.y,S=1/this.direction.z,A=this.origin;return v>=0?(r=(e.min.x-A.x)*v,o=(e.max.x-A.x)*v):(r=(e.max.x-A.x)*v,o=(e.min.x-A.x)*v),w>=0?(l=(e.min.y-A.y)*w,d=(e.max.y-A.y)*w):(l=(e.max.y-A.y)*w,d=(e.min.y-A.y)*w),r>d||l>o||((l>r||isNaN(r))&&(r=l),(d<o||isNaN(o))&&(o=d),S>=0?(f=(e.min.z-A.z)*S,m=(e.max.z-A.z)*S):(f=(e.max.z-A.z)*S,m=(e.min.z-A.z)*S),r>m||f>o)||((f>r||r!=r)&&(r=f),(m<o||o!=o)&&(o=m),o<0)?null:this.at(r>=0?r:o,n)}intersectsBox(e){return null!==this.intersectBox(e,io)}intersectTriangle(e,n,r,o,l){pa.subVectors(n,e),Nr.subVectors(r,e),Qa.crossVectors(pa,Nr);let f,d=this.direction.dot(Qa);if(d>0){if(o)return null;f=1}else{if(!(d<0))return null;f=-1,d=-d}Yr.subVectors(this.origin,e);const m=f*this.direction.dot(Nr.crossVectors(Yr,Nr));if(m<0)return null;const v=f*this.direction.dot(pa.cross(Yr));if(v<0||m+v>d)return null;const w=-f*Yr.dot(Qa);return w<0?null:this.at(w/d,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class dr{constructor(e,n,r,o,l,d,f,m,v,w,S,A,R,B,Y,H){dr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,n,r,o,l,d,f,m,v,w,S,A,R,B,Y,H)}set(e,n,r,o,l,d,f,m,v,w,S,A,R,B,Y,H){const U=this.elements;return U[0]=e,U[4]=n,U[8]=r,U[12]=o,U[1]=l,U[5]=d,U[9]=f,U[13]=m,U[2]=v,U[6]=w,U[10]=S,U[14]=A,U[3]=R,U[7]=B,U[11]=Y,U[15]=H,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new dr).fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,o=1/Ks.setFromMatrixColumn(e,0).length(),l=1/Ks.setFromMatrixColumn(e,1).length(),d=1/Ks.setFromMatrixColumn(e,2).length();return n[0]=r[0]*o,n[1]=r[1]*o,n[2]=r[2]*o,n[3]=0,n[4]=r[4]*l,n[5]=r[5]*l,n[6]=r[6]*l,n[7]=0,n[8]=r[8]*d,n[9]=r[9]*d,n[10]=r[10]*d,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,o=e.y,l=e.z,d=Math.cos(r),f=Math.sin(r),m=Math.cos(o),v=Math.sin(o),w=Math.cos(l),S=Math.sin(l);if("XYZ"===e.order){const A=d*w,R=d*S,B=f*w,Y=f*S;n[0]=m*w,n[4]=-m*S,n[8]=v,n[1]=R+B*v,n[5]=A-Y*v,n[9]=-f*m,n[2]=Y-A*v,n[6]=B+R*v,n[10]=d*m}else if("YXZ"===e.order){const A=m*w,R=m*S,B=v*w,Y=v*S;n[0]=A+Y*f,n[4]=B*f-R,n[8]=d*v,n[1]=d*S,n[5]=d*w,n[9]=-f,n[2]=R*f-B,n[6]=Y+A*f,n[10]=d*m}else if("ZXY"===e.order){const A=m*w,R=m*S,B=v*w,Y=v*S;n[0]=A-Y*f,n[4]=-d*S,n[8]=B+R*f,n[1]=R+B*f,n[5]=d*w,n[9]=Y-A*f,n[2]=-d*v,n[6]=f,n[10]=d*m}else if("ZYX"===e.order){const A=d*w,R=d*S,B=f*w,Y=f*S;n[0]=m*w,n[4]=B*v-R,n[8]=A*v+Y,n[1]=m*S,n[5]=Y*v+A,n[9]=R*v-B,n[2]=-v,n[6]=f*m,n[10]=d*m}else if("YZX"===e.order){const A=d*m,R=d*v,B=f*m,Y=f*v;n[0]=m*w,n[4]=Y-A*S,n[8]=B*S+R,n[1]=S,n[5]=d*w,n[9]=-f*w,n[2]=-v*w,n[6]=R*S+B,n[10]=A-Y*S}else if("XZY"===e.order){const A=d*m,R=d*v,B=f*m,Y=f*v;n[0]=m*w,n[4]=-S,n[8]=v*w,n[1]=A*S+Y,n[5]=d*w,n[9]=R*S-B,n[2]=B*S-R,n[6]=f*w,n[10]=Y*S+A}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Hc,e,Ce)}lookAt(e,n,r){const o=this.elements;return $o.subVectors(e,n),0===$o.lengthSq()&&($o.z=1),$o.normalize(),ma.crossVectors(r,$o),0===ma.lengthSq()&&(1===Math.abs(r.z)?$o.x+=1e-4:$o.z+=1e-4,$o.normalize(),ma.crossVectors(r,$o)),ma.normalize(),Kl.crossVectors($o,ma),o[0]=ma.x,o[4]=Kl.x,o[8]=$o.x,o[1]=ma.y,o[5]=Kl.y,o[9]=$o.y,o[2]=ma.z,o[6]=Kl.z,o[10]=$o.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,d=r[0],f=r[4],m=r[8],v=r[12],w=r[1],S=r[5],A=r[9],R=r[13],B=r[2],Y=r[6],H=r[10],U=r[14],ue=r[3],re=r[7],de=r[11],dt=r[15],Ge=o[0],Ze=o[4],_t=o[8],Fe=o[12],Me=o[1],qt=o[5],Sn=o[9],kt=o[13],An=o[2],zn=o[6],Yn=o[10],Oi=o[14],Bn=o[3],bi=o[7],wi=o[11],nr=o[15];return l[0]=d*Ge+f*Me+m*An+v*Bn,l[4]=d*Ze+f*qt+m*zn+v*bi,l[8]=d*_t+f*Sn+m*Yn+v*wi,l[12]=d*Fe+f*kt+m*Oi+v*nr,l[1]=w*Ge+S*Me+A*An+R*Bn,l[5]=w*Ze+S*qt+A*zn+R*bi,l[9]=w*_t+S*Sn+A*Yn+R*wi,l[13]=w*Fe+S*kt+A*Oi+R*nr,l[2]=B*Ge+Y*Me+H*An+U*Bn,l[6]=B*Ze+Y*qt+H*zn+U*bi,l[10]=B*_t+Y*Sn+H*Yn+U*wi,l[14]=B*Fe+Y*kt+H*Oi+U*nr,l[3]=ue*Ge+re*Me+de*An+dt*Bn,l[7]=ue*Ze+re*qt+de*zn+dt*bi,l[11]=ue*_t+re*Sn+de*Yn+dt*wi,l[15]=ue*Fe+re*kt+de*Oi+dt*nr,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],o=e[8],l=e[12],d=e[1],f=e[5],m=e[9],v=e[13],w=e[2],S=e[6],A=e[10],R=e[14];return e[3]*(+l*m*S-o*v*S-l*f*A+r*v*A+o*f*R-r*m*R)+e[7]*(+n*m*R-n*v*A+l*d*A-o*d*R+o*v*w-l*m*w)+e[11]*(+n*v*S-n*f*R-l*d*S+r*d*R+l*f*w-r*v*w)+e[15]*(-o*f*w-n*m*S+n*f*A+o*d*S-r*d*A+r*m*w)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],d=e[4],f=e[5],m=e[6],v=e[7],w=e[8],S=e[9],A=e[10],R=e[11],B=e[12],Y=e[13],H=e[14],U=e[15],ue=S*H*v-Y*A*v+Y*m*R-f*H*R-S*m*U+f*A*U,re=B*A*v-w*H*v-B*m*R+d*H*R+w*m*U-d*A*U,de=w*Y*v-B*S*v+B*f*R-d*Y*R-w*f*U+d*S*U,dt=B*S*m-w*Y*m-B*f*A+d*Y*A+w*f*H-d*S*H,Ge=n*ue+r*re+o*de+l*dt;if(0===Ge)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ze=1/Ge;return e[0]=ue*Ze,e[1]=(Y*A*l-S*H*l-Y*o*R+r*H*R+S*o*U-r*A*U)*Ze,e[2]=(f*H*l-Y*m*l+Y*o*v-r*H*v-f*o*U+r*m*U)*Ze,e[3]=(S*m*l-f*A*l-S*o*v+r*A*v+f*o*R-r*m*R)*Ze,e[4]=re*Ze,e[5]=(w*H*l-B*A*l+B*o*R-n*H*R-w*o*U+n*A*U)*Ze,e[6]=(B*m*l-d*H*l-B*o*v+n*H*v+d*o*U-n*m*U)*Ze,e[7]=(d*A*l-w*m*l+w*o*v-n*A*v-d*o*R+n*m*R)*Ze,e[8]=de*Ze,e[9]=(B*S*l-w*Y*l-B*r*R+n*Y*R+w*r*U-n*S*U)*Ze,e[10]=(d*Y*l-B*f*l+B*r*v-n*Y*v-d*r*U+n*f*U)*Ze,e[11]=(w*f*l-d*S*l-w*r*v+n*S*v+d*r*R-n*f*R)*Ze,e[12]=dt*Ze,e[13]=(w*Y*o-B*S*o+B*r*A-n*Y*A-w*r*H+n*S*H)*Ze,e[14]=(B*f*o-d*Y*o-B*r*m+n*Y*m+d*r*H-n*f*H)*Ze,e[15]=(d*S*o-w*f*o+w*r*m-n*S*m-d*r*A+n*f*A)*Ze,this}scale(e){const n=this.elements,r=e.x,o=e.y,l=e.z;return n[0]*=r,n[4]*=o,n[8]*=l,n[1]*=r,n[5]*=o,n[9]*=l,n[2]*=r,n[6]*=o,n[10]*=l,n[3]*=r,n[7]*=o,n[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),o=Math.sin(n),l=1-r,d=e.x,f=e.y,m=e.z,v=l*d,w=l*f;return this.set(v*d+r,v*f-o*m,v*m+o*f,0,v*f+o*m,w*f+r,w*m-o*d,0,v*m-o*f,w*m+o*d,l*m*m+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,o,l,d){return this.set(1,r,l,0,e,1,d,0,n,o,1,0,0,0,0,1),this}compose(e,n,r){const o=this.elements,l=n._x,d=n._y,f=n._z,m=n._w,v=l+l,w=d+d,S=f+f,A=l*v,R=l*w,B=l*S,Y=d*w,H=d*S,U=f*S,ue=m*v,re=m*w,de=m*S,dt=r.x,Ge=r.y,Ze=r.z;return o[0]=(1-(Y+U))*dt,o[1]=(R+de)*dt,o[2]=(B-re)*dt,o[3]=0,o[4]=(R-de)*Ge,o[5]=(1-(A+U))*Ge,o[6]=(H+ue)*Ge,o[7]=0,o[8]=(B+re)*Ze,o[9]=(H-ue)*Ze,o[10]=(1-(A+Y))*Ze,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,r){const o=this.elements;let l=Ks.set(o[0],o[1],o[2]).length();const d=Ks.set(o[4],o[5],o[6]).length(),f=Ks.set(o[8],o[9],o[10]).length();this.determinant()<0&&(l=-l),e.x=o[12],e.y=o[13],e.z=o[14],vo.copy(this);const v=1/l,w=1/d,S=1/f;return vo.elements[0]*=v,vo.elements[1]*=v,vo.elements[2]*=v,vo.elements[4]*=w,vo.elements[5]*=w,vo.elements[6]*=w,vo.elements[8]*=S,vo.elements[9]*=S,vo.elements[10]*=S,n.setFromRotationMatrix(vo),r.x=l,r.y=d,r.z=f,this}makePerspective(e,n,r,o,l,d,f=ra){const m=this.elements,v=2*l/(n-e),w=2*l/(r-o),S=(n+e)/(n-e),A=(r+o)/(r-o);let R,B;if(f===ra)R=-(d+l)/(d-l),B=-2*d*l/(d-l);else{if(2001!==f)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+f);R=-d/(d-l),B=-d*l/(d-l)}return m[0]=v,m[4]=0,m[8]=S,m[12]=0,m[1]=0,m[5]=w,m[9]=A,m[13]=0,m[2]=0,m[6]=0,m[10]=R,m[14]=B,m[3]=0,m[7]=0,m[11]=-1,m[15]=0,this}makeOrthographic(e,n,r,o,l,d,f=ra){const m=this.elements,v=1/(n-e),w=1/(r-o),S=1/(d-l),A=(n+e)*v,R=(r+o)*w;let B,Y;if(f===ra)B=(d+l)*S,Y=-2*S;else{if(2001!==f)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+f);B=l*S,Y=-1*S}return m[0]=2*v,m[4]=0,m[8]=0,m[12]=-A,m[1]=0,m[5]=2*w,m[9]=0,m[13]=-R,m[2]=0,m[6]=0,m[10]=Y,m[14]=-B,m[3]=0,m[7]=0,m[11]=0,m[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<16;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ks=new it,vo=new dr,Hc=new it(0,0,0),Ce=new it(1,1,1),ma=new it,Kl=new it,$o=new it,Nl=new dr,Jo=new Ao;let Dr=(()=>{class c{constructor(n=0,r=0,o=0,l=c.DEFAULT_ORDER){this.isEuler=!0,this._x=n,this._y=r,this._z=o,this._order=l}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get order(){return this._order}set order(n){this._order=n,this._onChangeCallback()}set(n,r,o,l=this._order){return this._x=n,this._y=r,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this._onChangeCallback(),this}setFromRotationMatrix(n,r=this._order,o=!0){const l=n.elements,d=l[0],f=l[4],m=l[8],v=l[1],w=l[5],S=l[9],A=l[2],R=l[6],B=l[10];switch(r){case"XYZ":this._y=Math.asin(ji(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-S,B),this._z=Math.atan2(-f,d)):(this._x=Math.atan2(R,w),this._z=0);break;case"YXZ":this._x=Math.asin(-ji(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(m,B),this._z=Math.atan2(v,w)):(this._y=Math.atan2(-A,d),this._z=0);break;case"ZXY":this._x=Math.asin(ji(R,-1,1)),Math.abs(R)<.9999999?(this._y=Math.atan2(-A,B),this._z=Math.atan2(-f,w)):(this._y=0,this._z=Math.atan2(v,d));break;case"ZYX":this._y=Math.asin(-ji(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(R,B),this._z=Math.atan2(v,d)):(this._x=0,this._z=Math.atan2(-f,w));break;case"YZX":this._z=Math.asin(ji(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-S,w),this._y=Math.atan2(-A,d)):(this._x=0,this._y=Math.atan2(m,B));break;case"XZY":this._z=Math.asin(-ji(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(R,w),this._y=Math.atan2(m,d)):(this._x=Math.atan2(-S,B),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,!0===o&&this._onChangeCallback(),this}setFromQuaternion(n,r,o){return Nl.makeRotationFromQuaternion(n),this.setFromRotationMatrix(Nl,r,o)}setFromVector3(n,r=this._order){return this.set(n.x,n.y,n.z,r)}reorder(n){return Jo.setFromEuler(this),this.setFromQuaternion(Jo,n)}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order}fromArray(n){return this._x=n[0],this._y=n[1],this._z=n[2],void 0!==n[3]&&(this._order=n[3]),this._onChangeCallback(),this}toArray(n=[],r=0){return n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._order,n}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return c.DEFAULT_ORDER="XYZ",c})();class Xe{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let _=0;const M=new it,C=new Ao,F=new dr,Q=new it,oe=new it,ge=new it,$e=new Ao,et=new it(1,0,0),ot=new it(0,1,0),Yt=new it(0,0,1),mn={type:"added"},En={type:"removed"},Vn={type:"childadded",child:null},Ft={type:"childremoved",child:null};let Rn=(()=>{class c extends X{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_++}),this.uuid=qi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=c.DEFAULT_UP.clone();const n=new it,r=new Dr,o=new Ao,l=new it(1,1,1);r._onChange(function d(){o.setFromEuler(r,!1)}),o._onChange(function f(){r.setFromQuaternion(o,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new dr},normalMatrix:{value:new jr}}),this.matrix=new dr,this.matrixWorld=new dr,this.matrixAutoUpdate=c.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=c.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Xe,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(n){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(n),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(n){return this.quaternion.premultiply(n),this}setRotationFromAxisAngle(n,r){this.quaternion.setFromAxisAngle(n,r)}setRotationFromEuler(n){this.quaternion.setFromEuler(n,!0)}setRotationFromMatrix(n){this.quaternion.setFromRotationMatrix(n)}setRotationFromQuaternion(n){this.quaternion.copy(n)}rotateOnAxis(n,r){return C.setFromAxisAngle(n,r),this.quaternion.multiply(C),this}rotateOnWorldAxis(n,r){return C.setFromAxisAngle(n,r),this.quaternion.premultiply(C),this}rotateX(n){return this.rotateOnAxis(et,n)}rotateY(n){return this.rotateOnAxis(ot,n)}rotateZ(n){return this.rotateOnAxis(Yt,n)}translateOnAxis(n,r){return M.copy(n).applyQuaternion(this.quaternion),this.position.add(M.multiplyScalar(r)),this}translateX(n){return this.translateOnAxis(et,n)}translateY(n){return this.translateOnAxis(ot,n)}translateZ(n){return this.translateOnAxis(Yt,n)}localToWorld(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(this.matrixWorld)}worldToLocal(n){return this.updateWorldMatrix(!0,!1),n.applyMatrix4(F.copy(this.matrixWorld).invert())}lookAt(n,r,o){n.isVector3?Q.copy(n):Q.set(n,r,o);const l=this.parent;this.updateWorldMatrix(!0,!1),oe.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?F.lookAt(oe,Q,this.up):F.lookAt(Q,oe,this.up),this.quaternion.setFromRotationMatrix(F),l&&(F.extractRotation(l.matrixWorld),C.setFromRotationMatrix(F),this.quaternion.premultiply(C.invert()))}add(n){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(n.removeFromParent(),n.parent=this,this.children.push(n),n.dispatchEvent(mn),Vn.child=n,this.dispatchEvent(Vn),Vn.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)}remove(n){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const r=this.children.indexOf(n);return-1!==r&&(n.parent=null,this.children.splice(r,1),n.dispatchEvent(En),Ft.child=n,this.dispatchEvent(Ft),Ft.child=null),this}removeFromParent(){const n=this.parent;return null!==n&&n.remove(this),this}clear(){return this.remove(...this.children)}attach(n){return this.updateWorldMatrix(!0,!1),F.copy(this.matrixWorld).invert(),null!==n.parent&&(n.parent.updateWorldMatrix(!0,!1),F.multiply(n.parent.matrixWorld)),n.applyMatrix4(F),n.removeFromParent(),n.parent=this,this.children.push(n),n.updateWorldMatrix(!1,!0),n.dispatchEvent(mn),Vn.child=n,this.dispatchEvent(Vn),Vn.child=null,this}getObjectById(n){return this.getObjectByProperty("id",n)}getObjectByName(n){return this.getObjectByProperty("name",n)}getObjectByProperty(n,r){if(this[n]===r)return this;for(let o=0,l=this.children.length;o<l;o++){const f=this.children[o].getObjectByProperty(n,r);if(void 0!==f)return f}}getObjectsByProperty(n,r,o=[]){this[n]===r&&o.push(this);const l=this.children;for(let d=0,f=l.length;d<f;d++)l[d].getObjectsByProperty(n,r,o);return o}getWorldPosition(n){return this.updateWorldMatrix(!0,!1),n.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oe,n,ge),n}getWorldScale(n){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oe,$e,n),n}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return n.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(n){n(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverse(n)}traverseVisible(n){if(!1===this.visible)return;n(this);const r=this.children;for(let o=0,l=r.length;o<l;o++)r[o].traverseVisible(n)}traverseAncestors(n){const r=this.parent;null!==r&&(n(r),r.traverseAncestors(n))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);const r=this.children;for(let o=0,l=r.length;o<l;o++){const d=r[o];(!0===d.matrixWorldAutoUpdate||!0===n)&&d.updateMatrixWorld(n)}}updateWorldMatrix(n,r){const o=this.parent;if(!0===n&&null!==o&&!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===r){const l=this.children;for(let d=0,f=l.length;d<f;d++){const m=l[d];!0===m.matrixWorldAutoUpdate&&m.updateWorldMatrix(!1,!0)}}}toJSON(n){const r=void 0===n||"string"==typeof n,o={};r&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const l={};function d(m,v){return void 0===m[v.uuid]&&(m[v.uuid]=v.toJSON(n)),v.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(m=>({boxInitialized:m.boxInitialized,boxMin:m.box.min.toArray(),boxMax:m.box.max.toArray(),sphereInitialized:m.sphereInitialized,sphereRadius:m.sphere.radius,sphereCenter:m.sphere.center.toArray()})),l.maxGeometryCount=this._maxGeometryCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(n),null!==this.boundingSphere&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),null!==this.boundingBox&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(n).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(n).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=d(n.geometries,this.geometry);const m=this.geometry.parameters;if(void 0!==m&&void 0!==m.shapes){const v=m.shapes;if(Array.isArray(v))for(let w=0,S=v.length;w<S;w++)d(n.shapes,v[w]);else d(n.shapes,v)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(d(n.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const m=[];for(let v=0,w=this.material.length;v<w;v++)m.push(d(n.materials,this.material[v]));l.material=m}else l.material=d(n.materials,this.material);if(this.children.length>0){l.children=[];for(let m=0;m<this.children.length;m++)l.children.push(this.children[m].toJSON(n).object)}if(this.animations.length>0){l.animations=[];for(let m=0;m<this.animations.length;m++)l.animations.push(d(n.animations,this.animations[m]))}if(r){const m=f(n.geometries),v=f(n.materials),w=f(n.textures),S=f(n.images),A=f(n.shapes),R=f(n.skeletons),B=f(n.animations),Y=f(n.nodes);m.length>0&&(o.geometries=m),v.length>0&&(o.materials=v),w.length>0&&(o.textures=w),S.length>0&&(o.images=S),A.length>0&&(o.shapes=A),R.length>0&&(o.skeletons=R),B.length>0&&(o.animations=B),Y.length>0&&(o.nodes=Y)}return o.object=l,o;function f(m){const v=[];for(const w in m){const S=m[w];delete S.metadata,v.push(S)}return v}}clone(n){return(new this.constructor).copy(this,n)}copy(n,r=!0){if(this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.rotation.order=n.rotation.order,this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldAutoUpdate=n.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.animations=n.animations.slice(),this.userData=JSON.parse(JSON.stringify(n.userData)),!0===r)for(let o=0;o<n.children.length;o++)this.add(n.children[o].clone());return this}}return c.DEFAULT_UP=new it(0,1,0),c.DEFAULT_MATRIX_AUTO_UPDATE=!0,c.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,c})();const oi=new it,ci=new it,Ti=new it,Mi=new it,pi=new it,Ui=new it,Xi=new it,Ki=new it,Ii=new it,Gs=new it;class Vs{constructor(e=new it,n=new it,r=new it){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,o){o.subVectors(r,n),oi.subVectors(e,n),o.cross(oi);const l=o.lengthSq();return l>0?o.multiplyScalar(1/Math.sqrt(l)):o.set(0,0,0)}static getBarycoord(e,n,r,o,l){oi.subVectors(o,n),ci.subVectors(r,n),Ti.subVectors(e,n);const d=oi.dot(oi),f=oi.dot(ci),m=oi.dot(Ti),v=ci.dot(ci),w=ci.dot(Ti),S=d*v-f*f;if(0===S)return l.set(0,0,0),null;const A=1/S,R=(v*m-f*w)*A,B=(d*w-f*m)*A;return l.set(1-R-B,B,R)}static containsPoint(e,n,r,o){return null!==this.getBarycoord(e,n,r,o,Mi)&&Mi.x>=0&&Mi.y>=0&&Mi.x+Mi.y<=1}static getInterpolation(e,n,r,o,l,d,f,m){return null===this.getBarycoord(e,n,r,o,Mi)?(m.x=0,m.y=0,"z"in m&&(m.z=0),"w"in m&&(m.w=0),null):(m.setScalar(0),m.addScaledVector(l,Mi.x),m.addScaledVector(d,Mi.y),m.addScaledVector(f,Mi.z),m)}static isFrontFacing(e,n,r,o){return oi.subVectors(r,n),ci.subVectors(e,n),oi.cross(ci).dot(o)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,o){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,r,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return oi.subVectors(this.c,this.b),ci.subVectors(this.a,this.b),.5*oi.cross(ci).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Vs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,o,l){return Vs.getInterpolation(e,this.a,this.b,this.c,n,r,o,l)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,o=this.b,l=this.c;let d,f;pi.subVectors(o,r),Ui.subVectors(l,r),Ki.subVectors(e,r);const m=pi.dot(Ki),v=Ui.dot(Ki);if(m<=0&&v<=0)return n.copy(r);Ii.subVectors(e,o);const w=pi.dot(Ii),S=Ui.dot(Ii);if(w>=0&&S<=w)return n.copy(o);const A=m*S-w*v;if(A<=0&&m>=0&&w<=0)return d=m/(m-w),n.copy(r).addScaledVector(pi,d);Gs.subVectors(e,l);const R=pi.dot(Gs),B=Ui.dot(Gs);if(B>=0&&R<=B)return n.copy(l);const Y=R*v-m*B;if(Y<=0&&v>=0&&B<=0)return f=v/(v-B),n.copy(r).addScaledVector(Ui,f);const H=w*B-R*S;if(H<=0&&S-w>=0&&R-B>=0)return Xi.subVectors(l,o),f=(S-w)/(S-w+(R-B)),n.copy(o).addScaledVector(Xi,f);const U=1/(H+Y+A);return d=Y*U,f=A*U,n.copy(r).addScaledVector(pi,d).addScaledVector(Ui,f)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const po={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ws={h:0,s:0,l:0},Go={h:0,s:0,l:0};function jo(c,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?c+6*(e-c)*n:n<.5?e:n<2/3?c+6*(e-c)*(2/3-n):c}class yi{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(void 0===n&&void 0===r){const o=e;o&&o.isColor?this.copy(o):"number"==typeof o?this.setHex(o):"string"==typeof o&&this.setStyle(o)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=xt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Os.toWorkingColorSpace(this,n),this}setRGB(e,n,r,o=Os.workingColorSpace){return this.r=e,this.g=n,this.b=r,Os.toWorkingColorSpace(this,o),this}setHSL(e,n,r,o=Os.workingColorSpace){if(e=sa(e,1),n=ji(n,0,1),r=ji(r,0,1),0===n)this.r=this.g=this.b=r;else{const l=r<=.5?r*(1+n):r+n-r*n,d=2*r-l;this.r=jo(d,l,e+1/3),this.g=jo(d,l,e),this.b=jo(d,l,e-1/3)}return Os.toWorkingColorSpace(this,o),this}setStyle(e,n=xt){function r(l){void 0!==l&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let l;const f=o[2];switch(o[1]){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return r(l[4]),this.setRGB(Math.min(255,parseInt(l[1],10))/255,Math.min(255,parseInt(l[2],10))/255,Math.min(255,parseInt(l[3],10))/255,n);if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return r(l[4]),this.setRGB(Math.min(100,parseInt(l[1],10))/100,Math.min(100,parseInt(l[2],10))/100,Math.min(100,parseInt(l[3],10))/100,n);break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(f))return r(l[4]),this.setHSL(parseFloat(l[1])/360,parseFloat(l[2])/100,parseFloat(l[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],d=l.length;if(3===d)return this.setRGB(parseInt(l.charAt(0),16)/15,parseInt(l.charAt(1),16)/15,parseInt(l.charAt(2),16)/15,n);if(6===d)return this.setHex(parseInt(l,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=xt){const r=po[e.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Za(e.r),this.g=Za(e.g),this.b=Za(e.b),this}copyLinearToSRGB(e){return this.r=dc(e.r),this.g=dc(e.g),this.b=dc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xt){return Os.fromWorkingColorSpace(x.copy(this),e),65536*Math.round(ji(255*x.r,0,255))+256*Math.round(ji(255*x.g,0,255))+Math.round(ji(255*x.b,0,255))}getHexString(e=xt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Os.workingColorSpace){Os.fromWorkingColorSpace(x.copy(this),n);const r=x.r,o=x.g,l=x.b,d=Math.max(r,o,l),f=Math.min(r,o,l);let m,v;const w=(f+d)/2;if(f===d)m=0,v=0;else{const S=d-f;switch(v=w<=.5?S/(d+f):S/(2-d-f),d){case r:m=(o-l)/S+(o<l?6:0);break;case o:m=(l-r)/S+2;break;case l:m=(r-o)/S+4}m/=6}return e.h=m,e.s=v,e.l=w,e}getRGB(e,n=Os.workingColorSpace){return Os.fromWorkingColorSpace(x.copy(this),n),e.r=x.r,e.g=x.g,e.b=x.b,e}getStyle(e=xt){Os.fromWorkingColorSpace(x.copy(this),e);const n=x.r,r=x.g,o=x.b;return e!==xt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(255*n)},${Math.round(255*r)},${Math.round(255*o)})`}offsetHSL(e,n,r){return this.getHSL(Ws),this.setHSL(Ws.h+e,Ws.s+n,Ws.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ws),e.getHSL(Go);const r=Ia(Ws.h,Go.h,n),o=Ia(Ws.s,Go.s,n),l=Ia(Ws.l,Go.l,n);return this.setHSL(r,o,l),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,o=this.b,l=e.elements;return this.r=l[0]*n+l[3]*r+l[6]*o,this.g=l[1]*n+l[4]*r+l[7]*o,this.b=l[2]*n+l[5]*r+l[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const x=new yi;yi.NAMES=po;let P=0;class $ extends X{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:P++}),this.uuid=qi(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new yi(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=er,this.stencilZFail=er,this.stencilZPass=er,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const n in e){const r=e[n];if(void 0===r){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];void 0!==o?o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[n]=r:console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`)}}toJSON(e){const n=void 0===e||"string"==typeof e;n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function o(l){const d=[];for(const f in l){const m=l[f];delete m.metadata,d.push(m)}return d}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(r.dispersion=this.dispersion),void 0!==this.iridescence&&(r.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(r.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),!0===this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=!0),204!==this.blendSrc&&(r.blendSrc=this.blendSrc),205!==this.blendDst&&(r.blendDst=this.blendDst),100!==this.blendEquation&&(r.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(r.depthFunc=this.depthFunc),!1===this.depthTest&&(r.depthTest=this.depthTest),!1===this.depthWrite&&(r.depthWrite=this.depthWrite),!1===this.colorWrite&&(r.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(r.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==er&&(r.stencilFail=this.stencilFail),this.stencilZFail!==er&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==er&&(r.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaHash&&(r.alphaHash=!0),!0===this.alphaToCoverage&&(r.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0),!0===this.forceSinglePass&&(r.forceSinglePass=!0),!0===this.wireframe&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),!1===this.fog&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData),n){const l=o(e.textures),d=o(e.images);l.length>0&&(r.textures=l),d.length>0&&(r.images=d)}return r}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(null!==n){const o=n.length;r=new Array(o);for(let l=0;l!==o;++l)r[l]=n[l].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class T extends ${constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new yi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dr,this.combine=fn,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gt=new it,Ni=new Gn;class Fi{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=r,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=me,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return cc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[e+o]=n.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let n=0,r=this.count;n<r;n++)Ni.fromBufferAttribute(this,n),Ni.applyMatrix3(e),this.setXY(n,Ni.x,Ni.y);else if(3===this.itemSize)for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyMatrix3(e),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyMatrix4(e),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.applyNormalMatrix(e),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Gt.fromBufferAttribute(this,n),Gt.transformDirection(e),this.setXYZ(n,Gt.x,Gt.y,Gt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=$s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Cr(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=$s(n,this.array)),n}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=$s(n,this.array)),n}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=$s(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=$s(n,this.array)),n}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,o){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),o=Cr(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e*=this.itemSize,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),o=Cr(o,this.array),l=Cr(l,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}class wa extends Fi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class hc extends Fi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class fr extends Fi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let nd=0;const Ps=new dr,Gd=new Rn,Yl=new it,yo=new We,jd=new We,Wo=new it;class os extends X{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:nd++}),this.uuid=qi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Pl(e)?hc:wa)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;void 0!==n&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const l=(new jr).getNormalMatrix(e);r.applyNormalMatrix(l),r.needsUpdate=!0}const o=this.attributes.tangent;return void 0!==o&&(o.transformDirection(e),o.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ps.makeRotationFromQuaternion(e),this.applyMatrix4(Ps),this}rotateX(e){return Ps.makeRotationX(e),this.applyMatrix4(Ps),this}rotateY(e){return Ps.makeRotationY(e),this.applyMatrix4(Ps),this}rotateZ(e){return Ps.makeRotationZ(e),this.applyMatrix4(Ps),this}translate(e,n,r){return Ps.makeTranslation(e,n,r),this.applyMatrix4(Ps),this}scale(e,n,r){return Ps.makeScale(e,n,r),this.applyMatrix4(Ps),this}lookAt(e){return Gd.lookAt(e),Gd.updateMatrix(),this.applyMatrix4(Gd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yl).negate(),this.translate(Yl.x,Yl.y,Yl.z),this}setFromPoints(e){const n=[];for(let r=0,o=e.length;r<o;r++){const l=e[r];n.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new fr(n,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new We);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new it(-1/0,-1/0,-1/0),new it(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++)yo.setFromBufferAttribute(n[r]),this.morphTargetsRelative?(Wo.addVectors(this.boundingBox.min,yo.min),this.boundingBox.expandByPoint(Wo),Wo.addVectors(this.boundingBox.max,yo.max),this.boundingBox.expandByPoint(Wo)):(this.boundingBox.expandByPoint(yo.min),this.boundingBox.expandByPoint(yo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Jr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new it,1/0);if(e){const r=this.boundingSphere.center;if(yo.setFromBufferAttribute(e),n)for(let l=0,d=n.length;l<d;l++)jd.setFromBufferAttribute(n[l]),this.morphTargetsRelative?(Wo.addVectors(yo.min,jd.min),yo.expandByPoint(Wo),Wo.addVectors(yo.max,jd.max),yo.expandByPoint(Wo)):(yo.expandByPoint(jd.min),yo.expandByPoint(jd.max));yo.getCenter(r);let o=0;for(let l=0,d=e.count;l<d;l++)Wo.fromBufferAttribute(e,l),o=Math.max(o,r.distanceToSquared(Wo));if(n)for(let l=0,d=n.length;l<d;l++){const f=n[l],m=this.morphTargetsRelative;for(let v=0,w=f.count;v<w;v++)Wo.fromBufferAttribute(f,v),m&&(Yl.fromBufferAttribute(e,v),Wo.add(Yl)),o=Math.max(o,r.distanceToSquared(Wo))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(null===e||void 0===n.position||void 0===n.normal||void 0===n.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const r=n.position,o=n.normal,l=n.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Fi(new Float32Array(4*r.count),4));const d=this.getAttribute("tangent"),f=[],m=[];for(let _t=0;_t<r.count;_t++)f[_t]=new it,m[_t]=new it;const v=new it,w=new it,S=new it,A=new Gn,R=new Gn,B=new Gn,Y=new it,H=new it;function U(_t,Fe,Me){v.fromBufferAttribute(r,_t),w.fromBufferAttribute(r,Fe),S.fromBufferAttribute(r,Me),A.fromBufferAttribute(l,_t),R.fromBufferAttribute(l,Fe),B.fromBufferAttribute(l,Me),w.sub(v),S.sub(v),R.sub(A),B.sub(A);const qt=1/(R.x*B.y-B.x*R.y);isFinite(qt)&&(Y.copy(w).multiplyScalar(B.y).addScaledVector(S,-R.y).multiplyScalar(qt),H.copy(S).multiplyScalar(R.x).addScaledVector(w,-B.x).multiplyScalar(qt),f[_t].add(Y),f[Fe].add(Y),f[Me].add(Y),m[_t].add(H),m[Fe].add(H),m[Me].add(H))}let ue=this.groups;0===ue.length&&(ue=[{start:0,count:e.count}]);for(let _t=0,Fe=ue.length;_t<Fe;++_t){const Me=ue[_t],qt=Me.start;for(let kt=qt,An=qt+Me.count;kt<An;kt+=3)U(e.getX(kt+0),e.getX(kt+1),e.getX(kt+2))}const re=new it,de=new it,dt=new it,Ge=new it;function Ze(_t){dt.fromBufferAttribute(o,_t),Ge.copy(dt);const Fe=f[_t];re.copy(Fe),re.sub(dt.multiplyScalar(dt.dot(Fe))).normalize(),de.crossVectors(Ge,Fe);const qt=de.dot(m[_t])<0?-1:1;d.setXYZW(_t,re.x,re.y,re.z,qt)}for(let _t=0,Fe=ue.length;_t<Fe;++_t){const Me=ue[_t],qt=Me.start;for(let kt=qt,An=qt+Me.count;kt<An;kt+=3)Ze(e.getX(kt+0)),Ze(e.getX(kt+1)),Ze(e.getX(kt+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(void 0!==n){let r=this.getAttribute("normal");if(void 0===r)r=new Fi(new Float32Array(3*n.count),3),this.setAttribute("normal",r);else for(let A=0,R=r.count;A<R;A++)r.setXYZ(A,0,0,0);const o=new it,l=new it,d=new it,f=new it,m=new it,v=new it,w=new it,S=new it;if(e)for(let A=0,R=e.count;A<R;A+=3){const B=e.getX(A+0),Y=e.getX(A+1),H=e.getX(A+2);o.fromBufferAttribute(n,B),l.fromBufferAttribute(n,Y),d.fromBufferAttribute(n,H),w.subVectors(d,l),S.subVectors(o,l),w.cross(S),f.fromBufferAttribute(r,B),m.fromBufferAttribute(r,Y),v.fromBufferAttribute(r,H),f.add(w),m.add(w),v.add(w),r.setXYZ(B,f.x,f.y,f.z),r.setXYZ(Y,m.x,m.y,m.z),r.setXYZ(H,v.x,v.y,v.z)}else for(let A=0,R=n.count;A<R;A+=3)o.fromBufferAttribute(n,A+0),l.fromBufferAttribute(n,A+1),d.fromBufferAttribute(n,A+2),w.subVectors(d,l),S.subVectors(o,l),w.cross(S),r.setXYZ(A+0,w.x,w.y,w.z),r.setXYZ(A+1,w.x,w.y,w.z),r.setXYZ(A+2,w.x,w.y,w.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Wo.fromBufferAttribute(e,n),Wo.normalize(),e.setXYZ(n,Wo.x,Wo.y,Wo.z)}toNonIndexed(){function e(f,m){const v=f.array,w=f.itemSize,S=f.normalized,A=new v.constructor(m.length*w);let R=0,B=0;for(let Y=0,H=m.length;Y<H;Y++){R=f.isInterleavedBufferAttribute?m[Y]*f.data.stride+f.offset:m[Y]*w;for(let U=0;U<w;U++)A[B++]=v[R++]}return new Fi(A,w,S)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new os,r=this.index.array,o=this.attributes;for(const f in o){const v=e(o[f],r);n.setAttribute(f,v)}const l=this.morphAttributes;for(const f in l){const m=[],v=l[f];for(let w=0,S=v.length;w<S;w++){const R=e(v[w],r);m.push(R)}n.morphAttributes[f]=m}n.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let f=0,m=d.length;f<m;f++){const v=d[f];n.addGroup(v.start,v.count,v.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const m=this.parameters;for(const v in m)void 0!==m[v]&&(e[v]=m[v]);return e}e.data={attributes:{}};const n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const m in r)e.data.attributes[m]=r[m].toJSON(e.data);const o={};let l=!1;for(const m in this.morphAttributes){const v=this.morphAttributes[m],w=[];for(let S=0,A=v.length;S<A;S++)w.push(v[S].toJSON(e.data));w.length>0&&(o[m]=w,l=!0)}l&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));const f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(n));const o=e.attributes;for(const v in o)this.setAttribute(v,o[v].clone(n));const l=e.morphAttributes;for(const v in l){const w=[],S=l[v];for(let A=0,R=S.length;A<R;A++)w.push(S[A].clone(n));this.morphAttributes[v]=w}this.morphTargetsRelative=e.morphTargetsRelative;const d=e.groups;for(let v=0,w=d.length;v<w;v++){const S=d[v];this.addGroup(S.start,S.count,S.materialIndex)}const f=e.boundingBox;null!==f&&(this.boundingBox=f.clone());const m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ja=new dr,mu=new El,id=new Jr,jg=new it,ka=new it,gu=new it,rd=new it,ih=new it,sd=new it,od=new Gn,Gc=new Gn,vu=new Gn,rh=new it,jc=new it,Wr=new it,Wd=new it,Np=new it;class oa extends Rn{constructor(e=new os,n=new T){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const f=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=l}}}}getVertexPosition(e,n){const r=this.geometry,l=r.morphAttributes.position,d=r.morphTargetsRelative;n.fromBufferAttribute(r.attributes.position,e);const f=this.morphTargetInfluences;if(l&&f){sd.set(0,0,0);for(let m=0,v=l.length;m<v;m++){const w=f[m];0!==w&&(ih.fromBufferAttribute(l[m],e),sd.addScaledVector(d?ih:ih.sub(n),w))}n.add(sd)}return n}raycast(e,n){const r=this.geometry,l=this.matrixWorld;void 0!==this.material&&(null===r.boundingSphere&&r.computeBoundingSphere(),id.copy(r.boundingSphere),id.applyMatrix4(l),mu.copy(e.ray).recast(e.near),(!1!==id.containsPoint(mu.origin)||!(null===mu.intersectSphere(id,jg)||mu.origin.distanceToSquared(jg)>(e.far-e.near)**2))&&(Ja.copy(l).invert(),mu.copy(e.ray).applyMatrix4(Ja),(null===r.boundingBox||!1!==mu.intersectsBox(r.boundingBox))&&this._computeIntersections(e,n,mu)))}_computeIntersections(e,n,r){let o;const l=this.geometry,d=this.material,f=l.index,m=l.attributes.position,v=l.attributes.uv,w=l.attributes.uv1,S=l.attributes.normal,A=l.groups,R=l.drawRange;if(null!==f)if(Array.isArray(d))for(let B=0,Y=A.length;B<Y;B++){const H=A[B],U=d[H.materialIndex];for(let de=Math.max(H.start,R.start),dt=Math.min(f.count,Math.min(H.start+H.count,R.start+R.count));de<dt;de+=3)o=sh(this,U,e,r,v,w,S,f.getX(de),f.getX(de+1),f.getX(de+2)),o&&(o.faceIndex=Math.floor(de/3),o.face.materialIndex=H.materialIndex,n.push(o))}else for(let H=Math.max(0,R.start),U=Math.min(f.count,R.start+R.count);H<U;H+=3)o=sh(this,d,e,r,v,w,S,f.getX(H),f.getX(H+1),f.getX(H+2)),o&&(o.faceIndex=Math.floor(H/3),n.push(o));else if(void 0!==m)if(Array.isArray(d))for(let B=0,Y=A.length;B<Y;B++){const H=A[B],U=d[H.materialIndex];for(let de=Math.max(H.start,R.start),dt=Math.min(m.count,Math.min(H.start+H.count,R.start+R.count));de<dt;de+=3)o=sh(this,U,e,r,v,w,S,de,de+1,de+2),o&&(o.faceIndex=Math.floor(de/3),o.face.materialIndex=H.materialIndex,n.push(o))}else for(let H=Math.max(0,R.start),U=Math.min(m.count,R.start+R.count);H<U;H+=3)o=sh(this,d,e,r,v,w,S,H,H+1,H+2),o&&(o.faceIndex=Math.floor(H/3),n.push(o))}}function sh(c,e,n,r,o,l,d,f,m,v){c.getVertexPosition(f,ka),c.getVertexPosition(m,gu),c.getVertexPosition(v,rd);const w=function Ky(c,e,n,r,o,l,d,f){let m;if(m=1===e.side?r.intersectTriangle(d,l,o,!0,f):r.intersectTriangle(o,l,d,0===e.side,f),null===m)return null;Np.copy(f),Np.applyMatrix4(c.matrixWorld);const v=n.ray.origin.distanceTo(Np);return v<n.near||v>n.far?null:{distance:v,point:Np.clone(),object:c}}(c,e,n,r,ka,gu,rd,Wd);if(w){o&&(od.fromBufferAttribute(o,f),Gc.fromBufferAttribute(o,m),vu.fromBufferAttribute(o,v),w.uv=Vs.getInterpolation(Wd,ka,gu,rd,od,Gc,vu,new Gn)),l&&(od.fromBufferAttribute(l,f),Gc.fromBufferAttribute(l,m),vu.fromBufferAttribute(l,v),w.uv1=Vs.getInterpolation(Wd,ka,gu,rd,od,Gc,vu,new Gn)),d&&(rh.fromBufferAttribute(d,f),jc.fromBufferAttribute(d,m),Wr.fromBufferAttribute(d,v),w.normal=Vs.getInterpolation(Wd,ka,gu,rd,rh,jc,Wr,new it),w.normal.dot(r.direction)>0&&w.normal.multiplyScalar(-1));const S={a:f,b:m,c:v,normal:new it,materialIndex:0};Vs.getNormal(ka,gu,rd,S.normal),w.face=S}return w}class yu extends os{constructor(e=1,n=1,r=1,o=1,l=1,d=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:l,depthSegments:d};const f=this;o=Math.floor(o),l=Math.floor(l),d=Math.floor(d);const m=[],v=[],w=[],S=[];let A=0,R=0;function B(Y,H,U,ue,re,de,dt,Ge,Ze,_t,Fe){const Me=de/Ze,qt=dt/_t,Sn=de/2,kt=dt/2,An=Ge/2,zn=Ze+1,Yn=_t+1;let Oi=0,Bn=0;const bi=new it;for(let wi=0;wi<Yn;wi++){const nr=wi*qt-kt;for(let hs=0;hs<zn;hs++)bi[Y]=(hs*Me-Sn)*ue,bi[H]=nr*re,bi[U]=An,v.push(bi.x,bi.y,bi.z),bi[Y]=0,bi[H]=0,bi[U]=Ge>0?1:-1,w.push(bi.x,bi.y,bi.z),S.push(hs/Ze),S.push(1-wi/_t),Oi+=1}for(let wi=0;wi<_t;wi++)for(let nr=0;nr<Ze;nr++){const ps=A+nr+zn*(wi+1),jn=A+(nr+1)+zn*(wi+1),Ai=A+(nr+1)+zn*wi;m.push(A+nr+zn*wi,ps,Ai),m.push(ps,jn,Ai),Bn+=6}f.addGroup(R,Bn,Fe),R+=Bn,A+=Oi}B("z","y","x",-1,-1,r,n,e,d,l,0),B("z","y","x",1,-1,r,n,-e,d,l,1),B("x","z","y",1,1,e,r,n,o,d,2),B("x","z","y",1,-1,e,r,-n,o,d,3),B("x","y","z",1,-1,e,n,r,o,l,4),B("x","y","z",-1,-1,e,n,-r,o,l,5),this.setIndex(m),this.setAttribute("position",new fr(v,3)),this.setAttribute("normal",new fr(w,3)),this.setAttribute("uv",new fr(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ll(c){const e={};for(const n in c){e[n]={};for(const r in c[n]){const o=c[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=o.clone():e[n][r]=Array.isArray(o)?o.slice():o}}return e}function Ua(c){const e={};for(let n=0;n<c.length;n++){const r=Ll(c[n]);for(const o in r)e[o]=r[o]}return e}function Wg(c){const e=c.getRenderTarget();return null===e?c.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:Os.workingColorSpace}const Zy={clone:Ll,merge:Ua};class ns extends ${constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ll(e.uniforms),this.uniformsGroups=function Yy(c){const e=[];for(let n=0;n<c.length;n++)e.push(c[n].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const d=this.uniforms[o].value;n.uniforms[o]=d&&d.isTexture?{type:"t",value:d.toJSON(e).uuid}:d&&d.isColor?{type:"c",value:d.getHex()}:d&&d.isVector2?{type:"v2",value:d.toArray()}:d&&d.isVector3?{type:"v3",value:d.toArray()}:d&&d.isVector4?{type:"v4",value:d.toArray()}:d&&d.isMatrix3?{type:"m3",value:d.toArray()}:d&&d.isMatrix4?{type:"m4",value:d.toArray()}:{value:d}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const o in this.extensions)!0===this.extensions[o]&&(r[o]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class oh extends Rn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dr,this.projectionMatrix=new dr,this.projectionMatrixInverse=new dr,this.coordinateSystem=ra}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const pc=new it,uo=new Gn,Lp=new Gn;class Xo extends oh{constructor(e=50,n=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=2*ti*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ye*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ti*Math.atan(Math.tan(.5*Ye*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){pc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(pc.x,pc.y).multiplyScalar(-e/pc.z),pc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(pc.x,pc.y).multiplyScalar(-e/pc.z)}getViewSize(e,n){return this.getViewBounds(e,uo,Lp),n.subVectors(Lp,uo)}setViewOffset(e,n,r,o,l,d){this.aspect=e/n,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(.5*Ye*this.fov)/this.zoom,r=2*n,o=this.aspect*r,l=-.5*o;const d=this.view;if(null!==this.view&&this.view.enabled){const m=d.fullWidth,v=d.fullHeight;l+=d.offsetX*o/m,n-=d.offsetY*r/v,o*=d.width/m,r*=d.height/v}const f=this.filmOffset;0!==f&&(l+=e*f/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}class Fp extends Rn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new Xo(-90,1,e,n);o.layers=this.layers,this.add(o);const l=new Xo(-90,1,e,n);l.layers=this.layers,this.add(l);const d=new Xo(-90,1,e,n);d.layers=this.layers,this.add(d);const f=new Xo(-90,1,e,n);f.layers=this.layers,this.add(f);const m=new Xo(-90,1,e,n);m.layers=this.layers,this.add(m);const v=new Xo(-90,1,e,n);v.layers=this.layers,this.add(v)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,o,l,d,f,m]=n;for(const v of n)this.remove(v);if(e===ra)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),l.up.set(0,0,-1),l.lookAt(0,1,0),d.up.set(0,0,1),d.lookAt(0,-1,0),f.up.set(0,1,0),f.lookAt(0,0,1),m.up.set(0,1,0),m.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),l.up.set(0,0,1),l.lookAt(0,1,0),d.up.set(0,0,-1),d.lookAt(0,-1,0),f.up.set(0,-1,0),f.lookAt(0,0,1),m.up.set(0,-1,0),m.lookAt(0,0,-1)}for(const v of n)this.add(v),v.updateMatrixWorld()}update(e,n){null===this.parent&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[l,d,f,m,v,w]=this.children,S=e.getRenderTarget(),A=e.getActiveCubeFace(),R=e.getActiveMipmapLevel(),B=e.xr.enabled;e.xr.enabled=!1;const Y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(n,l),e.setRenderTarget(r,1,o),e.render(n,d),e.setRenderTarget(r,2,o),e.render(n,f),e.setRenderTarget(r,3,o),e.render(n,m),e.setRenderTarget(r,4,o),e.render(n,v),r.texture.generateMipmaps=Y,e.setRenderTarget(r,5,o),e.render(n,w),e.setRenderTarget(S,A,R),e.xr.enabled=B,r.texture.needsPMREMUpdate=!0}}class ah extends zo{constructor(e,n,r,o,l,d,f,m,v,w){super(e=void 0!==e?e:[],n=void 0!==n?n:zi,r,o,l,d,f,m,v,w),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Fx extends Co{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1};this.texture=new ah([r,r,r,r,r,r],n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:fe}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r_uniforms={tEquirect:{value:null}},r_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new yu(5,5,5),l=new ns({name:"CubemapFromEquirect",uniforms:Ll(r_uniforms),vertexShader:r_vertexShader,fragmentShader:r_fragmentShader,side:1,blending:0});l.uniforms.tEquirect.value=n;const d=new oa(o,l),f=n.minFilter;return n.minFilter===we&&(n.minFilter=fe),new Fp(1,10,this).update(e,d),n.minFilter=f,d.geometry.dispose(),d.material.dispose(),this}clear(e,n,r,o){const l=e.getRenderTarget();for(let d=0;d<6;d++)e.setRenderTarget(this,d),e.clear(n,r,o);e.setRenderTarget(l)}}const lh=new it,Va=new it,mc=new jr;class gc{constructor(e=new it(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,o){return this.normal.set(e,n,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const o=lh.subVectors(r,n).cross(Va.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(lh),o=this.normal.dot(r);if(0===o)return 0===this.distanceToPoint(e.start)?n.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/o;return l<0||l>1?null:n.copy(e.start).addScaledVector(r,l)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||mc.getNormalMatrix(e),o=this.coplanarPoint(lh).applyMatrix4(e),l=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const xa=new Jr,Sl=new it;class ch{constructor(e=new gc,n=new gc,r=new gc,o=new gc,l=new gc,d=new gc){this.planes=[e,n,r,o,l,d]}set(e,n,r,o,l,d){const f=this.planes;return f[0].copy(e),f[1].copy(n),f[2].copy(r),f[3].copy(o),f[4].copy(l),f[5].copy(d),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ra){const r=this.planes,o=e.elements,l=o[0],d=o[1],f=o[2],m=o[3],v=o[4],w=o[5],S=o[6],A=o[7],R=o[8],B=o[9],Y=o[10],H=o[11],U=o[12],ue=o[13],re=o[14],de=o[15];if(r[0].setComponents(m-l,A-v,H-R,de-U).normalize(),r[1].setComponents(m+l,A+v,H+R,de+U).normalize(),r[2].setComponents(m+d,A+w,H+B,de+ue).normalize(),r[3].setComponents(m-d,A-w,H-B,de-ue).normalize(),r[4].setComponents(m-f,A-S,H-Y,de-re).normalize(),n===ra)r[5].setComponents(m+f,A+S,H+Y,de+re).normalize();else{if(2001!==n)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);r[5].setComponents(f,S,Y,re).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),xa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;null===n.boundingSphere&&n.computeBoundingSphere(),xa.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(xa)}intersectsSprite(e){return xa.center.set(0,0,0),xa.radius=.7071067811865476,xa.applyMatrix4(e.matrixWorld),this.intersectsSphere(xa)}intersectsSphere(e){const n=this.planes,r=e.center,o=-e.radius;for(let l=0;l<6;l++)if(n[l].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const o=n[r];if(Sl.x=o.normal.x>0?e.max.x:e.min.x,Sl.y=o.normal.y>0?e.max.y:e.min.y,Sl.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Sl)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function kp(){let c=null,e=!1,n=null,r=null;function o(l,d){n(l,d),r=c.requestAnimationFrame(o)}return{start:function(){!0!==e&&null!==n&&(r=c.requestAnimationFrame(o),e=!0)},stop:function(){c.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(l){n=l},setContext:function(l){c=l}}}function Jy(c){const e=new WeakMap;return{get:function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),e.get(f)},remove:function l(f){f.isInterleavedBufferAttribute&&(f=f.data);const m=e.get(f);m&&(c.deleteBuffer(m.buffer),e.delete(f))},update:function d(f,m){if(f.isGLBufferAttribute){const w=e.get(f);return void((!w||w.version<f.version)&&e.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version}))}f.isInterleavedBufferAttribute&&(f=f.data);const v=e.get(f);if(void 0===v)e.set(f,function n(f,m){const v=f.array,w=f.usage,S=v.byteLength,A=c.createBuffer();let R;if(c.bindBuffer(m,A),c.bufferData(m,v,w),f.onUploadCallback(),v instanceof Float32Array)R=c.FLOAT;else if(v instanceof Uint16Array)R=f.isFloat16BufferAttribute?c.HALF_FLOAT:c.UNSIGNED_SHORT;else if(v instanceof Int16Array)R=c.SHORT;else if(v instanceof Uint32Array)R=c.UNSIGNED_INT;else if(v instanceof Int32Array)R=c.INT;else if(v instanceof Int8Array)R=c.BYTE;else if(v instanceof Uint8Array)R=c.UNSIGNED_BYTE;else{if(!(v instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);R=c.UNSIGNED_BYTE}return{buffer:A,type:R,bytesPerElement:v.BYTES_PER_ELEMENT,version:f.version,size:S}}(f,m));else if(v.version<f.version){if(v.size!==f.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function r(f,m,v){const w=m.array,S=m._updateRange,A=m.updateRanges;if(c.bindBuffer(v,f),-1===S.count&&0===A.length&&c.bufferSubData(v,0,w),0!==A.length){for(let R=0,B=A.length;R<B;R++){const Y=A[R];c.bufferSubData(v,Y.start*w.BYTES_PER_ELEMENT,w,Y.start,Y.count)}m.clearUpdateRanges()}-1!==S.count&&(c.bufferSubData(v,S.offset*w.BYTES_PER_ELEMENT,w,S.offset,S.count),S.count=-1),m.onUploadCallback()})(v.buffer,f,m),v.version=f.version}}}}class Xd extends os{constructor(e=1,n=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:o};const l=e/2,d=n/2,f=Math.floor(r),m=Math.floor(o),v=f+1,w=m+1,S=e/f,A=n/m,R=[],B=[],Y=[],H=[];for(let U=0;U<w;U++){const ue=U*A-d;for(let re=0;re<v;re++)B.push(re*S-l,-ue,0),Y.push(0,0,1),H.push(re/f),H.push(1-U/m)}for(let U=0;U<m;U++)for(let ue=0;ue<f;ue++){const de=ue+v*(U+1),dt=ue+1+v*(U+1),Ge=ue+1+v*U;R.push(ue+v*U,de,Ge),R.push(de,dt,Ge)}this.setIndex(R),this.setAttribute("position",new fr(B,3)),this.setAttribute("normal",new fr(Y,3)),this.setAttribute("uv",new fr(H,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xd(e.width,e.height,e.widthSegments,e.heightSegments)}}const xs={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[MORPHTARGETS_COUNT];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t#endif\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\t#ifndef USE_INSTANCING_MORPH\n\t\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\t#endif\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Wi={common:{diffuse:{value:new yi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jr},alphaMap:{value:null},alphaMapTransform:{value:new jr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jr}},envmap:{envMap:{value:null},envMapRotation:{value:new jr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jr},normalScale:{value:new Gn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new yi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new yi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jr},alphaTest:{value:0},uvTransform:{value:new jr}},sprite:{diffuse:{value:new yi(16777215)},opacity:{value:1},center:{value:new Gn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jr},alphaMap:{value:null},alphaMapTransform:{value:new jr},alphaTest:{value:0}}},Fl={basic:{uniforms:Ua([Wi.common,Wi.specularmap,Wi.envmap,Wi.aomap,Wi.lightmap,Wi.fog]),vertexShader:xs.meshbasic_vert,fragmentShader:xs.meshbasic_frag},lambert:{uniforms:Ua([Wi.common,Wi.specularmap,Wi.envmap,Wi.aomap,Wi.lightmap,Wi.emissivemap,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,Wi.fog,Wi.lights,{emissive:{value:new yi(0)}}]),vertexShader:xs.meshlambert_vert,fragmentShader:xs.meshlambert_frag},phong:{uniforms:Ua([Wi.common,Wi.specularmap,Wi.envmap,Wi.aomap,Wi.lightmap,Wi.emissivemap,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,Wi.fog,Wi.lights,{emissive:{value:new yi(0)},specular:{value:new yi(1118481)},shininess:{value:30}}]),vertexShader:xs.meshphong_vert,fragmentShader:xs.meshphong_frag},standard:{uniforms:Ua([Wi.common,Wi.envmap,Wi.aomap,Wi.lightmap,Wi.emissivemap,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,Wi.roughnessmap,Wi.metalnessmap,Wi.fog,Wi.lights,{emissive:{value:new yi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xs.meshphysical_vert,fragmentShader:xs.meshphysical_frag},toon:{uniforms:Ua([Wi.common,Wi.aomap,Wi.lightmap,Wi.emissivemap,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,Wi.gradientmap,Wi.fog,Wi.lights,{emissive:{value:new yi(0)}}]),vertexShader:xs.meshtoon_vert,fragmentShader:xs.meshtoon_frag},matcap:{uniforms:Ua([Wi.common,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,Wi.fog,{matcap:{value:null}}]),vertexShader:xs.meshmatcap_vert,fragmentShader:xs.meshmatcap_frag},points:{uniforms:Ua([Wi.points,Wi.fog]),vertexShader:xs.points_vert,fragmentShader:xs.points_frag},dashed:{uniforms:Ua([Wi.common,Wi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xs.linedashed_vert,fragmentShader:xs.linedashed_frag},depth:{uniforms:Ua([Wi.common,Wi.displacementmap]),vertexShader:xs.depth_vert,fragmentShader:xs.depth_frag},normal:{uniforms:Ua([Wi.common,Wi.bumpmap,Wi.normalmap,Wi.displacementmap,{opacity:{value:1}}]),vertexShader:xs.meshnormal_vert,fragmentShader:xs.meshnormal_frag},sprite:{uniforms:Ua([Wi.sprite,Wi.fog]),vertexShader:xs.sprite_vert,fragmentShader:xs.sprite_frag},background:{uniforms:{uvTransform:{value:new jr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xs.background_vert,fragmentShader:xs.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jr}},vertexShader:xs.backgroundCube_vert,fragmentShader:xs.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xs.cube_vert,fragmentShader:xs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xs.equirect_vert,fragmentShader:xs.equirect_frag},distanceRGBA:{uniforms:Ua([Wi.common,Wi.displacementmap,{referencePosition:{value:new it},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xs.distanceRGBA_vert,fragmentShader:xs.distanceRGBA_frag},shadow:{uniforms:Ua([Wi.lights,Wi.fog,{color:{value:new yi(0)},opacity:{value:1}}]),vertexShader:xs.shadow_vert,fragmentShader:xs.shadow_frag}};Fl.physical={uniforms:Ua([Fl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jr},clearcoatNormalScale:{value:new Gn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jr},sheen:{value:0},sheenColor:{value:new yi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jr},transmissionSamplerSize:{value:new Gn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jr},attenuationDistance:{value:0},attenuationColor:{value:new yi(0)},specularColor:{value:new yi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jr},anisotropyVector:{value:new Gn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jr}}]),vertexShader:xs.meshphysical_vert,fragmentShader:xs.meshphysical_frag};const Eh={r:0,b:0,g:0},Xc=new Dr,F_=new dr;function k_(c,e,n,r,o,l,d){const f=new yi(0);let v,w,m=!0===l?0:1,S=null,A=0,R=null;function B(ue){let re=!0===ue.isScene?ue.background:null;return re&&re.isTexture&&(re=(ue.backgroundBlurriness>0?n:e).get(re)),re}function U(ue,re){ue.getRGB(Eh,Wg(c)),r.buffers.color.setClear(Eh.r,Eh.g,Eh.b,re,d)}return{getClearColor:function(){return f},setClearColor:function(ue,re=1){f.set(ue),m=re,U(f,m)},getClearAlpha:function(){return m},setClearAlpha:function(ue){m=ue,U(f,m)},render:function Y(ue){let re=!1;const de=B(ue);null===de?U(f,m):de&&de.isColor&&(U(de,1),re=!0);const dt=c.xr.getEnvironmentBlendMode();"additive"===dt?r.buffers.color.setClear(0,0,0,1,d):"alpha-blend"===dt&&r.buffers.color.setClear(0,0,0,0,d),(c.autoClear||re)&&c.clear(c.autoClearColor,c.autoClearDepth,c.autoClearStencil)},addToRenderList:function H(ue,re){const de=B(re);de&&(de.isCubeTexture||de.mapping===Fs)?(void 0===w&&(w=new oa(new yu(1,1,1),new ns({name:"BackgroundCubeMaterial",uniforms:Ll(Fl.backgroundCube.uniforms),vertexShader:Fl.backgroundCube.vertexShader,fragmentShader:Fl.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),w.geometry.deleteAttribute("uv"),w.onBeforeRender=function(dt,Ge,Ze){this.matrixWorld.copyPosition(Ze.matrixWorld)},Object.defineProperty(w.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(w)),Xc.copy(re.backgroundRotation),Xc.x*=-1,Xc.y*=-1,Xc.z*=-1,de.isCubeTexture&&!1===de.isRenderTargetTexture&&(Xc.y*=-1,Xc.z*=-1),w.material.uniforms.envMap.value=de,w.material.uniforms.flipEnvMap.value=de.isCubeTexture&&!1===de.isRenderTargetTexture?-1:1,w.material.uniforms.backgroundBlurriness.value=re.backgroundBlurriness,w.material.uniforms.backgroundIntensity.value=re.backgroundIntensity,w.material.uniforms.backgroundRotation.value.setFromMatrix4(F_.makeRotationFromEuler(Xc)),w.material.toneMapped=Os.getTransfer(de.colorSpace)!==In,(S!==de||A!==de.version||R!==c.toneMapping)&&(w.material.needsUpdate=!0,S=de,A=de.version,R=c.toneMapping),w.layers.enableAll(),ue.unshift(w,w.geometry,w.material,0,0,null)):de&&de.isTexture&&(void 0===v&&(v=new oa(new Xd(2,2),new ns({name:"BackgroundMaterial",uniforms:Ll(Fl.background.uniforms),vertexShader:Fl.background.vertexShader,fragmentShader:Fl.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(v)),v.material.uniforms.t2D.value=de,v.material.uniforms.backgroundIntensity.value=re.backgroundIntensity,v.material.toneMapped=Os.getTransfer(de.colorSpace)!==In,!0===de.matrixAutoUpdate&&de.updateMatrix(),v.material.uniforms.uvTransform.value.copy(de.matrix),(S!==de||A!==de.version||R!==c.toneMapping)&&(v.material.needsUpdate=!0,S=de,A=de.version,R=c.toneMapping),v.layers.enableAll(),ue.unshift(v,v.geometry,v.material,0,0,null))}}}function U_(c,e){const n=c.getParameter(c.MAX_VERTEX_ATTRIBS),r={},o=A(null);let l=o,d=!1;function v(Me){return c.bindVertexArray(Me)}function w(Me){return c.deleteVertexArray(Me)}function A(Me){const qt=[],Sn=[],kt=[];for(let An=0;An<n;An++)qt[An]=0,Sn[An]=0,kt[An]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:qt,enabledAttributes:Sn,attributeDivisors:kt,object:Me,attributes:{},index:null}}function Y(){const Me=l.newAttributes;for(let qt=0,Sn=Me.length;qt<Sn;qt++)Me[qt]=0}function H(Me){U(Me,0)}function U(Me,qt){const kt=l.enabledAttributes,An=l.attributeDivisors;l.newAttributes[Me]=1,0===kt[Me]&&(c.enableVertexAttribArray(Me),kt[Me]=1),An[Me]!==qt&&(c.vertexAttribDivisor(Me,qt),An[Me]=qt)}function ue(){const Me=l.newAttributes,qt=l.enabledAttributes;for(let Sn=0,kt=qt.length;Sn<kt;Sn++)qt[Sn]!==Me[Sn]&&(c.disableVertexAttribArray(Sn),qt[Sn]=0)}function re(Me,qt,Sn,kt,An,zn,Yn){!0===Yn?c.vertexAttribIPointer(Me,qt,Sn,An,zn):c.vertexAttribPointer(Me,qt,Sn,kt,An,zn)}function _t(){Fe(),d=!0,l!==o&&(l=o,v(l.object))}function Fe(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:function f(Me,qt,Sn,kt,An){let zn=!1;const Yn=function S(Me,qt,Sn){const kt=!0===Sn.wireframe;let An=r[Me.id];void 0===An&&(An={},r[Me.id]=An);let zn=An[qt.id];void 0===zn&&(zn={},An[qt.id]=zn);let Yn=zn[kt];return void 0===Yn&&(Yn=A(function m(){return c.createVertexArray()}()),zn[kt]=Yn),Yn}(kt,Sn,qt);l!==Yn&&(l=Yn,v(l.object)),zn=function R(Me,qt,Sn,kt){const An=l.attributes,zn=qt.attributes;let Yn=0;const Oi=Sn.getAttributes();for(const Bn in Oi)if(Oi[Bn].location>=0){const wi=An[Bn];let nr=zn[Bn];if(void 0===nr&&("instanceMatrix"===Bn&&Me.instanceMatrix&&(nr=Me.instanceMatrix),"instanceColor"===Bn&&Me.instanceColor&&(nr=Me.instanceColor)),void 0===wi||wi.attribute!==nr||nr&&wi.data!==nr.data)return!0;Yn++}return l.attributesNum!==Yn||l.index!==kt}(Me,kt,Sn,An),zn&&function B(Me,qt,Sn,kt){const An={},zn=qt.attributes;let Yn=0;const Oi=Sn.getAttributes();for(const Bn in Oi)if(Oi[Bn].location>=0){let wi=zn[Bn];void 0===wi&&("instanceMatrix"===Bn&&Me.instanceMatrix&&(wi=Me.instanceMatrix),"instanceColor"===Bn&&Me.instanceColor&&(wi=Me.instanceColor));const nr={};nr.attribute=wi,wi&&wi.data&&(nr.data=wi.data),An[Bn]=nr,Yn++}l.attributes=An,l.attributesNum=Yn,l.index=kt}(Me,kt,Sn,An),null!==An&&e.update(An,c.ELEMENT_ARRAY_BUFFER),(zn||d)&&(d=!1,function de(Me,qt,Sn,kt){Y();const An=kt.attributes,zn=Sn.getAttributes(),Yn=qt.defaultAttributeValues;for(const Oi in zn){const Bn=zn[Oi];if(Bn.location>=0){let bi=An[Oi];if(void 0===bi&&("instanceMatrix"===Oi&&Me.instanceMatrix&&(bi=Me.instanceMatrix),"instanceColor"===Oi&&Me.instanceColor&&(bi=Me.instanceColor)),void 0!==bi){const wi=bi.normalized,nr=bi.itemSize,hs=e.get(bi);if(void 0===hs)continue;const ps=hs.buffer,jn=hs.type,Ai=hs.bytesPerElement,Hi=jn===c.INT||jn===c.UNSIGNED_INT||1013===bi.gpuType;if(bi.isInterleavedBufferAttribute){const Di=bi.data,Xr=Di.stride,as=bi.offset;if(Di.isInstancedInterleavedBuffer){for(let hn=0;hn<Bn.locationSize;hn++)U(Bn.location+hn,Di.meshPerAttribute);!0!==Me.isInstancedMesh&&void 0===kt._maxInstanceCount&&(kt._maxInstanceCount=Di.meshPerAttribute*Di.count)}else for(let hn=0;hn<Bn.locationSize;hn++)H(Bn.location+hn);c.bindBuffer(c.ARRAY_BUFFER,ps);for(let hn=0;hn<Bn.locationSize;hn++)re(Bn.location+hn,nr/Bn.locationSize,jn,wi,Xr*Ai,(as+nr/Bn.locationSize*hn)*Ai,Hi)}else{if(bi.isInstancedBufferAttribute){for(let Di=0;Di<Bn.locationSize;Di++)U(Bn.location+Di,bi.meshPerAttribute);!0!==Me.isInstancedMesh&&void 0===kt._maxInstanceCount&&(kt._maxInstanceCount=bi.meshPerAttribute*bi.count)}else for(let Di=0;Di<Bn.locationSize;Di++)H(Bn.location+Di);c.bindBuffer(c.ARRAY_BUFFER,ps);for(let Di=0;Di<Bn.locationSize;Di++)re(Bn.location+Di,nr/Bn.locationSize,jn,wi,nr*Ai,nr/Bn.locationSize*Di*Ai,Hi)}}else if(void 0!==Yn){const wi=Yn[Oi];if(void 0!==wi)switch(wi.length){case 2:c.vertexAttrib2fv(Bn.location,wi);break;case 3:c.vertexAttrib3fv(Bn.location,wi);break;case 4:c.vertexAttrib4fv(Bn.location,wi);break;default:c.vertexAttrib1fv(Bn.location,wi)}}}}ue()}(Me,qt,Sn,kt),null!==An&&c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,e.get(An).buffer))},reset:_t,resetDefaultState:Fe,dispose:function dt(){_t();for(const Me in r){const qt=r[Me];for(const Sn in qt){const kt=qt[Sn];for(const An in kt)w(kt[An].object),delete kt[An];delete qt[Sn]}delete r[Me]}},releaseStatesOfGeometry:function Ge(Me){if(void 0===r[Me.id])return;const qt=r[Me.id];for(const Sn in qt){const kt=qt[Sn];for(const An in kt)w(kt[An].object),delete kt[An];delete qt[Sn]}delete r[Me.id]},releaseStatesOfProgram:function Ze(Me){for(const qt in r){const Sn=r[qt];if(void 0===Sn[Me.id])continue;const kt=Sn[Me.id];for(const An in kt)w(kt[An].object),delete kt[An];delete Sn[Me.id]}},initAttributes:Y,enableAttribute:H,disableUnusedAttributes:ue}}function B_(c,e,n){let r;function d(v,w,S){0!==S&&(c.drawArraysInstanced(r,v,w,S),n.update(w,r,S))}this.setMode=function o(v){r=v},this.render=function l(v,w){c.drawArrays(r,v,w),n.update(w,r,1)},this.renderInstances=d,this.renderMultiDraw=function f(v,w,S){if(0===S)return;const A=e.get("WEBGL_multi_draw");if(null===A)for(let R=0;R<S;R++)this.render(v[R],w[R]);else{A.multiDrawArraysWEBGL(r,v,0,w,0,S);let R=0;for(let B=0;B<S;B++)R+=w[B];n.update(R,r,1)}},this.renderMultiDrawInstances=function m(v,w,S,A){if(0===S)return;const R=e.get("WEBGL_multi_draw");if(null===R)for(let B=0;B<v.length;B++)d(v[B],w[B],A[B]);else{R.multiDrawArraysInstancedWEBGL(r,v,0,w,0,A,0,S);let B=0;for(let Y=0;Y<S;Y++)B+=w[Y];for(let Y=0;Y<A.length;Y++)n.update(B,r,A[Y])}}}function Av(c,e,n,r){let o;function m(Ge){if("highp"===Ge){if(c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.HIGH_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT).precision>0)return"highp";Ge="mediump"}return"mediump"===Ge&&c.getShaderPrecisionFormat(c.VERTEX_SHADER,c.MEDIUM_FLOAT).precision>0&&c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let v=void 0!==n.precision?n.precision:"highp";const w=m(v);w!==v&&(console.warn("THREE.WebGLRenderer:",v,"not supported, using",w,"instead."),v=w);const S=!0===n.logarithmicDepthBuffer,A=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),R=c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function l(){if(void 0!==o)return o;if(!0===e.has("EXT_texture_filter_anisotropic")){const Ge=e.get("EXT_texture_filter_anisotropic");o=c.getParameter(Ge.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o},getMaxPrecision:m,textureFormatReadable:function d(Ge){return!(Ge!==Qt&&r.convert(Ge)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function f(Ge){const Ze=1016===Ge&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Ge!==L&&r.convert(Ge)!==c.getParameter(c.IMPLEMENTATION_COLOR_READ_TYPE)&&Ge!==me&&!Ze)},precision:v,logarithmicDepthBuffer:S,maxTextures:A,maxVertexTextures:R,maxTextureSize:c.getParameter(c.MAX_TEXTURE_SIZE),maxCubemapSize:c.getParameter(c.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:c.getParameter(c.MAX_VERTEX_ATTRIBS),maxVertexUniforms:c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:c.getParameter(c.MAX_VARYING_VECTORS),maxFragmentUniforms:c.getParameter(c.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:R>0,maxSamples:c.getParameter(c.MAX_SAMPLES)}}function Tv(c){const e=this;let n=null,r=0,o=!1,l=!1;const d=new gc,f=new jr,m={value:null,needsUpdate:!1};function w(S,A,R,B){const Y=null!==S?S.length:0;let H=null;if(0!==Y){if(H=m.value,!0!==B||null===H){const U=R+4*Y,ue=A.matrixWorldInverse;f.getNormalMatrix(ue),(null===H||H.length<U)&&(H=new Float32Array(U));for(let re=0,de=R;re!==Y;++re,de+=4)d.copy(S[re]).applyMatrix4(ue,f),d.normal.toArray(H,de),H[de+3]=d.constant}m.value=H,m.needsUpdate=!0}return e.numPlanes=Y,e.numIntersection=0,H}this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(S,A){const R=0!==S.length||A||0!==r||o;return o=A,r=S.length,R},this.beginShadows=function(){l=!0,w(null)},this.endShadows=function(){l=!1},this.setGlobalState=function(S,A){n=w(S,A,0)},this.setState=function(S,A,R){const B=S.clippingPlanes,Y=S.clipIntersection,H=S.clipShadows,U=c.get(S);if(!o||null===B||0===B.length||l&&!H)l?w(null):function v(){m.value!==n&&(m.value=n,m.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}();else{const ue=l?0:r,re=4*ue;let de=U.clippingState||null;m.value=de,de=w(B,A,re,R);for(let dt=0;dt!==re;++dt)de[dt]=n[dt];U.clippingState=de,this.numIntersection=Y?this.numPlanes:0,this.numPlanes+=ue}}}function Dv(c){let e=new WeakMap;function n(d,f){return 303===f?d.mapping=zi:304===f&&(d.mapping=Ls),d}function o(d){const f=d.target;f.removeEventListener("dispose",o);const m=e.get(f);void 0!==m&&(e.delete(f),m.dispose())}return{get:function r(d){if(d&&d.isTexture){const f=d.mapping;if(303===f||304===f){if(e.has(d))return n(e.get(d).texture,d.mapping);{const m=d.image;if(m&&m.height>0){const v=new Fx(m.height);return v.fromEquirectangularTexture(c,d),e.set(d,v),d.addEventListener("dispose",o),n(v.texture,d.mapping)}return null}}}return d},dispose:function l(){e=new WeakMap}}}class wu extends oh{constructor(e=-1,n=1,r=1,o=-1,l=.1,d=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=o,this.near=l,this.far=d,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,n,r,o,l,d){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=r-e,d=r+e,f=o+n,m=o-n;if(null!==this.view&&this.view.enabled){const v=(this.right-this.left)/this.view.fullWidth/this.zoom,w=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=v*this.view.offsetX,d=l+v*this.view.width,f-=w*this.view.offsetY,m=f-w*this.view.height}this.projectionMatrix.makeOrthographic(l,d,f,m,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}const em=[.125,.215,.35,.446,.526,.582],Sh=new wu,Iv=new yi;let tm=null,nm=0,im=0,Mh=!1;const dd=(1+Math.sqrt(5))/2,Eu=1/dd,Rv=[new it(-dd,Eu,0),new it(dd,Eu,0),new it(-Eu,0,dd),new it(Eu,0,dd),new it(0,dd,-Eu),new it(0,dd,Eu),new it(-1,1,-1),new it(1,1,-1),new it(-1,1,1),new it(1,1,1)];class Pv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,o=100){tm=this._renderer.getRenderTarget(),nm=this._renderer.getActiveCubeFace(),im=this._renderer.getActiveMipmapLevel(),Mh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,o,l),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=_c(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Nv(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tm,nm,im),this._renderer.xr.enabled=Mh,e.scissorTest=!1,Jd(e,0,0,e.width,e.height)}_fromTexture(e,n){this._setSize(e.mapping===zi||e.mapping===Ls?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),tm=this._renderer.getRenderTarget(),nm=this._renderer.getActiveCubeFace(),im=this._renderer.getActiveMipmapLevel(),Mh=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:fe,minFilter:fe,generateMipmaps:!1,type:1016,format:Qt,colorSpace:At,depthBuffer:!1},o=Ov(e,n,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ov(e,n,r);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function tE(c){const e=[],n=[],r=[];let o=c;const l=c-4+1+em.length;for(let d=0;d<l;d++){const f=Math.pow(2,o);n.push(f);let m=1/f;d>c-4?m=em[d-c+4-1]:0===d&&(m=0),r.push(m);const v=1/(f-2),w=-v,S=1+v,A=[w,w,S,w,S,S,w,w,S,S,w,S],R=6,B=6,Y=3,H=2,U=1,ue=new Float32Array(Y*B*R),re=new Float32Array(H*B*R),de=new Float32Array(U*B*R);for(let Ge=0;Ge<R;Ge++){const Ze=Ge%3*2/3-1,_t=Ge>2?0:-1;ue.set([Ze,_t,0,Ze+2/3,_t,0,Ze+2/3,_t+1,0,Ze,_t,0,Ze+2/3,_t+1,0,Ze,_t+1,0],Y*B*Ge),re.set(A,H*B*Ge),de.set([Ge,Ge,Ge,Ge,Ge,Ge],U*B*Ge)}const dt=new os;dt.setAttribute("position",new Fi(ue,Y)),dt.setAttribute("uv",new Fi(re,H)),dt.setAttribute("faceIndex",new Fi(de,U)),e.push(dt),o>4&&o--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(l)),this._blurMaterial=function rm(c,e,n){const r=new Float32Array(20),o=new it(0,1,0);return new ns({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${c}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(l,e,n)}return o}_compileMaterial(e){const n=new oa(this._lodPlanes[0],e);this._renderer.compile(n,Sh)}_sceneToCubeUV(e,n,r,o){const f=new Xo(90,1,n,r),m=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],w=this._renderer,S=w.autoClear,A=w.toneMapping;w.getClearColor(Iv),w.toneMapping=sr,w.autoClear=!1;const R=new T({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),B=new oa(new yu,R);let Y=!1;const H=e.background;H?H.isColor&&(R.color.copy(H),e.background=null,Y=!0):(R.color.copy(Iv),Y=!0);for(let U=0;U<6;U++){const ue=U%3;0===ue?(f.up.set(0,m[U],0),f.lookAt(v[U],0,0)):1===ue?(f.up.set(0,0,m[U]),f.lookAt(0,v[U],0)):(f.up.set(0,m[U],0),f.lookAt(0,0,v[U]));const re=this._cubeSize;Jd(o,ue*re,U>2?re:0,re,re),w.setRenderTarget(o),Y&&w.render(B,f),w.render(e,f)}B.geometry.dispose(),B.material.dispose(),w.toneMapping=A,w.autoClear=S,e.background=H}_textureToCubeUV(e,n){const r=this._renderer,o=e.mapping===zi||e.mapping===Ls;o?(null===this._cubemapMaterial&&(this._cubemapMaterial=_c()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Nv());const l=o?this._cubemapMaterial:this._equirectMaterial,d=new oa(this._lodPlanes[0],l);l.uniforms.envMap.value=e;const m=this._cubeSize;Jd(n,0,0,3*m,2*m),r.setRenderTarget(n),r.render(d,Sh)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const o=this._lodPlanes.length;for(let l=1;l<o;l++){const d=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]);this._blur(e,l-1,l,d,Rv[(o-l-1)%Rv.length])}n.autoClear=r}_blur(e,n,r,o,l){const d=this._pingPongRenderTarget;this._halfBlur(e,d,n,r,o,"latitudinal",l),this._halfBlur(d,e,r,r,o,"longitudinal",l)}_halfBlur(e,n,r,o,l,d,f){const m=this._renderer,v=this._blurMaterial;"latitudinal"!==d&&"longitudinal"!==d&&console.error("blur direction must be either latitudinal or longitudinal!");const S=new oa(this._lodPlanes[o],v),A=v.uniforms,R=this._sizeLods[r]-1,B=isFinite(l)?Math.PI/(2*R):2*Math.PI/39,Y=l/B,H=isFinite(l)?1+Math.floor(3*Y):20;H>20&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${H} samples when the maximum is set to 20`);const U=[];let ue=0;for(let Ze=0;Ze<20;++Ze){const _t=Ze/Y,Fe=Math.exp(-_t*_t/2);U.push(Fe),0===Ze?ue+=Fe:Ze<H&&(ue+=2*Fe)}for(let Ze=0;Ze<U.length;Ze++)U[Ze]=U[Ze]/ue;A.envMap.value=e.texture,A.samples.value=H,A.weights.value=U,A.latitudinal.value="latitudinal"===d,f&&(A.poleAxis.value=f);const{_lodMax:re}=this;A.dTheta.value=B,A.mipInt.value=re-r;const de=this._sizeLods[o];Jd(n,3*de*(o>re-4?o-re+4:0),4*(this._cubeSize-de),3*de,2*de),m.setRenderTarget(n),m.render(S,Sh)}}function Ov(c,e,n){const r=new Co(c,e,n);return r.texture.mapping=Fs,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Jd(c,e,n,r,o){c.viewport.set(e,n,r,o),c.scissor.set(e,n,r,o)}function Nv(){return new ns({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function _c(){return new ns({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function V_(c){let e=new WeakMap,n=null;function l(f){const m=f.target;m.removeEventListener("dispose",l);const v=e.get(m);void 0!==v&&(e.delete(m),v.dispose())}return{get:function r(f){if(f&&f.isTexture){const m=f.mapping,v=303===m||304===m,w=m===zi||m===Ls;if(v||w){let S=e.get(f);if(f.isRenderTargetTexture&&f.pmremVersion!==(void 0!==S?S.texture.pmremVersion:0))return null===n&&(n=new Pv(c)),S=v?n.fromEquirectangular(f,S):n.fromCubemap(f,S),S.texture.pmremVersion=f.pmremVersion,e.set(f,S),S.texture;if(void 0!==S)return S.texture;{const R=f.image;return v&&R&&R.height>0||w&&R&&function o(f){let m=0;for(let w=0;w<6;w++)void 0!==f[w]&&m++;return 6===m}(R)?(null===n&&(n=new Pv(c)),S=v?n.fromEquirectangular(f):n.fromCubemap(f),S.texture.pmremVersion=f.pmremVersion,e.set(f,S),f.addEventListener("dispose",l),S.texture):null}}}return f},dispose:function d(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lv(c){const e={};function n(r){if(void 0!==e[r])return e[r];let o;switch(r){case"WEBGL_depth_texture":o=c.getExtension("WEBGL_depth_texture")||c.getExtension("MOZ_WEBGL_depth_texture")||c.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=c.getExtension("WEBGL_compressed_texture_s3tc")||c.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=c.getExtension("WEBGL_compressed_texture_pvrtc")||c.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=c.getExtension(r)}return e[r]=o,o}return{has:function(r){return null!==n(r)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const o=n(r);return null===o&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function sm(c,e,n,r){const o={},l=new WeakMap;function d(S){const A=S.target;null!==A.index&&e.remove(A.index);for(const B in A.attributes)e.remove(A.attributes[B]);for(const B in A.morphAttributes){const Y=A.morphAttributes[B];for(let H=0,U=Y.length;H<U;H++)e.remove(Y[H])}A.removeEventListener("dispose",d),delete o[A.id];const R=l.get(A);R&&(e.remove(R),l.delete(A)),r.releaseStatesOfGeometry(A),!0===A.isInstancedBufferGeometry&&delete A._maxInstanceCount,n.memory.geometries--}function v(S){const A=[],R=S.index,B=S.attributes.position;let Y=0;if(null!==R){const ue=R.array;Y=R.version;for(let re=0,de=ue.length;re<de;re+=3){const dt=ue[re+0],Ge=ue[re+1],Ze=ue[re+2];A.push(dt,Ge,Ge,Ze,Ze,dt)}}else{if(void 0===B)return;Y=B.version;for(let re=0,de=B.array.length/3-1;re<de;re+=3){const dt=re+0,Ge=re+1,Ze=re+2;A.push(dt,Ge,Ge,Ze,Ze,dt)}}const H=new(Pl(A)?hc:wa)(A,1);H.version=Y;const U=l.get(S);U&&e.remove(U),l.set(S,H)}return{get:function f(S,A){return!0===o[A.id]||(A.addEventListener("dispose",d),o[A.id]=!0,n.memory.geometries++),A},update:function m(S){const A=S.attributes;for(const B in A)e.update(A[B],c.ARRAY_BUFFER);const R=S.morphAttributes;for(const B in R){const Y=R[B];for(let H=0,U=Y.length;H<U;H++)e.update(Y[H],c.ARRAY_BUFFER)}},getWireframeAttribute:function w(S){const A=l.get(S);if(A){const R=S.index;null!==R&&A.version<R.version&&v(S)}else v(S);return l.get(S)}}}function nE(c,e,n){let r,l,d;function v(A,R,B){0!==B&&(c.drawElementsInstanced(r,R,l,A*d,B),n.update(R,r,B))}this.setMode=function o(A){r=A},this.setIndex=function f(A){l=A.type,d=A.bytesPerElement},this.render=function m(A,R){c.drawElements(r,R,l,A*d),n.update(R,r,1)},this.renderInstances=v,this.renderMultiDraw=function w(A,R,B){if(0===B)return;const Y=e.get("WEBGL_multi_draw");if(null===Y)for(let H=0;H<B;H++)this.render(A[H]/d,R[H]);else{Y.multiDrawElementsWEBGL(r,R,0,l,A,0,B);let H=0;for(let U=0;U<B;U++)H+=R[U];n.update(H,r,1)}},this.renderMultiDrawInstances=function S(A,R,B,Y){if(0===B)return;const H=e.get("WEBGL_multi_draw");if(null===H)for(let U=0;U<A.length;U++)v(A[U]/d,R[U],Y[U]);else{H.multiDrawElementsInstancedWEBGL(r,R,0,l,A,0,Y,0,B);let U=0;for(let ue=0;ue<B;ue++)U+=R[ue];for(let ue=0;ue<Y.length;ue++)n.update(U,r,Y[ue])}}}function iE(c){const n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function o(){n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function r(l,d,f){switch(n.calls++,d){case c.TRIANGLES:n.triangles+=f*(l/3);break;case c.LINES:n.lines+=f*(l/2);break;case c.LINE_STRIP:n.lines+=f*(l-1);break;case c.LINE_LOOP:n.lines+=f*l;break;case c.POINTS:n.points+=f*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d)}}}}function z_(c,e,n){const r=new WeakMap,o=new js;return{update:function l(d,f,m){const v=d.morphTargetInfluences,w=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,S=void 0!==w?w.length:0;let A=r.get(f);if(void 0===A||A.count!==S){let Fe=function(){Ze.dispose(),r.delete(f),f.removeEventListener("dispose",Fe)};void 0!==A&&A.texture.dispose();const R=void 0!==f.morphAttributes.position,B=void 0!==f.morphAttributes.normal,Y=void 0!==f.morphAttributes.color,H=f.morphAttributes.position||[],U=f.morphAttributes.normal||[],ue=f.morphAttributes.color||[];let re=0;!0===R&&(re=1),!0===B&&(re=2),!0===Y&&(re=3);let de=f.attributes.position.count*re,dt=1;de>e.maxTextureSize&&(dt=Math.ceil(de/e.maxTextureSize),de=e.maxTextureSize);const Ge=new Float32Array(de*dt*4*S),Ze=new fc(Ge,de,dt,S);Ze.type=me,Ze.needsUpdate=!0;const _t=4*re;for(let Me=0;Me<S;Me++){const qt=H[Me],Sn=U[Me],kt=ue[Me],An=de*dt*4*Me;for(let zn=0;zn<qt.count;zn++){const Yn=zn*_t;!0===R&&(o.fromBufferAttribute(qt,zn),Ge[An+Yn+0]=o.x,Ge[An+Yn+1]=o.y,Ge[An+Yn+2]=o.z,Ge[An+Yn+3]=0),!0===B&&(o.fromBufferAttribute(Sn,zn),Ge[An+Yn+4]=o.x,Ge[An+Yn+5]=o.y,Ge[An+Yn+6]=o.z,Ge[An+Yn+7]=0),!0===Y&&(o.fromBufferAttribute(kt,zn),Ge[An+Yn+8]=o.x,Ge[An+Yn+9]=o.y,Ge[An+Yn+10]=o.z,Ge[An+Yn+11]=4===kt.itemSize?o.w:1)}}A={count:S,texture:Ze,size:new Gn(de,dt)},r.set(f,A),f.addEventListener("dispose",Fe)}if(!0===d.isInstancedMesh&&null!==d.morphTexture)m.getUniforms().setValue(c,"morphTexture",d.morphTexture,n);else{let R=0;for(let Y=0;Y<v.length;Y++)R+=v[Y];const B=f.morphTargetsRelative?1:1-R;m.getUniforms().setValue(c,"morphTargetBaseInfluence",B),m.getUniforms().setValue(c,"morphTargetInfluences",v)}m.getUniforms().setValue(c,"morphTargetsTexture",A.texture,n),m.getUniforms().setValue(c,"morphTargetsTextureSize",A.size)}}}function H_(c,e,n,r){let o=new WeakMap;function f(m){const v=m.target;v.removeEventListener("dispose",f),n.remove(v.instanceMatrix),null!==v.instanceColor&&n.remove(v.instanceColor)}return{update:function l(m){const v=r.render.frame,S=e.get(m,m.geometry);if(o.get(S)!==v&&(e.update(S),o.set(S,v)),m.isInstancedMesh&&(!1===m.hasEventListener("dispose",f)&&m.addEventListener("dispose",f),o.get(m)!==v&&(n.update(m.instanceMatrix,c.ARRAY_BUFFER),null!==m.instanceColor&&n.update(m.instanceColor,c.ARRAY_BUFFER),o.set(m,v))),m.isSkinnedMesh){const A=m.skeleton;o.get(A)!==v&&(A.update(),o.set(A,v))}return S},dispose:function d(){o=new WeakMap}}}class Fv extends zo{constructor(e,n,r,o,l,d,f,m,v,w){if((w=void 0!==w?w:Wt)!==Wt&&w!==un)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&w===Wt&&(r=he),void 0===r&&w===un&&(r=Pt),super(null,o,l,d,f,m,w,r,v),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=void 0!==f?f:ct,this.minFilter=void 0!==m?m:ct,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return null!==this.compareFunction&&(n.compareFunction=this.compareFunction),n}}const $_=new zo,G_=new Fv(1,1);G_.compareFunction=515;const ef=new fc,kv=new Ol,Ah=new ah,Th=[],Su=[],tf=new Float32Array(16),nf=new Float32Array(9),Mu=new Float32Array(4);function Jl(c,e,n){const r=c[0];if(r<=0||r>0)return c;const o=e*n;let l=Th[o];if(void 0===l&&(l=new Float32Array(o),Th[o]=l),0!==e){r.toArray(l,0);for(let d=1,f=0;d!==e;++d)f+=n,c[d].toArray(l,f)}return l}function Oo(c,e){if(c.length!==e.length)return!1;for(let n=0,r=c.length;n<r;n++)if(c[n]!==e[n])return!1;return!0}function ea(c,e){for(let n=0,r=e.length;n<r;n++)c[n]=e[n]}function Cu(c,e){let n=Su[e];void 0===n&&(n=new Int32Array(e),Su[e]=n);for(let r=0;r!==e;++r)n[r]=c.allocateTextureUnit();return n}function rf(c,e){const n=this.cache;n[0]!==e&&(c.uniform1f(this.addr,e),n[0]=e)}function rE(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oo(n,e))return;c.uniform2fv(this.addr,e),ea(n,e)}}function om(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(c.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Oo(n,e))return;c.uniform3fv(this.addr,e),ea(n,e)}}function sf(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oo(n,e))return;c.uniform4fv(this.addr,e),ea(n,e)}}function j_(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;c.uniformMatrix2fv(this.addr,!1,e),ea(n,e)}else{if(Oo(n,r))return;Mu.set(r),c.uniformMatrix2fv(this.addr,!1,Mu),ea(n,r)}}function Uv(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;c.uniformMatrix3fv(this.addr,!1,e),ea(n,e)}else{if(Oo(n,r))return;nf.set(r),c.uniformMatrix3fv(this.addr,!1,nf),ea(n,r)}}function W_(c,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;c.uniformMatrix4fv(this.addr,!1,e),ea(n,e)}else{if(Oo(n,r))return;tf.set(r),c.uniformMatrix4fv(this.addr,!1,tf),ea(n,r)}}function X_(c,e){const n=this.cache;n[0]!==e&&(c.uniform1i(this.addr,e),n[0]=e)}function am(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oo(n,e))return;c.uniform2iv(this.addr,e),ea(n,e)}}function Bv(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Oo(n,e))return;c.uniform3iv(this.addr,e),ea(n,e)}}function q_(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oo(n,e))return;c.uniform4iv(this.addr,e),ea(n,e)}}function K_(c,e){const n=this.cache;n[0]!==e&&(c.uniform1ui(this.addr,e),n[0]=e)}function af(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(c.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oo(n,e))return;c.uniform2uiv(this.addr,e),ea(n,e)}}function Vv(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(c.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Oo(n,e))return;c.uniform3uiv(this.addr,e),ea(n,e)}}function lm(c,e){const n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(c.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oo(n,e))return;c.uniform4uiv(this.addr,e),ea(n,e)}}function Y_(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture2D(e||(this.type===c.SAMPLER_2D_SHADOW?G_:$_),o)}function sE(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||kv,o)}function oE(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(e||Ah,o)}function lf(c,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(c.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||ef,o)}function Dh(c,e){c.uniform1fv(this.addr,e)}function cm(c,e){const n=Jl(e,this.size,2);c.uniform2fv(this.addr,n)}function Q_(c,e){const n=Jl(e,this.size,3);c.uniform3fv(this.addr,n)}function zv(c,e){const n=Jl(e,this.size,4);c.uniform4fv(this.addr,n)}function um(c,e){const n=Jl(e,this.size,4);c.uniformMatrix2fv(this.addr,!1,n)}function Ih(c,e){const n=Jl(e,this.size,9);c.uniformMatrix3fv(this.addr,!1,n)}function Rh(c,e){const n=Jl(e,this.size,16);c.uniformMatrix4fv(this.addr,!1,n)}function Hv(c,e){c.uniform1iv(this.addr,e)}function $v(c,e){c.uniform2iv(this.addr,e)}function Gv(c,e){c.uniform3iv(this.addr,e)}function Ph(c,e){c.uniform4iv(this.addr,e)}function dm(c,e){c.uniform1uiv(this.addr,e)}function fd(c,e){c.uniform2uiv(this.addr,e)}function J_(c,e){c.uniform3uiv(this.addr,e)}function eb(c,e){c.uniform4uiv(this.addr,e)}function aE(c,e,n){const r=this.cache,o=e.length,l=Cu(n,o);Oo(r,l)||(c.uniform1iv(this.addr,l),ea(r,l));for(let d=0;d!==o;++d)n.setTexture2D(e[d]||$_,l[d])}function Oh(c,e,n){const r=this.cache,o=e.length,l=Cu(n,o);Oo(r,l)||(c.uniform1iv(this.addr,l),ea(r,l));for(let d=0;d!==o;++d)n.setTexture3D(e[d]||kv,l[d])}function fm(c,e,n){const r=this.cache,o=e.length,l=Cu(n,o);Oo(r,l)||(c.uniform1iv(this.addr,l),ea(r,l));for(let d=0;d!==o;++d)n.setTextureCube(e[d]||Ah,l[d])}function jv(c,e,n){const r=this.cache,o=e.length,l=Cu(n,o);Oo(r,l)||(c.uniform1iv(this.addr,l),ea(r,l));for(let d=0;d!==o;++d)n.setTexture2DArray(e[d]||ef,l[d])}class Xv{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function Z_(c){switch(c){case 5126:return rf;case 35664:return rE;case 35665:return om;case 35666:return sf;case 35674:return j_;case 35675:return Uv;case 35676:return W_;case 5124:case 35670:return X_;case 35667:case 35671:return am;case 35668:case 35672:return Bv;case 35669:case 35673:return q_;case 5125:return K_;case 36294:return af;case 36295:return Vv;case 36296:return lm;case 35678:case 36198:case 36298:case 36306:case 35682:return Y_;case 35679:case 36299:case 36307:return sE;case 35680:case 36300:case 36308:case 36293:return oE;case 36289:case 36303:case 36311:case 36292:return lf}}(n.type)}}class qv{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function Wv(c){switch(c){case 5126:return Dh;case 35664:return cm;case 35665:return Q_;case 35666:return zv;case 35674:return um;case 35675:return Ih;case 35676:return Rh;case 5124:case 35670:return Hv;case 35667:case 35671:return $v;case 35668:case 35672:return Gv;case 35669:case 35673:return Ph;case 5125:return dm;case 36294:return fd;case 36295:return J_;case 36296:return eb;case 35678:case 36198:case 36298:case 36306:case 35682:return aE;case 35679:case 36299:case 36307:return Oh;case 35680:case 36300:case 36308:case 36293:return fm;case 36289:case 36303:case 36311:case 36292:return jv}}(n.type)}}class tb{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const o=this.seq;for(let l=0,d=o.length;l!==d;++l){const f=o[l];f.setValue(e,n[f.id],r)}}}const hm=/(\w+)(\])?(\[|\.)?/g;function Kv(c,e){c.seq.push(e),c.map[e.id]=e}function nb(c,e,n){const r=c.name,o=r.length;for(hm.lastIndex=0;;){const l=hm.exec(r);let f=l[1];const v=l[3];if("]"===l[2]&&(f|=0),void 0===v||"["===v&&hm.lastIndex+2===o){Kv(n,void 0===v?new Xv(f,c,e):new qv(f,c,e));break}{let S=n.map[f];void 0===S&&(S=new tb(f),Kv(n,S)),n=S}}}class Nh{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const l=e.getActiveUniform(n,o);nb(l,e.getUniformLocation(n,l.name),this)}}setValue(e,n,r,o){const l=this.map[n];void 0!==l&&l.setValue(e,r,o)}setOptional(e,n,r){const o=n[r];void 0!==o&&this.setValue(e,r,o)}static upload(e,n,r,o){for(let l=0,d=n.length;l!==d;++l){const f=n[l],m=r[f.id];!1!==m.needsUpdate&&f.setValue(e,m.value,o)}}static seqWithValue(e,n){const r=[];for(let o=0,l=e.length;o!==l;++o){const d=e[o];d.id in n&&r.push(d)}return r}}function bc(c,e,n){const r=c.createShader(e);return c.shaderSource(r,n),c.compileShader(r),r}const cf=37297;let ib=0;function rb(c,e,n){const r=c.getShaderParameter(e,c.COMPILE_STATUS),o=c.getShaderInfoLog(e).trim();if(r&&""===o)return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const d=parseInt(l[1]);return n.toUpperCase()+"\n\n"+o+"\n\n"+function lE(c,e){const n=c.split("\n"),r=[],o=Math.max(e-6,0),l=Math.min(e+6,n.length);for(let d=o;d<l;d++){const f=d+1;r.push(`${f===e?">":" "} ${f}: ${n[d]}`)}return r.join("\n")}(c.getShaderSource(e),d)}return o}function uE(c,e){const n=function cE(c){const e=Os.getPrimaries(Os.workingColorSpace),n=Os.getPrimaries(c);let r;switch(e===n?r="":e===Pi&&n===_i?r="LinearDisplayP3ToLinearSRGB":e===_i&&n===Pi&&(r="LinearSRGBToLinearDisplayP3"),c){case At:case Hn:return[r,"LinearTransferOETF"];case xt:case Pn:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",c),[r,"LinearTransferOETF"]}}(e);return`vec4 ${c}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function dE(c,e){let n;switch(e){case Hr:n="Linear";break;case vr:n="Reinhard";break;case Ci:n="OptimizedCineon";break;case Ei:n="ACESFilmic";break;case cs:n="AgX";break;case Lr:n="Neutral";break;case lr:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+c+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function uf(c){return""!==c}function Zv(c,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return c.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Lh(c,e){return c.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Au(c){return c.replace(wc,Jv)}const Qv=new Map;function Jv(c,e){let n=xs[e];if(void 0===n){const r=Qv.get(e);if(void 0===r)throw new Error("Can not resolve #include <"+e+">");n=xs[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r)}return Au(n)}const e0=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ab(c){return c.replace(e0,fE)}function fE(c,e,n,r){let o="";for(let l=parseInt(e);l<parseInt(n);l++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return o}function lb(c){let e=`precision ${c.precision} float;\n\tprecision ${c.precision} int;\n\tprecision ${c.precision} sampler2D;\n\tprecision ${c.precision} samplerCube;\n\tprecision ${c.precision} sampler3D;\n\tprecision ${c.precision} sampler2DArray;\n\tprecision ${c.precision} sampler2DShadow;\n\tprecision ${c.precision} samplerCubeShadow;\n\tprecision ${c.precision} sampler2DArrayShadow;\n\tprecision ${c.precision} isampler2D;\n\tprecision ${c.precision} isampler3D;\n\tprecision ${c.precision} isamplerCube;\n\tprecision ${c.precision} isampler2DArray;\n\tprecision ${c.precision} usampler2D;\n\tprecision ${c.precision} usampler3D;\n\tprecision ${c.precision} usamplerCube;\n\tprecision ${c.precision} usampler2DArray;\n\t`;return"highp"===c.precision?e+="\n#define HIGH_PRECISION":"mediump"===c.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===c.precision&&(e+="\n#define LOW_PRECISION"),e}function cb(c,e,n,r){const o=c.getContext(),l=n.defines;let d=n.vertexShader,f=n.fragmentShader;const m=function pm(c){let e="SHADOWMAP_TYPE_BASIC";return c.shadowMapType===Lt?e="SHADOWMAP_TYPE_PCF":c.shadowMapType===dn?e="SHADOWMAP_TYPE_PCF_SOFT":c.shadowMapType===zt&&(e="SHADOWMAP_TYPE_VSM"),e}(n),v=function mm(c){let e="ENVMAP_TYPE_CUBE";if(c.envMap)switch(c.envMapMode){case zi:case Ls:e="ENVMAP_TYPE_CUBE";break;case Fs:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),w=function hE(c){let e="ENVMAP_MODE_REFLECTION";return c.envMap&&c.envMapMode===Ls&&(e="ENVMAP_MODE_REFRACTION"),e}(n),S=function pE(c){let e="ENVMAP_BLENDING_NONE";if(c.envMap)switch(c.combine){case fn:e="ENVMAP_BLENDING_MULTIPLY";break;case wn:e="ENVMAP_BLENDING_MIX";break;case ai:e="ENVMAP_BLENDING_ADD"}return e}(n),A=function t0(c){const e=c.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),R=function Yv(c){return[c.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",c.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(uf).join("\n")}(n),B=function sb(c){const e=[];for(const n in c){const r=c[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(l),Y=o.createProgram();let H,U,ue=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(H=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B].filter(uf).join("\n"),H.length>0&&(H+="\n"),U=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B].filter(uf).join("\n"),U.length>0&&(U+="\n")):(H=[lb(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+w:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+m:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(uf).join("\n"),U=[lb(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,B,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+v:"",n.envMap?"#define "+w:"",n.envMap?"#define "+S:"",A?"#define CUBEUV_TEXEL_WIDTH "+A.texelWidth:"",A?"#define CUBEUV_TEXEL_HEIGHT "+A.texelHeight:"",A?"#define CUBEUV_MAX_MIP "+A.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+m:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==sr?"#define TONE_MAPPING":"",n.toneMapping!==sr?xs.tonemapping_pars_fragment:"",n.toneMapping!==sr?dE("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",xs.colorspace_pars_fragment,uE("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(uf).join("\n")),d=Au(d),d=Zv(d,n),d=Lh(d,n),f=Au(f),f=Zv(f,n),f=Lh(f,n),d=ab(d),f=ab(f),!0!==n.isRawShaderMaterial&&(ue="#version 300 es\n",H=[R,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+H,U=["#define varying in",n.glslVersion===go?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===go?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+U);const de=ue+U+f,dt=bc(o,o.VERTEX_SHADER,ue+H+d),Ge=bc(o,o.FRAGMENT_SHADER,de);function Ze(qt){if(c.debug.checkShaderErrors){const Sn=o.getProgramInfoLog(Y).trim(),kt=o.getShaderInfoLog(dt).trim(),An=o.getShaderInfoLog(Ge).trim();let zn=!0,Yn=!0;if(!1===o.getProgramParameter(Y,o.LINK_STATUS))if(zn=!1,"function"==typeof c.debug.onShaderError)c.debug.onShaderError(o,Y,dt,Ge);else{const Oi=rb(o,dt,"vertex"),Bn=rb(o,Ge,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(Y,o.VALIDATE_STATUS)+"\n\nMaterial Name: "+qt.name+"\nMaterial Type: "+qt.type+"\n\nProgram Info Log: "+Sn+"\n"+Oi+"\n"+Bn)}else""!==Sn?console.warn("THREE.WebGLProgram: Program Info Log:",Sn):(""===kt||""===An)&&(Yn=!1);Yn&&(qt.diagnostics={runnable:zn,programLog:Sn,vertexShader:{log:kt,prefix:H},fragmentShader:{log:An,prefix:U}})}o.deleteShader(dt),o.deleteShader(Ge),_t=new Nh(o,Y),Fe=function ob(c,e){const n={},r=c.getProgramParameter(e,c.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const l=c.getActiveAttrib(e,o),d=l.name;let f=1;l.type===c.FLOAT_MAT2&&(f=2),l.type===c.FLOAT_MAT3&&(f=3),l.type===c.FLOAT_MAT4&&(f=4),n[d]={type:l.type,location:c.getAttribLocation(e,d),locationSize:f}}return n}(o,Y)}let _t,Fe;o.attachShader(Y,dt),o.attachShader(Y,Ge),void 0!==n.index0AttributeName?o.bindAttribLocation(Y,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(Y,0,"position"),o.linkProgram(Y),this.getUniforms=function(){return void 0===_t&&Ze(this),_t},this.getAttributes=function(){return void 0===Fe&&Ze(this),Fe};let Me=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===Me&&(Me=o.getProgramParameter(Y,cf)),Me},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(Y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=ib++,this.cacheKey=e,this.usedTimes=1,this.program=Y,this.vertexShader=dt,this.fragmentShader=Ge,this}let ub=0;class db{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.fragmentShader,o=this._getShaderStage(e.vertexShader),l=this._getShaderStage(r),d=this._getShaderCacheForMaterial(e);return!1===d.has(o)&&(d.add(o),o.usedTimes++),!1===d.has(l)&&(d.add(l),l.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return void 0===r&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return void 0===r&&(r=new fb(e),n.set(e,r)),r}}class fb{constructor(e){this.id=ub++,this.code=e,this.usedTimes=0}}function hb(c,e,n,r,o,l,d){const f=new Xe,m=new db,v=new Set,w=[],S=o.logarithmicDepthBuffer,A=o.vertexTextures;let R=o.precision;const B={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Y(Fe){return v.add(Fe),0===Fe?"uv":`uv${Fe}`}return{getParameters:function H(Fe,Me,qt,Sn,kt){const An=Sn.fog,zn=kt.geometry,Oi=(Fe.isMeshStandardMaterial?n:e).get(Fe.envMap||(Fe.isMeshStandardMaterial?Sn.environment:null)),Bn=Oi&&Oi.mapping===Fs?Oi.image.height:null,bi=B[Fe.type];null!==Fe.precision&&(R=o.getMaxPrecision(Fe.precision),R!==Fe.precision&&console.warn("THREE.WebGLProgram.getParameters:",Fe.precision,"not supported, using",R,"instead."));const wi=zn.morphAttributes.position||zn.morphAttributes.normal||zn.morphAttributes.color,nr=void 0!==wi?wi.length:0;let ps,jn,Ai,Hi,hs=0;if(void 0!==zn.morphAttributes.position&&(hs=1),void 0!==zn.morphAttributes.normal&&(hs=2),void 0!==zn.morphAttributes.color&&(hs=3),bi){const Hs=Fl[bi];ps=Hs.vertexShader,jn=Hs.fragmentShader}else ps=Fe.vertexShader,jn=Fe.fragmentShader,m.update(Fe),Ai=m.getVertexShaderID(Fe),Hi=m.getFragmentShaderID(Fe);const Di=c.getRenderTarget(),Xr=!0===kt.isInstancedMesh,hn=!!Fe.map,Qn=!!Oi,xi=!!Fe.aoMap,Jn=!!Fe.lightMap,ki=!!Fe.bumpMap,vi=!!Fe.normalMap,rr=!!Fe.displacementMap,Ur=!!Fe.emissiveMap,yt=!!Fe.metalnessMap,He=!!Fe.roughnessMap,Tn=Fe.anisotropy>0,ei=Fe.clearcoat>0,li=Fe.iridescence>0,Pr=Fe.sheen>0,$i=Fe.transmission>0,Vi=Tn&&!!Fe.anisotropyMap,ls=ei&&!!Fe.clearcoatMap,Li=ei&&!!Fe.clearcoatNormalMap,Ir=ei&&!!Fe.clearcoatRoughnessMap,As=li&&!!Fe.iridescenceMap,Gr=li&&!!Fe.iridescenceThicknessMap,Yi=Pr&&!!Fe.sheenColorMap,Ss=Pr&&!!Fe.sheenRoughnessMap,Ns=!!Fe.specularMap,mo=!!Fe.specularColorMap,Ts=!!Fe.specularIntensityMap,Te=$i&&!!Fe.transmissionMap,gn=$i&&!!Fe.thicknessMap,fi=!!Fe.alphaMap,gs=!!Fe.extensions;let To=sr;Fe.toneMapped&&(null===Di||!0===Di.isXRRenderTarget)&&(To=c.toneMapping);const Uo={shaderID:bi,shaderType:Fe.type,shaderName:Fe.name,vertexShader:ps,fragmentShader:jn,defines:Fe.defines,customVertexShaderID:Ai,customFragmentShaderID:Hi,isRawShaderMaterial:!0===Fe.isRawShaderMaterial,glslVersion:Fe.glslVersion,precision:R,batching:!0===kt.isBatchedMesh,instancing:Xr,instancingColor:Xr&&null!==kt.instanceColor,instancingMorph:Xr&&null!==kt.morphTexture,supportsVertexTextures:A,outputColorSpace:null===Di?c.outputColorSpace:!0===Di.isXRRenderTarget?Di.texture.colorSpace:At,alphaToCoverage:!!Fe.alphaToCoverage,map:hn,matcap:!!Fe.matcap,envMap:Qn,envMapMode:Qn&&Oi.mapping,envMapCubeUVHeight:Bn,aoMap:xi,lightMap:Jn,bumpMap:ki,normalMap:vi,displacementMap:A&&rr,emissiveMap:Ur,normalMapObjectSpace:vi&&1===Fe.normalMapType,normalMapTangentSpace:vi&&0===Fe.normalMapType,metalnessMap:yt,roughnessMap:He,anisotropy:Tn,anisotropyMap:Vi,clearcoat:ei,clearcoatMap:ls,clearcoatNormalMap:Li,clearcoatRoughnessMap:Ir,dispersion:Fe.dispersion>0,iridescence:li,iridescenceMap:As,iridescenceThicknessMap:Gr,sheen:Pr,sheenColorMap:Yi,sheenRoughnessMap:Ss,specularMap:Ns,specularColorMap:mo,specularIntensityMap:Ts,transmission:$i,transmissionMap:Te,thicknessMap:gn,gradientMap:!!Fe.gradientMap,opaque:!1===Fe.transparent&&1===Fe.blending&&!1===Fe.alphaToCoverage,alphaMap:fi,alphaTest:Fe.alphaTest>0,alphaHash:!!Fe.alphaHash,combine:Fe.combine,mapUv:hn&&Y(Fe.map.channel),aoMapUv:xi&&Y(Fe.aoMap.channel),lightMapUv:Jn&&Y(Fe.lightMap.channel),bumpMapUv:ki&&Y(Fe.bumpMap.channel),normalMapUv:vi&&Y(Fe.normalMap.channel),displacementMapUv:rr&&Y(Fe.displacementMap.channel),emissiveMapUv:Ur&&Y(Fe.emissiveMap.channel),metalnessMapUv:yt&&Y(Fe.metalnessMap.channel),roughnessMapUv:He&&Y(Fe.roughnessMap.channel),anisotropyMapUv:Vi&&Y(Fe.anisotropyMap.channel),clearcoatMapUv:ls&&Y(Fe.clearcoatMap.channel),clearcoatNormalMapUv:Li&&Y(Fe.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ir&&Y(Fe.clearcoatRoughnessMap.channel),iridescenceMapUv:As&&Y(Fe.iridescenceMap.channel),iridescenceThicknessMapUv:Gr&&Y(Fe.iridescenceThicknessMap.channel),sheenColorMapUv:Yi&&Y(Fe.sheenColorMap.channel),sheenRoughnessMapUv:Ss&&Y(Fe.sheenRoughnessMap.channel),specularMapUv:Ns&&Y(Fe.specularMap.channel),specularColorMapUv:mo&&Y(Fe.specularColorMap.channel),specularIntensityMapUv:Ts&&Y(Fe.specularIntensityMap.channel),transmissionMapUv:Te&&Y(Fe.transmissionMap.channel),thicknessMapUv:gn&&Y(Fe.thicknessMap.channel),alphaMapUv:fi&&Y(Fe.alphaMap.channel),vertexTangents:!!zn.attributes.tangent&&(vi||Tn),vertexColors:Fe.vertexColors,vertexAlphas:!0===Fe.vertexColors&&!!zn.attributes.color&&4===zn.attributes.color.itemSize,pointsUvs:!0===kt.isPoints&&!!zn.attributes.uv&&(hn||fi),fog:!!An,useFog:!0===Fe.fog,fogExp2:!!An&&An.isFogExp2,flatShading:!0===Fe.flatShading,sizeAttenuation:!0===Fe.sizeAttenuation,logarithmicDepthBuffer:S,skinning:!0===kt.isSkinnedMesh,morphTargets:void 0!==zn.morphAttributes.position,morphNormals:void 0!==zn.morphAttributes.normal,morphColors:void 0!==zn.morphAttributes.color,morphTargetsCount:nr,morphTextureStride:hs,numDirLights:Me.directional.length,numPointLights:Me.point.length,numSpotLights:Me.spot.length,numSpotLightMaps:Me.spotLightMap.length,numRectAreaLights:Me.rectArea.length,numHemiLights:Me.hemi.length,numDirLightShadows:Me.directionalShadowMap.length,numPointLightShadows:Me.pointShadowMap.length,numSpotLightShadows:Me.spotShadowMap.length,numSpotLightShadowsWithMaps:Me.numSpotLightShadowsWithMaps,numLightProbes:Me.numLightProbes,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:Fe.dithering,shadowMapEnabled:c.shadowMap.enabled&&qt.length>0,shadowMapType:c.shadowMap.type,toneMapping:To,useLegacyLights:c._useLegacyLights,decodeVideoTexture:hn&&!0===Fe.map.isVideoTexture&&Os.getTransfer(Fe.map.colorSpace)===In,premultipliedAlpha:Fe.premultipliedAlpha,doubleSided:2===Fe.side,flipSided:1===Fe.side,useDepthPacking:Fe.depthPacking>=0,depthPacking:Fe.depthPacking||0,index0AttributeName:Fe.index0AttributeName,extensionClipCullDistance:gs&&!0===Fe.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:gs&&!0===Fe.extensions.multiDraw&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:Fe.customProgramCacheKey()};return Uo.vertexUv1s=v.has(1),Uo.vertexUv2s=v.has(2),Uo.vertexUv3s=v.has(3),v.clear(),Uo},getProgramCacheKey:function U(Fe){const Me=[];if(Fe.shaderID?Me.push(Fe.shaderID):(Me.push(Fe.customVertexShaderID),Me.push(Fe.customFragmentShaderID)),void 0!==Fe.defines)for(const qt in Fe.defines)Me.push(qt),Me.push(Fe.defines[qt]);return!1===Fe.isRawShaderMaterial&&(function ue(Fe,Me){Fe.push(Me.precision),Fe.push(Me.outputColorSpace),Fe.push(Me.envMapMode),Fe.push(Me.envMapCubeUVHeight),Fe.push(Me.mapUv),Fe.push(Me.alphaMapUv),Fe.push(Me.lightMapUv),Fe.push(Me.aoMapUv),Fe.push(Me.bumpMapUv),Fe.push(Me.normalMapUv),Fe.push(Me.displacementMapUv),Fe.push(Me.emissiveMapUv),Fe.push(Me.metalnessMapUv),Fe.push(Me.roughnessMapUv),Fe.push(Me.anisotropyMapUv),Fe.push(Me.clearcoatMapUv),Fe.push(Me.clearcoatNormalMapUv),Fe.push(Me.clearcoatRoughnessMapUv),Fe.push(Me.iridescenceMapUv),Fe.push(Me.iridescenceThicknessMapUv),Fe.push(Me.sheenColorMapUv),Fe.push(Me.sheenRoughnessMapUv),Fe.push(Me.specularMapUv),Fe.push(Me.specularColorMapUv),Fe.push(Me.specularIntensityMapUv),Fe.push(Me.transmissionMapUv),Fe.push(Me.thicknessMapUv),Fe.push(Me.combine),Fe.push(Me.fogExp2),Fe.push(Me.sizeAttenuation),Fe.push(Me.morphTargetsCount),Fe.push(Me.morphAttributeCount),Fe.push(Me.numDirLights),Fe.push(Me.numPointLights),Fe.push(Me.numSpotLights),Fe.push(Me.numSpotLightMaps),Fe.push(Me.numHemiLights),Fe.push(Me.numRectAreaLights),Fe.push(Me.numDirLightShadows),Fe.push(Me.numPointLightShadows),Fe.push(Me.numSpotLightShadows),Fe.push(Me.numSpotLightShadowsWithMaps),Fe.push(Me.numLightProbes),Fe.push(Me.shadowMapType),Fe.push(Me.toneMapping),Fe.push(Me.numClippingPlanes),Fe.push(Me.numClipIntersection),Fe.push(Me.depthPacking)}(Me,Fe),function re(Fe,Me){f.disableAll(),Me.supportsVertexTextures&&f.enable(0),Me.instancing&&f.enable(1),Me.instancingColor&&f.enable(2),Me.instancingMorph&&f.enable(3),Me.matcap&&f.enable(4),Me.envMap&&f.enable(5),Me.normalMapObjectSpace&&f.enable(6),Me.normalMapTangentSpace&&f.enable(7),Me.clearcoat&&f.enable(8),Me.iridescence&&f.enable(9),Me.alphaTest&&f.enable(10),Me.vertexColors&&f.enable(11),Me.vertexAlphas&&f.enable(12),Me.vertexUv1s&&f.enable(13),Me.vertexUv2s&&f.enable(14),Me.vertexUv3s&&f.enable(15),Me.vertexTangents&&f.enable(16),Me.anisotropy&&f.enable(17),Me.alphaHash&&f.enable(18),Me.batching&&f.enable(19),Me.dispersion&&f.enable(20),Fe.push(f.mask),f.disableAll(),Me.fog&&f.enable(0),Me.useFog&&f.enable(1),Me.flatShading&&f.enable(2),Me.logarithmicDepthBuffer&&f.enable(3),Me.skinning&&f.enable(4),Me.morphTargets&&f.enable(5),Me.morphNormals&&f.enable(6),Me.morphColors&&f.enable(7),Me.premultipliedAlpha&&f.enable(8),Me.shadowMapEnabled&&f.enable(9),Me.useLegacyLights&&f.enable(10),Me.doubleSided&&f.enable(11),Me.flipSided&&f.enable(12),Me.useDepthPacking&&f.enable(13),Me.dithering&&f.enable(14),Me.transmission&&f.enable(15),Me.sheen&&f.enable(16),Me.opaque&&f.enable(17),Me.pointsUvs&&f.enable(18),Me.decodeVideoTexture&&f.enable(19),Me.alphaToCoverage&&f.enable(20),Fe.push(f.mask)}(Me,Fe),Me.push(c.outputColorSpace)),Me.push(Fe.customProgramCacheKey),Me.join()},getUniforms:function de(Fe){const Me=B[Fe.type];let qt;return qt=Me?Zy.clone(Fl[Me].uniforms):Fe.uniforms,qt},acquireProgram:function dt(Fe,Me){let qt;for(let Sn=0,kt=w.length;Sn<kt;Sn++){const An=w[Sn];if(An.cacheKey===Me){qt=An,++qt.usedTimes;break}}return void 0===qt&&(qt=new cb(c,Me,Fe,l),w.push(qt)),qt},releaseProgram:function Ge(Fe){if(0==--Fe.usedTimes){const Me=w.indexOf(Fe);w[Me]=w[w.length-1],w.pop(),Fe.destroy()}},releaseShaderCache:function Ze(Fe){m.remove(Fe)},programs:w,dispose:function _t(){m.dispose()}}}function n0(){let c=new WeakMap;return{get:function e(l){let d=c.get(l);return void 0===d&&(d={},c.set(l,d)),d},remove:function n(l){c.delete(l)},update:function r(l,d,f){c.get(l)[d]=f},dispose:function o(){c=new WeakMap}}}function r0(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.material.id!==e.material.id?c.material.id-e.material.id:c.z!==e.z?c.z-e.z:c.id-e.id}function s0(c,e){return c.groupOrder!==e.groupOrder?c.groupOrder-e.groupOrder:c.renderOrder!==e.renderOrder?c.renderOrder-e.renderOrder:c.z!==e.z?e.z-c.z:c.id-e.id}function o0(){const c=[];let e=0;const n=[],r=[],o=[];function d(S,A,R,B,Y,H){let U=c[e];return void 0===U?(U={id:S.id,object:S,geometry:A,material:R,groupOrder:B,renderOrder:S.renderOrder,z:Y,group:H},c[e]=U):(U.id=S.id,U.object=S,U.geometry=A,U.material=R,U.groupOrder=B,U.renderOrder=S.renderOrder,U.z=Y,U.group=H),e++,U}return{opaque:n,transmissive:r,transparent:o,init:function l(){e=0,n.length=0,r.length=0,o.length=0},push:function f(S,A,R,B,Y,H){const U=d(S,A,R,B,Y,H);R.transmission>0?r.push(U):!0===R.transparent?o.push(U):n.push(U)},unshift:function m(S,A,R,B,Y,H){const U=d(S,A,R,B,Y,H);R.transmission>0?r.unshift(U):!0===R.transparent?o.unshift(U):n.unshift(U)},finish:function w(){for(let S=e,A=c.length;S<A;S++){const R=c[S];if(null===R.id)break;R.id=null,R.object=null,R.geometry=null,R.material=null,R.group=null}},sort:function v(S,A){n.length>1&&n.sort(S||r0),r.length>1&&r.sort(A||s0),o.length>1&&o.sort(A||s0)}}}function a0(){let c=new WeakMap;return{get:function e(r,o){const l=c.get(r);let d;return void 0===l?(d=new o0,c.set(r,[d])):o>=l.length?(d=new o0,l.push(d)):d=l[o],d},dispose:function n(){c=new WeakMap}}}function Fh(){const c={};return{get:function(e){if(void 0!==c[e.id])return c[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new it,color:new yi};break;case"SpotLight":n={position:new it,direction:new it,color:new yi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new it,color:new yi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new it,skyColor:new yi,groundColor:new yi};break;case"RectAreaLight":n={color:new yi,position:new it,halfWidth:new it,halfHeight:new it}}return c[e.id]=n,n}}}let gm=0;function mb(c,e){return(e.castShadow?2:0)-(c.castShadow?2:0)+(e.map?1:0)-(c.map?1:0)}function hd(c){const e=new Fh,n=function pb(){const c={};return{get:function(e){if(void 0!==c[e.id])return c[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gn,shadowCameraNear:1,shadowCameraFar:1e3}}return c[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let v=0;v<9;v++)r.probe.push(new it);const o=new it,l=new dr,d=new dr;return{setup:function f(v,w){let S=0,A=0,R=0;for(let qt=0;qt<9;qt++)r.probe[qt].set(0,0,0);let B=0,Y=0,H=0,U=0,ue=0,re=0,de=0,dt=0,Ge=0,Ze=0,_t=0;v.sort(mb);const Fe=!0===w?Math.PI:1;for(let qt=0,Sn=v.length;qt<Sn;qt++){const kt=v[qt],An=kt.color,zn=kt.intensity,Yn=kt.distance,Oi=kt.shadow&&kt.shadow.map?kt.shadow.map.texture:null;if(kt.isAmbientLight)S+=An.r*zn*Fe,A+=An.g*zn*Fe,R+=An.b*zn*Fe;else if(kt.isLightProbe){for(let Bn=0;Bn<9;Bn++)r.probe[Bn].addScaledVector(kt.sh.coefficients[Bn],zn);_t++}else if(kt.isDirectionalLight){const Bn=e.get(kt);if(Bn.color.copy(kt.color).multiplyScalar(kt.intensity*Fe),kt.castShadow){const bi=kt.shadow,wi=n.get(kt);wi.shadowBias=bi.bias,wi.shadowNormalBias=bi.normalBias,wi.shadowRadius=bi.radius,wi.shadowMapSize=bi.mapSize,r.directionalShadow[B]=wi,r.directionalShadowMap[B]=Oi,r.directionalShadowMatrix[B]=kt.shadow.matrix,re++}r.directional[B]=Bn,B++}else if(kt.isSpotLight){const Bn=e.get(kt);Bn.position.setFromMatrixPosition(kt.matrixWorld),Bn.color.copy(An).multiplyScalar(zn*Fe),Bn.distance=Yn,Bn.coneCos=Math.cos(kt.angle),Bn.penumbraCos=Math.cos(kt.angle*(1-kt.penumbra)),Bn.decay=kt.decay,r.spot[H]=Bn;const bi=kt.shadow;if(kt.map&&(r.spotLightMap[Ge]=kt.map,Ge++,bi.updateMatrices(kt),kt.castShadow&&Ze++),r.spotLightMatrix[H]=bi.matrix,kt.castShadow){const wi=n.get(kt);wi.shadowBias=bi.bias,wi.shadowNormalBias=bi.normalBias,wi.shadowRadius=bi.radius,wi.shadowMapSize=bi.mapSize,r.spotShadow[H]=wi,r.spotShadowMap[H]=Oi,dt++}H++}else if(kt.isRectAreaLight){const Bn=e.get(kt);Bn.color.copy(An).multiplyScalar(zn),Bn.halfWidth.set(.5*kt.width,0,0),Bn.halfHeight.set(0,.5*kt.height,0),r.rectArea[U]=Bn,U++}else if(kt.isPointLight){const Bn=e.get(kt);if(Bn.color.copy(kt.color).multiplyScalar(kt.intensity*Fe),Bn.distance=kt.distance,Bn.decay=kt.decay,kt.castShadow){const bi=kt.shadow,wi=n.get(kt);wi.shadowBias=bi.bias,wi.shadowNormalBias=bi.normalBias,wi.shadowRadius=bi.radius,wi.shadowMapSize=bi.mapSize,wi.shadowCameraNear=bi.camera.near,wi.shadowCameraFar=bi.camera.far,r.pointShadow[Y]=wi,r.pointShadowMap[Y]=Oi,r.pointShadowMatrix[Y]=kt.shadow.matrix,de++}r.point[Y]=Bn,Y++}else if(kt.isHemisphereLight){const Bn=e.get(kt);Bn.skyColor.copy(kt.color).multiplyScalar(zn*Fe),Bn.groundColor.copy(kt.groundColor).multiplyScalar(zn*Fe),r.hemi[ue]=Bn,ue++}}U>0&&(!0===c.has("OES_texture_float_linear")?(r.rectAreaLTC1=Wi.LTC_FLOAT_1,r.rectAreaLTC2=Wi.LTC_FLOAT_2):(r.rectAreaLTC1=Wi.LTC_HALF_1,r.rectAreaLTC2=Wi.LTC_HALF_2)),r.ambient[0]=S,r.ambient[1]=A,r.ambient[2]=R;const Me=r.hash;(Me.directionalLength!==B||Me.pointLength!==Y||Me.spotLength!==H||Me.rectAreaLength!==U||Me.hemiLength!==ue||Me.numDirectionalShadows!==re||Me.numPointShadows!==de||Me.numSpotShadows!==dt||Me.numSpotMaps!==Ge||Me.numLightProbes!==_t)&&(r.directional.length=B,r.spot.length=H,r.rectArea.length=U,r.point.length=Y,r.hemi.length=ue,r.directionalShadow.length=re,r.directionalShadowMap.length=re,r.pointShadow.length=de,r.pointShadowMap.length=de,r.spotShadow.length=dt,r.spotShadowMap.length=dt,r.directionalShadowMatrix.length=re,r.pointShadowMatrix.length=de,r.spotLightMatrix.length=dt+Ge-Ze,r.spotLightMap.length=Ge,r.numSpotLightShadowsWithMaps=Ze,r.numLightProbes=_t,Me.directionalLength=B,Me.pointLength=Y,Me.spotLength=H,Me.rectAreaLength=U,Me.hemiLength=ue,Me.numDirectionalShadows=re,Me.numPointShadows=de,Me.numSpotShadows=dt,Me.numSpotMaps=Ge,Me.numLightProbes=_t,r.version=gm++)},setupView:function m(v,w){let S=0,A=0,R=0,B=0,Y=0;const H=w.matrixWorldInverse;for(let U=0,ue=v.length;U<ue;U++){const re=v[U];if(re.isDirectionalLight){const de=r.directional[S];de.direction.setFromMatrixPosition(re.matrixWorld),o.setFromMatrixPosition(re.target.matrixWorld),de.direction.sub(o),de.direction.transformDirection(H),S++}else if(re.isSpotLight){const de=r.spot[R];de.position.setFromMatrixPosition(re.matrixWorld),de.position.applyMatrix4(H),de.direction.setFromMatrixPosition(re.matrixWorld),o.setFromMatrixPosition(re.target.matrixWorld),de.direction.sub(o),de.direction.transformDirection(H),R++}else if(re.isRectAreaLight){const de=r.rectArea[B];de.position.setFromMatrixPosition(re.matrixWorld),de.position.applyMatrix4(H),d.identity(),l.copy(re.matrixWorld),l.premultiply(H),d.extractRotation(l),de.halfWidth.set(.5*re.width,0,0),de.halfHeight.set(0,.5*re.height,0),de.halfWidth.applyMatrix4(d),de.halfHeight.applyMatrix4(d),B++}else if(re.isPointLight){const de=r.point[A];de.position.setFromMatrixPosition(re.matrixWorld),de.position.applyMatrix4(H),A++}else if(re.isHemisphereLight){const de=r.hemi[Y];de.direction.setFromMatrixPosition(re.matrixWorld),de.direction.transformDirection(H),Y++}}},state:r}}function l0(c){const e=new hd(c),n=[],r=[],v={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function o(w){v.camera=w,n.length=0,r.length=0},state:v,setupLights:function f(w){e.setup(n,w)},setupLightsView:function m(w){e.setupView(n,w)},pushLight:function l(w){n.push(w)},pushShadow:function d(w){r.push(w)}}}function gb(c){let e=new WeakMap;return{get:function n(o,l=0){const d=e.get(o);let f;return void 0===d?(f=new l0(c),e.set(o,[f])):l>=d.length?(f=new l0(c),d.push(f)):f=d[l],f},dispose:function r(){e=new WeakMap}}}class vm extends ${constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ym extends ${constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function _b(c,e,n){let r=new ch;const o=new Gn,l=new Gn,d=new js,f=new vm({depthPacking:3201}),m=new ym,v={},w=n.maxTextureSize,S={0:1,1:0,2:2},A=new ns({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),R=A.clone();R.defines.HORIZONTAL_PASS=1;const B=new os;B.setAttribute("position",new Fi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Y=new oa(B,A),H=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Lt;let U=this.type;function ue(Ge,Ze){const _t=e.update(Y);A.defines.VSM_SAMPLES!==Ge.blurSamples&&(A.defines.VSM_SAMPLES=Ge.blurSamples,R.defines.VSM_SAMPLES=Ge.blurSamples,A.needsUpdate=!0,R.needsUpdate=!0),null===Ge.mapPass&&(Ge.mapPass=new Co(o.x,o.y)),A.uniforms.shadow_pass.value=Ge.map.texture,A.uniforms.resolution.value=Ge.mapSize,A.uniforms.radius.value=Ge.radius,c.setRenderTarget(Ge.mapPass),c.clear(),c.renderBufferDirect(Ze,null,_t,A,Y,null),R.uniforms.shadow_pass.value=Ge.mapPass.texture,R.uniforms.resolution.value=Ge.mapSize,R.uniforms.radius.value=Ge.radius,c.setRenderTarget(Ge.map),c.clear(),c.renderBufferDirect(Ze,null,_t,R,Y,null)}function re(Ge,Ze,_t,Fe){let Me=null;const qt=!0===_t.isPointLight?Ge.customDistanceMaterial:Ge.customDepthMaterial;if(void 0!==qt)Me=qt;else if(Me=!0===_t.isPointLight?m:f,c.localClippingEnabled&&!0===Ze.clipShadows&&Array.isArray(Ze.clippingPlanes)&&0!==Ze.clippingPlanes.length||Ze.displacementMap&&0!==Ze.displacementScale||Ze.alphaMap&&Ze.alphaTest>0||Ze.map&&Ze.alphaTest>0){const Sn=Me.uuid,kt=Ze.uuid;let An=v[Sn];void 0===An&&(An={},v[Sn]=An);let zn=An[kt];void 0===zn&&(zn=Me.clone(),An[kt]=zn,Ze.addEventListener("dispose",dt)),Me=zn}return Me.visible=Ze.visible,Me.wireframe=Ze.wireframe,Me.side=Fe===zt?null!==Ze.shadowSide?Ze.shadowSide:Ze.side:null!==Ze.shadowSide?Ze.shadowSide:S[Ze.side],Me.alphaMap=Ze.alphaMap,Me.alphaTest=Ze.alphaTest,Me.map=Ze.map,Me.clipShadows=Ze.clipShadows,Me.clippingPlanes=Ze.clippingPlanes,Me.clipIntersection=Ze.clipIntersection,Me.displacementMap=Ze.displacementMap,Me.displacementScale=Ze.displacementScale,Me.displacementBias=Ze.displacementBias,Me.wireframeLinewidth=Ze.wireframeLinewidth,Me.linewidth=Ze.linewidth,!0===_t.isPointLight&&!0===Me.isMeshDistanceMaterial&&(c.properties.get(Me).light=_t),Me}function de(Ge,Ze,_t,Fe,Me){if(!1===Ge.visible)return;if(Ge.layers.test(Ze.layers)&&(Ge.isMesh||Ge.isLine||Ge.isPoints)&&(Ge.castShadow||Ge.receiveShadow&&Me===zt)&&(!Ge.frustumCulled||r.intersectsObject(Ge))){Ge.modelViewMatrix.multiplyMatrices(_t.matrixWorldInverse,Ge.matrixWorld);const kt=e.update(Ge),An=Ge.material;if(Array.isArray(An)){const zn=kt.groups;for(let Yn=0,Oi=zn.length;Yn<Oi;Yn++){const Bn=zn[Yn],bi=An[Bn.materialIndex];if(bi&&bi.visible){const wi=re(Ge,bi,Fe,Me);Ge.onBeforeShadow(c,Ge,Ze,_t,kt,wi,Bn),c.renderBufferDirect(_t,null,kt,wi,Ge,Bn),Ge.onAfterShadow(c,Ge,Ze,_t,kt,wi,Bn)}}}else if(An.visible){const zn=re(Ge,An,Fe,Me);Ge.onBeforeShadow(c,Ge,Ze,_t,kt,zn,null),c.renderBufferDirect(_t,null,kt,zn,Ge,null),Ge.onAfterShadow(c,Ge,Ze,_t,kt,zn,null)}}const Sn=Ge.children;for(let kt=0,An=Sn.length;kt<An;kt++)de(Sn[kt],Ze,_t,Fe,Me)}function dt(Ge){Ge.target.removeEventListener("dispose",dt);for(const _t in v){const Fe=v[_t],Me=Ge.target.uuid;Me in Fe&&(Fe[Me].dispose(),delete Fe[Me])}}this.render=function(Ge,Ze,_t){if(!1===H.enabled||!1===H.autoUpdate&&!1===H.needsUpdate||0===Ge.length)return;const Fe=c.getRenderTarget(),Me=c.getActiveCubeFace(),qt=c.getActiveMipmapLevel(),Sn=c.state;Sn.setBlending(0),Sn.buffers.color.setClear(1,1,1,1),Sn.buffers.depth.setTest(!0),Sn.setScissorTest(!1);const kt=U!==zt&&this.type===zt,An=U===zt&&this.type!==zt;for(let zn=0,Yn=Ge.length;zn<Yn;zn++){const Oi=Ge[zn],Bn=Oi.shadow;if(void 0===Bn){console.warn("THREE.WebGLShadowMap:",Oi,"has no shadow.");continue}if(!1===Bn.autoUpdate&&!1===Bn.needsUpdate)continue;o.copy(Bn.mapSize);const bi=Bn.getFrameExtents();if(o.multiply(bi),l.copy(Bn.mapSize),(o.x>w||o.y>w)&&(o.x>w&&(l.x=Math.floor(w/bi.x),o.x=l.x*bi.x,Bn.mapSize.x=l.x),o.y>w&&(l.y=Math.floor(w/bi.y),o.y=l.y*bi.y,Bn.mapSize.y=l.y)),null===Bn.map||!0===kt||!0===An){const nr=this.type!==zt?{minFilter:ct,magFilter:ct}:{};null!==Bn.map&&Bn.map.dispose(),Bn.map=new Co(o.x,o.y,nr),Bn.map.texture.name=Oi.name+".shadowMap",Bn.camera.updateProjectionMatrix()}c.setRenderTarget(Bn.map),c.clear();const wi=Bn.getViewportCount();for(let nr=0;nr<wi;nr++){const hs=Bn.getViewport(nr);d.set(l.x*hs.x,l.y*hs.y,l.x*hs.z,l.y*hs.w),Sn.viewport(d),Bn.updateMatrices(Oi,nr),r=Bn.getFrustum(),de(Ze,_t,Bn.camera,Oi,this.type)}!0!==Bn.isPointLightShadow&&this.type===zt&&ue(Bn,_t),Bn.needsUpdate=!1}U=this.type,H.needsUpdate=!1,c.setRenderTarget(Fe,Me,qt)}}function bb(c){const o=new function e(){let Te=!1;const gn=new js;let Mn=null;const fi=new js(0,0,0,0);return{setMask:function(Ri){Mn!==Ri&&!Te&&(c.colorMask(Ri,Ri,Ri,Ri),Mn=Ri)},setLocked:function(Ri){Te=Ri},setClear:function(Ri,bs,gs,To,Uo){!0===Uo&&(Ri*=To,bs*=To,gs*=To),gn.set(Ri,bs,gs,To),!1===fi.equals(gn)&&(c.clearColor(Ri,bs,gs,To),fi.copy(gn))},reset:function(){Te=!1,Mn=null,fi.set(-1,0,0,0)}}},l=new function n(){let Te=!1,gn=null,Mn=null,fi=null;return{setTest:function(Ri){Ri?Hi(c.DEPTH_TEST):Di(c.DEPTH_TEST)},setMask:function(Ri){gn!==Ri&&!Te&&(c.depthMask(Ri),gn=Ri)},setFunc:function(Ri){if(Mn!==Ri){switch(Ri){case 0:c.depthFunc(c.NEVER);break;case 1:c.depthFunc(c.ALWAYS);break;case 2:c.depthFunc(c.LESS);break;case 3:default:c.depthFunc(c.LEQUAL);break;case 4:c.depthFunc(c.EQUAL);break;case 5:c.depthFunc(c.GEQUAL);break;case 6:c.depthFunc(c.GREATER);break;case 7:c.depthFunc(c.NOTEQUAL)}Mn=Ri}},setLocked:function(Ri){Te=Ri},setClear:function(Ri){fi!==Ri&&(c.clearDepth(Ri),fi=Ri)},reset:function(){Te=!1,gn=null,Mn=null,fi=null}}},d=new function r(){let Te=!1,gn=null,Mn=null,fi=null,Ri=null,bs=null,gs=null,To=null,Uo=null;return{setTest:function(Hs){Te||(Hs?Hi(c.STENCIL_TEST):Di(c.STENCIL_TEST))},setMask:function(Hs){gn!==Hs&&!Te&&(c.stencilMask(Hs),gn=Hs)},setFunc:function(Hs,Do,fo){(Mn!==Hs||fi!==Do||Ri!==fo)&&(c.stencilFunc(Hs,Do,fo),Mn=Hs,fi=Do,Ri=fo)},setOp:function(Hs,Do,fo){(bs!==Hs||gs!==Do||To!==fo)&&(c.stencilOp(Hs,Do,fo),bs=Hs,gs=Do,To=fo)},setLocked:function(Hs){Te=Hs},setClear:function(Hs){Uo!==Hs&&(c.clearStencil(Hs),Uo=Hs)},reset:function(){Te=!1,gn=null,Mn=null,fi=null,Ri=null,bs=null,gs=null,To=null,Uo=null}}},f=new WeakMap,m=new WeakMap;let v={},w={},S=new WeakMap,A=[],R=null,B=!1,Y=null,H=null,U=null,ue=null,re=null,de=null,dt=null,Ge=new yi(0,0,0),Ze=0,_t=!1,Fe=null,Me=null,qt=null,Sn=null,kt=null;const An=c.getParameter(c.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let zn=!1,Yn=0;const Oi=c.getParameter(c.VERSION);-1!==Oi.indexOf("WebGL")?(Yn=parseFloat(/^WebGL (\d)/.exec(Oi)[1]),zn=Yn>=1):-1!==Oi.indexOf("OpenGL ES")&&(Yn=parseFloat(/^OpenGL ES (\d)/.exec(Oi)[1]),zn=Yn>=2);let Bn=null,bi={};const wi=c.getParameter(c.SCISSOR_BOX),nr=c.getParameter(c.VIEWPORT),hs=(new js).fromArray(wi),ps=(new js).fromArray(nr);function jn(Te,gn,Mn,fi){const Ri=new Uint8Array(4),bs=c.createTexture();c.bindTexture(Te,bs),c.texParameteri(Te,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(Te,c.TEXTURE_MAG_FILTER,c.NEAREST);for(let gs=0;gs<Mn;gs++)Te===c.TEXTURE_3D||Te===c.TEXTURE_2D_ARRAY?c.texImage3D(gn,0,c.RGBA,1,1,fi,0,c.RGBA,c.UNSIGNED_BYTE,Ri):c.texImage2D(gn+gs,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,Ri);return bs}const Ai={};function Hi(Te){!0!==v[Te]&&(c.enable(Te),v[Te]=!0)}function Di(Te){!1!==v[Te]&&(c.disable(Te),v[Te]=!1)}Ai[c.TEXTURE_2D]=jn(c.TEXTURE_2D,c.TEXTURE_2D,1),Ai[c.TEXTURE_CUBE_MAP]=jn(c.TEXTURE_CUBE_MAP,c.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ai[c.TEXTURE_2D_ARRAY]=jn(c.TEXTURE_2D_ARRAY,c.TEXTURE_2D_ARRAY,1,1),Ai[c.TEXTURE_3D]=jn(c.TEXTURE_3D,c.TEXTURE_3D,1,1),o.setClear(0,0,0,1),l.setClear(1),d.setClear(0),Hi(c.DEPTH_TEST),l.setFunc(3),ki(!1),vi(1),Hi(c.CULL_FACE),xi(0);const Es={100:c.FUNC_ADD,101:c.FUNC_SUBTRACT,102:c.FUNC_REVERSE_SUBTRACT};Es[103]=c.MIN,Es[104]=c.MAX;const Qn={200:c.ZERO,201:c.ONE,202:c.SRC_COLOR,204:c.SRC_ALPHA,210:c.SRC_ALPHA_SATURATE,208:c.DST_COLOR,206:c.DST_ALPHA,203:c.ONE_MINUS_SRC_COLOR,205:c.ONE_MINUS_SRC_ALPHA,209:c.ONE_MINUS_DST_COLOR,207:c.ONE_MINUS_DST_ALPHA,211:c.CONSTANT_COLOR,212:c.ONE_MINUS_CONSTANT_COLOR,213:c.CONSTANT_ALPHA,214:c.ONE_MINUS_CONSTANT_ALPHA};function xi(Te,gn,Mn,fi,Ri,bs,gs,To,Uo,Hs){if(0!==Te){if(!1===B&&(Hi(c.BLEND),B=!0),5===Te)Ri=Ri||gn,bs=bs||Mn,gs=gs||fi,(gn!==H||Ri!==re)&&(c.blendEquationSeparate(Es[gn],Es[Ri]),H=gn,re=Ri),(Mn!==U||fi!==ue||bs!==de||gs!==dt)&&(c.blendFuncSeparate(Qn[Mn],Qn[fi],Qn[bs],Qn[gs]),U=Mn,ue=fi,de=bs,dt=gs),(!1===To.equals(Ge)||Uo!==Ze)&&(c.blendColor(To.r,To.g,To.b,Uo),Ge.copy(To),Ze=Uo),Y=Te,_t=!1;else if(Te!==Y||Hs!==_t){if((100!==H||100!==re)&&(c.blendEquation(c.FUNC_ADD),H=100,re=100),Hs)switch(Te){case 1:c.blendFuncSeparate(c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.ONE,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFuncSeparate(c.ZERO,c.SRC_COLOR,c.ZERO,c.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te)}else switch(Te){case 1:c.blendFuncSeparate(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case 2:c.blendFunc(c.SRC_ALPHA,c.ONE);break;case 3:c.blendFuncSeparate(c.ZERO,c.ONE_MINUS_SRC_COLOR,c.ZERO,c.ONE);break;case 4:c.blendFunc(c.ZERO,c.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te)}U=null,ue=null,de=null,dt=null,Ge.set(0,0,0),Ze=0,Y=Te,_t=Hs}}else!0===B&&(Di(c.BLEND),B=!1)}function ki(Te){Fe!==Te&&(c.frontFace(Te?c.CW:c.CCW),Fe=Te)}function vi(Te){0!==Te?(Hi(c.CULL_FACE),Te!==Me&&c.cullFace(1===Te?c.BACK:2===Te?c.FRONT:c.FRONT_AND_BACK)):Di(c.CULL_FACE),Me=Te}function Ur(Te,gn,Mn){Te?(Hi(c.POLYGON_OFFSET_FILL),(Sn!==gn||kt!==Mn)&&(c.polygonOffset(gn,Mn),Sn=gn,kt=Mn)):Di(c.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:l,stencil:d},enable:Hi,disable:Di,bindFramebuffer:function Xr(Te,gn){return w[Te]!==gn&&(c.bindFramebuffer(Te,gn),w[Te]=gn,Te===c.DRAW_FRAMEBUFFER&&(w[c.FRAMEBUFFER]=gn),Te===c.FRAMEBUFFER&&(w[c.DRAW_FRAMEBUFFER]=gn),!0)},drawBuffers:function as(Te,gn){let Mn=A,fi=!1;if(Te){Mn=S.get(gn),void 0===Mn&&(Mn=[],S.set(gn,Mn));const Ri=Te.textures;if(Mn.length!==Ri.length||Mn[0]!==c.COLOR_ATTACHMENT0){for(let bs=0,gs=Ri.length;bs<gs;bs++)Mn[bs]=c.COLOR_ATTACHMENT0+bs;Mn.length=Ri.length,fi=!0}}else Mn[0]!==c.BACK&&(Mn[0]=c.BACK,fi=!0);fi&&c.drawBuffers(Mn)},useProgram:function hn(Te){return R!==Te&&(c.useProgram(Te),R=Te,!0)},setBlending:xi,setMaterial:function Jn(Te,gn){2===Te.side?Di(c.CULL_FACE):Hi(c.CULL_FACE);let Mn=1===Te.side;gn&&(Mn=!Mn),ki(Mn),1===Te.blending&&!1===Te.transparent?xi(0):xi(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),l.setFunc(Te.depthFunc),l.setTest(Te.depthTest),l.setMask(Te.depthWrite),o.setMask(Te.colorWrite);const fi=Te.stencilWrite;d.setTest(fi),fi&&(d.setMask(Te.stencilWriteMask),d.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),d.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),Ur(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),!0===Te.alphaToCoverage?Hi(c.SAMPLE_ALPHA_TO_COVERAGE):Di(c.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ki,setCullFace:vi,setLineWidth:function rr(Te){Te!==qt&&(zn&&c.lineWidth(Te),qt=Te)},setPolygonOffset:Ur,setScissorTest:function yt(Te){Te?Hi(c.SCISSOR_TEST):Di(c.SCISSOR_TEST)},activeTexture:function He(Te){void 0===Te&&(Te=c.TEXTURE0+An-1),Bn!==Te&&(c.activeTexture(Te),Bn=Te)},bindTexture:function Tn(Te,gn,Mn){void 0===Mn&&(Mn=null===Bn?c.TEXTURE0+An-1:Bn);let fi=bi[Mn];void 0===fi&&(fi={type:void 0,texture:void 0},bi[Mn]=fi),(fi.type!==Te||fi.texture!==gn)&&(Bn!==Mn&&(c.activeTexture(Mn),Bn=Mn),c.bindTexture(Te,gn||Ai[Te]),fi.type=Te,fi.texture=gn)},unbindTexture:function ei(){const Te=bi[Bn];void 0!==Te&&void 0!==Te.type&&(c.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)},compressedTexImage2D:function mi(){try{c.compressedTexImage2D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexImage3D:function li(){try{c.compressedTexImage3D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texImage2D:function As(){try{c.texImage2D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texImage3D:function Gr(){try{c.texImage3D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},updateUBOMapping:function Ns(Te,gn){let Mn=m.get(gn);void 0===Mn&&(Mn=new WeakMap,m.set(gn,Mn));let fi=Mn.get(Te);void 0===fi&&(fi=c.getUniformBlockIndex(gn,Te.name),Mn.set(Te,fi))},uniformBlockBinding:function mo(Te,gn){const fi=m.get(gn).get(Te);f.get(gn)!==fi&&(c.uniformBlockBinding(gn,fi,Te.__bindingPointIndex),f.set(gn,fi))},texStorage2D:function Li(){try{c.texStorage2D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texStorage3D:function Ir(){try{c.texStorage3D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texSubImage2D:function Pr(){try{c.texSubImage2D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},texSubImage3D:function $i(){try{c.texSubImage3D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexSubImage2D:function Vi(){try{c.compressedTexSubImage2D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},compressedTexSubImage3D:function ls(){try{c.compressedTexSubImage3D.apply(c,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}},scissor:function Yi(Te){!1===hs.equals(Te)&&(c.scissor(Te.x,Te.y,Te.z,Te.w),hs.copy(Te))},viewport:function Ss(Te){!1===ps.equals(Te)&&(c.viewport(Te.x,Te.y,Te.z,Te.w),ps.copy(Te))},reset:function Ts(){c.disable(c.BLEND),c.disable(c.CULL_FACE),c.disable(c.DEPTH_TEST),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SCISSOR_TEST),c.disable(c.STENCIL_TEST),c.disable(c.SAMPLE_ALPHA_TO_COVERAGE),c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO),c.blendFuncSeparate(c.ONE,c.ZERO,c.ONE,c.ZERO),c.blendColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(c.LESS),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(c.ALWAYS,0,4294967295),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),c.clearStencil(0),c.cullFace(c.BACK),c.frontFace(c.CCW),c.polygonOffset(0,0),c.activeTexture(c.TEXTURE0),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),v={},Bn=null,bi={},w={},S=new WeakMap,A=[],R=null,B=!1,Y=null,H=null,U=null,ue=null,re=null,de=null,dt=null,Ge=new yi(0,0,0),Ze=0,_t=!1,Fe=null,Me=null,qt=null,Sn=null,kt=null,hs.set(0,0,c.canvas.width,c.canvas.height),ps.set(0,0,c.canvas.width,c.canvas.height),o.reset(),l.reset(),d.reset()}}}function c0(c,e,n,r,o,l,d){const f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),v=new Gn,w=new WeakMap;let S;const A=new WeakMap;let R=!1;try{R=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function B(yt,He){return R?new OffscreenCanvas(yt,He):wl("canvas")}function Y(yt,He,Tn){let ei=1;const mi=Ur(yt);if((mi.width>Tn||mi.height>Tn)&&(ei=Tn/Math.max(mi.width,mi.height)),ei<1){if(typeof HTMLImageElement<"u"&&yt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&yt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&yt instanceof ImageBitmap||typeof VideoFrame<"u"&&yt instanceof VideoFrame){const li=Math.floor(ei*mi.width),Pr=Math.floor(ei*mi.height);void 0===S&&(S=B(li,Pr));const $i=He?B(li,Pr):S;return $i.width=li,$i.height=Pr,$i.getContext("2d").drawImage(yt,0,0,li,Pr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+mi.width+"x"+mi.height+") to ("+li+"x"+Pr+")."),$i}return"data"in yt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+mi.width+"x"+mi.height+")."),yt}return yt}function H(yt){return yt.generateMipmaps&&yt.minFilter!==ct&&yt.minFilter!==fe}function U(yt){c.generateMipmap(yt)}function ue(yt,He,Tn,ei,mi=!1){if(null!==yt){if(void 0!==c[yt])return c[yt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+yt+"'")}let li=He;if(He===c.RED&&(Tn===c.FLOAT&&(li=c.R32F),Tn===c.HALF_FLOAT&&(li=c.R16F),Tn===c.UNSIGNED_BYTE&&(li=c.R8)),He===c.RED_INTEGER&&(Tn===c.UNSIGNED_BYTE&&(li=c.R8UI),Tn===c.UNSIGNED_SHORT&&(li=c.R16UI),Tn===c.UNSIGNED_INT&&(li=c.R32UI),Tn===c.BYTE&&(li=c.R8I),Tn===c.SHORT&&(li=c.R16I),Tn===c.INT&&(li=c.R32I)),He===c.RG&&(Tn===c.FLOAT&&(li=c.RG32F),Tn===c.HALF_FLOAT&&(li=c.RG16F),Tn===c.UNSIGNED_BYTE&&(li=c.RG8)),He===c.RG_INTEGER&&(Tn===c.UNSIGNED_BYTE&&(li=c.RG8UI),Tn===c.UNSIGNED_SHORT&&(li=c.RG16UI),Tn===c.UNSIGNED_INT&&(li=c.RG32UI),Tn===c.BYTE&&(li=c.RG8I),Tn===c.SHORT&&(li=c.RG16I),Tn===c.INT&&(li=c.RG32I)),He===c.RGB&&Tn===c.UNSIGNED_INT_5_9_9_9_REV&&(li=c.RGB9_E5),He===c.RGBA){const Pr=mi?$n:Os.getTransfer(ei);Tn===c.FLOAT&&(li=c.RGBA32F),Tn===c.HALF_FLOAT&&(li=c.RGBA16F),Tn===c.UNSIGNED_BYTE&&(li=Pr===In?c.SRGB8_ALPHA8:c.RGBA8),Tn===c.UNSIGNED_SHORT_4_4_4_4&&(li=c.RGBA4),Tn===c.UNSIGNED_SHORT_5_5_5_1&&(li=c.RGB5_A1)}return(li===c.R16F||li===c.R32F||li===c.RG16F||li===c.RG32F||li===c.RGBA16F||li===c.RGBA32F)&&e.get("EXT_color_buffer_float"),li}function re(yt,He){return!0===H(yt)||yt.isFramebufferTexture&&yt.minFilter!==ct&&yt.minFilter!==fe?Math.log2(Math.max(He.width,He.height))+1:void 0!==yt.mipmaps&&yt.mipmaps.length>0?yt.mipmaps.length:yt.isCompressedTexture&&Array.isArray(yt.image)?He.mipmaps.length:1}function de(yt){const He=yt.target;He.removeEventListener("dispose",de),function Ge(yt){const He=r.get(yt);if(void 0===He.__webglInit)return;const Tn=yt.source,ei=A.get(Tn);if(ei){const mi=ei[He.__cacheKey];mi.usedTimes--,0===mi.usedTimes&&Ze(yt),0===Object.keys(ei).length&&A.delete(Tn)}r.remove(yt)}(He),He.isVideoTexture&&w.delete(He)}function dt(yt){const He=yt.target;He.removeEventListener("dispose",dt),function _t(yt){const He=r.get(yt);if(yt.depthTexture&&yt.depthTexture.dispose(),yt.isWebGLCubeRenderTarget)for(let ei=0;ei<6;ei++){if(Array.isArray(He.__webglFramebuffer[ei]))for(let mi=0;mi<He.__webglFramebuffer[ei].length;mi++)c.deleteFramebuffer(He.__webglFramebuffer[ei][mi]);else c.deleteFramebuffer(He.__webglFramebuffer[ei]);He.__webglDepthbuffer&&c.deleteRenderbuffer(He.__webglDepthbuffer[ei])}else{if(Array.isArray(He.__webglFramebuffer))for(let ei=0;ei<He.__webglFramebuffer.length;ei++)c.deleteFramebuffer(He.__webglFramebuffer[ei]);else c.deleteFramebuffer(He.__webglFramebuffer);if(He.__webglDepthbuffer&&c.deleteRenderbuffer(He.__webglDepthbuffer),He.__webglMultisampledFramebuffer&&c.deleteFramebuffer(He.__webglMultisampledFramebuffer),He.__webglColorRenderbuffer)for(let ei=0;ei<He.__webglColorRenderbuffer.length;ei++)He.__webglColorRenderbuffer[ei]&&c.deleteRenderbuffer(He.__webglColorRenderbuffer[ei]);He.__webglDepthRenderbuffer&&c.deleteRenderbuffer(He.__webglDepthRenderbuffer)}const Tn=yt.textures;for(let ei=0,mi=Tn.length;ei<mi;ei++){const li=r.get(Tn[ei]);li.__webglTexture&&(c.deleteTexture(li.__webglTexture),d.memory.textures--),r.remove(Tn[ei])}r.remove(yt)}(He)}function Ze(yt){const He=r.get(yt);c.deleteTexture(He.__webglTexture),delete A.get(yt.source)[He.__cacheKey],d.memory.textures--}let Fe=0;function kt(yt,He){const Tn=r.get(yt);if(yt.isVideoTexture&&function vi(yt){const He=d.render.frame;w.get(yt)!==He&&(w.set(yt,He),yt.update())}(yt),!1===yt.isRenderTargetTexture&&yt.version>0&&Tn.__version!==yt.version){const ei=yt.image;if(null===ei)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ei.complete)return void hs(Tn,yt,He);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(c.TEXTURE_2D,Tn.__webglTexture,c.TEXTURE0+He)}const Oi={[rt]:c.REPEAT,[g]:c.CLAMP_TO_EDGE,1002:c.MIRRORED_REPEAT},Bn={[ct]:c.NEAREST,1004:c.NEAREST_MIPMAP_NEAREST,[Oe]:c.NEAREST_MIPMAP_LINEAR,[fe]:c.LINEAR,1007:c.LINEAR_MIPMAP_NEAREST,[we]:c.LINEAR_MIPMAP_LINEAR},bi={512:c.NEVER,519:c.ALWAYS,513:c.LESS,515:c.LEQUAL,514:c.EQUAL,518:c.GEQUAL,516:c.GREATER,517:c.NOTEQUAL};function wi(yt,He){if(He.type===me&&!1===e.has("OES_texture_float_linear")&&(He.magFilter===fe||1007===He.magFilter||He.magFilter===Oe||He.magFilter===we||He.minFilter===fe||1007===He.minFilter||He.minFilter===Oe||He.minFilter===we)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),c.texParameteri(yt,c.TEXTURE_WRAP_S,Oi[He.wrapS]),c.texParameteri(yt,c.TEXTURE_WRAP_T,Oi[He.wrapT]),(yt===c.TEXTURE_3D||yt===c.TEXTURE_2D_ARRAY)&&c.texParameteri(yt,c.TEXTURE_WRAP_R,Oi[He.wrapR]),c.texParameteri(yt,c.TEXTURE_MAG_FILTER,Bn[He.magFilter]),c.texParameteri(yt,c.TEXTURE_MIN_FILTER,Bn[He.minFilter]),He.compareFunction&&(c.texParameteri(yt,c.TEXTURE_COMPARE_MODE,c.COMPARE_REF_TO_TEXTURE),c.texParameteri(yt,c.TEXTURE_COMPARE_FUNC,bi[He.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(He.magFilter===ct||He.minFilter!==Oe&&He.minFilter!==we||He.type===me&&!1===e.has("OES_texture_float_linear"))return;if(He.anisotropy>1||r.get(He).__currentAnisotropy){const Tn=e.get("EXT_texture_filter_anisotropic");c.texParameterf(yt,Tn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(He.anisotropy,o.getMaxAnisotropy())),r.get(He).__currentAnisotropy=He.anisotropy}}}function nr(yt,He){let Tn=!1;void 0===yt.__webglInit&&(yt.__webglInit=!0,He.addEventListener("dispose",de));const ei=He.source;let mi=A.get(ei);void 0===mi&&(mi={},A.set(ei,mi));const li=function Sn(yt){const He=[];return He.push(yt.wrapS),He.push(yt.wrapT),He.push(yt.wrapR||0),He.push(yt.magFilter),He.push(yt.minFilter),He.push(yt.anisotropy),He.push(yt.internalFormat),He.push(yt.format),He.push(yt.type),He.push(yt.generateMipmaps),He.push(yt.premultiplyAlpha),He.push(yt.flipY),He.push(yt.unpackAlignment),He.push(yt.colorSpace),He.join()}(He);if(li!==yt.__cacheKey){void 0===mi[li]&&(mi[li]={texture:c.createTexture(),usedTimes:0},d.memory.textures++,Tn=!0),mi[li].usedTimes++;const Pr=mi[yt.__cacheKey];void 0!==Pr&&(mi[yt.__cacheKey].usedTimes--,0===Pr.usedTimes&&Ze(He)),yt.__cacheKey=li,yt.__webglTexture=mi[li].texture}return Tn}function hs(yt,He,Tn){let ei=c.TEXTURE_2D;(He.isDataArrayTexture||He.isCompressedArrayTexture)&&(ei=c.TEXTURE_2D_ARRAY),He.isData3DTexture&&(ei=c.TEXTURE_3D);const mi=nr(yt,He),li=He.source;n.bindTexture(ei,yt.__webglTexture,c.TEXTURE0+Tn);const Pr=r.get(li);if(li.version!==Pr.__version||!0===mi){n.activeTexture(c.TEXTURE0+Tn);const $i=Os.getPrimaries(Os.workingColorSpace),Vi=""===He.colorSpace?null:Os.getPrimaries(He.colorSpace),ls=""===He.colorSpace||$i===Vi?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,He.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,He.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,ls);let Li=Y(He.image,!1,o.maxTextureSize);Li=rr(He,Li);const Ir=l.convert(He.format,He.colorSpace),As=l.convert(He.type);let Yi,Gr=ue(He.internalFormat,Ir,As,He.colorSpace,He.isVideoTexture);wi(ei,He);const Ss=He.mipmaps,Ns=!0!==He.isVideoTexture,mo=void 0===Pr.__version||!0===mi,Ts=li.dataReady,Te=re(He,Li);if(He.isDepthTexture)Gr=c.DEPTH_COMPONENT16,He.type===me?Gr=c.DEPTH_COMPONENT32F:He.type===he?Gr=c.DEPTH_COMPONENT24:He.type===Pt&&(Gr=c.DEPTH24_STENCIL8),mo&&(Ns?n.texStorage2D(c.TEXTURE_2D,1,Gr,Li.width,Li.height):n.texImage2D(c.TEXTURE_2D,0,Gr,Li.width,Li.height,0,Ir,As,null));else if(He.isDataTexture)if(Ss.length>0){Ns&&mo&&n.texStorage2D(c.TEXTURE_2D,Te,Gr,Ss[0].width,Ss[0].height);for(let gn=0,Mn=Ss.length;gn<Mn;gn++)Yi=Ss[gn],Ns?Ts&&n.texSubImage2D(c.TEXTURE_2D,gn,0,0,Yi.width,Yi.height,Ir,As,Yi.data):n.texImage2D(c.TEXTURE_2D,gn,Gr,Yi.width,Yi.height,0,Ir,As,Yi.data);He.generateMipmaps=!1}else Ns?(mo&&n.texStorage2D(c.TEXTURE_2D,Te,Gr,Li.width,Li.height),Ts&&n.texSubImage2D(c.TEXTURE_2D,0,0,0,Li.width,Li.height,Ir,As,Li.data)):n.texImage2D(c.TEXTURE_2D,0,Gr,Li.width,Li.height,0,Ir,As,Li.data);else if(He.isCompressedTexture)if(He.isCompressedArrayTexture){Ns&&mo&&n.texStorage3D(c.TEXTURE_2D_ARRAY,Te,Gr,Ss[0].width,Ss[0].height,Li.depth);for(let gn=0,Mn=Ss.length;gn<Mn;gn++)Yi=Ss[gn],He.format!==Qt?null!==Ir?Ns?Ts&&n.compressedTexSubImage3D(c.TEXTURE_2D_ARRAY,gn,0,0,0,Yi.width,Yi.height,Li.depth,Ir,Yi.data,0,0):n.compressedTexImage3D(c.TEXTURE_2D_ARRAY,gn,Gr,Yi.width,Yi.height,Li.depth,0,Yi.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ns?Ts&&n.texSubImage3D(c.TEXTURE_2D_ARRAY,gn,0,0,0,Yi.width,Yi.height,Li.depth,Ir,As,Yi.data):n.texImage3D(c.TEXTURE_2D_ARRAY,gn,Gr,Yi.width,Yi.height,Li.depth,0,Ir,As,Yi.data)}else{Ns&&mo&&n.texStorage2D(c.TEXTURE_2D,Te,Gr,Ss[0].width,Ss[0].height);for(let gn=0,Mn=Ss.length;gn<Mn;gn++)Yi=Ss[gn],He.format!==Qt?null!==Ir?Ns?Ts&&n.compressedTexSubImage2D(c.TEXTURE_2D,gn,0,0,Yi.width,Yi.height,Ir,Yi.data):n.compressedTexImage2D(c.TEXTURE_2D,gn,Gr,Yi.width,Yi.height,0,Yi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ns?Ts&&n.texSubImage2D(c.TEXTURE_2D,gn,0,0,Yi.width,Yi.height,Ir,As,Yi.data):n.texImage2D(c.TEXTURE_2D,gn,Gr,Yi.width,Yi.height,0,Ir,As,Yi.data)}else if(He.isDataArrayTexture)Ns?(mo&&n.texStorage3D(c.TEXTURE_2D_ARRAY,Te,Gr,Li.width,Li.height,Li.depth),Ts&&n.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,0,Li.width,Li.height,Li.depth,Ir,As,Li.data)):n.texImage3D(c.TEXTURE_2D_ARRAY,0,Gr,Li.width,Li.height,Li.depth,0,Ir,As,Li.data);else if(He.isData3DTexture)Ns?(mo&&n.texStorage3D(c.TEXTURE_3D,Te,Gr,Li.width,Li.height,Li.depth),Ts&&n.texSubImage3D(c.TEXTURE_3D,0,0,0,0,Li.width,Li.height,Li.depth,Ir,As,Li.data)):n.texImage3D(c.TEXTURE_3D,0,Gr,Li.width,Li.height,Li.depth,0,Ir,As,Li.data);else if(He.isFramebufferTexture){if(mo)if(Ns)n.texStorage2D(c.TEXTURE_2D,Te,Gr,Li.width,Li.height);else{let gn=Li.width,Mn=Li.height;for(let fi=0;fi<Te;fi++)n.texImage2D(c.TEXTURE_2D,fi,Gr,gn,Mn,0,Ir,As,null),gn>>=1,Mn>>=1}}else if(Ss.length>0){if(Ns&&mo){const gn=Ur(Ss[0]);n.texStorage2D(c.TEXTURE_2D,Te,Gr,gn.width,gn.height)}for(let gn=0,Mn=Ss.length;gn<Mn;gn++)Yi=Ss[gn],Ns?Ts&&n.texSubImage2D(c.TEXTURE_2D,gn,0,0,Ir,As,Yi):n.texImage2D(c.TEXTURE_2D,gn,Gr,Ir,As,Yi);He.generateMipmaps=!1}else if(Ns){if(mo){const gn=Ur(Li);n.texStorage2D(c.TEXTURE_2D,Te,Gr,gn.width,gn.height)}Ts&&n.texSubImage2D(c.TEXTURE_2D,0,0,0,Ir,As,Li)}else n.texImage2D(c.TEXTURE_2D,0,Gr,Ir,As,Li);H(He)&&U(ei),Pr.__version=li.version,He.onUpdate&&He.onUpdate(He)}yt.__version=He.version}function jn(yt,He,Tn,ei,mi,li){const Pr=l.convert(Tn.format,Tn.colorSpace),$i=l.convert(Tn.type),Vi=ue(Tn.internalFormat,Pr,$i,Tn.colorSpace);if(!r.get(He).__hasExternalTextures){const Li=Math.max(1,He.width>>li),Ir=Math.max(1,He.height>>li);mi===c.TEXTURE_3D||mi===c.TEXTURE_2D_ARRAY?n.texImage3D(mi,li,Vi,Li,Ir,He.depth,0,Pr,$i,null):n.texImage2D(mi,li,Vi,Li,Ir,0,Pr,$i,null)}n.bindFramebuffer(c.FRAMEBUFFER,yt),ki(He)?f.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,ei,mi,r.get(Tn).__webglTexture,0,Jn(He)):(mi===c.TEXTURE_2D||mi>=c.TEXTURE_CUBE_MAP_POSITIVE_X&&mi<=c.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&c.framebufferTexture2D(c.FRAMEBUFFER,ei,mi,r.get(Tn).__webglTexture,li),n.bindFramebuffer(c.FRAMEBUFFER,null)}function Ai(yt,He,Tn){if(c.bindRenderbuffer(c.RENDERBUFFER,yt),He.depthBuffer&&!He.stencilBuffer){let ei=c.DEPTH_COMPONENT24;if(Tn||ki(He)){const mi=He.depthTexture;mi&&mi.isDepthTexture&&(mi.type===me?ei=c.DEPTH_COMPONENT32F:mi.type===he&&(ei=c.DEPTH_COMPONENT24));const li=Jn(He);ki(He)?f.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,li,ei,He.width,He.height):c.renderbufferStorageMultisample(c.RENDERBUFFER,li,ei,He.width,He.height)}else c.renderbufferStorage(c.RENDERBUFFER,ei,He.width,He.height);c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,yt)}else if(He.depthBuffer&&He.stencilBuffer){const ei=Jn(He);Tn&&!1===ki(He)?c.renderbufferStorageMultisample(c.RENDERBUFFER,ei,c.DEPTH24_STENCIL8,He.width,He.height):ki(He)?f.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,ei,c.DEPTH24_STENCIL8,He.width,He.height):c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,He.width,He.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,yt)}else{const ei=He.textures;for(let mi=0;mi<ei.length;mi++){const li=ei[mi],Pr=l.convert(li.format,li.colorSpace),$i=l.convert(li.type),Vi=ue(li.internalFormat,Pr,$i,li.colorSpace),ls=Jn(He);Tn&&!1===ki(He)?c.renderbufferStorageMultisample(c.RENDERBUFFER,ls,Vi,He.width,He.height):ki(He)?f.renderbufferStorageMultisampleEXT(c.RENDERBUFFER,ls,Vi,He.width,He.height):c.renderbufferStorage(c.RENDERBUFFER,Vi,He.width,He.height)}}c.bindRenderbuffer(c.RENDERBUFFER,null)}function Di(yt){const He=r.get(yt),Tn=!0===yt.isWebGLCubeRenderTarget;if(yt.depthTexture&&!He.__autoAllocateDepthBuffer){if(Tn)throw new Error("target.depthTexture not supported in Cube render targets");!function Hi(yt,He){if(He&&He.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(c.FRAMEBUFFER,yt),!He.depthTexture||!He.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(He.depthTexture).__webglTexture||He.depthTexture.image.width!==He.width||He.depthTexture.image.height!==He.height)&&(He.depthTexture.image.width=He.width,He.depthTexture.image.height=He.height,He.depthTexture.needsUpdate=!0),kt(He.depthTexture,0);const ei=r.get(He.depthTexture).__webglTexture,mi=Jn(He);if(He.depthTexture.format===Wt)ki(He)?f.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,ei,0,mi):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.TEXTURE_2D,ei,0);else{if(He.depthTexture.format!==un)throw new Error("Unknown depthTexture format");ki(He)?f.framebufferTexture2DMultisampleEXT(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,ei,0,mi):c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,ei,0)}}(He.__webglFramebuffer,yt)}else if(Tn){He.__webglDepthbuffer=[];for(let ei=0;ei<6;ei++)n.bindFramebuffer(c.FRAMEBUFFER,He.__webglFramebuffer[ei]),He.__webglDepthbuffer[ei]=c.createRenderbuffer(),Ai(He.__webglDepthbuffer[ei],yt,!1)}else n.bindFramebuffer(c.FRAMEBUFFER,He.__webglFramebuffer),He.__webglDepthbuffer=c.createRenderbuffer(),Ai(He.__webglDepthbuffer,yt,!1);n.bindFramebuffer(c.FRAMEBUFFER,null)}const Es=[],Qn=[];function Jn(yt){return Math.min(o.maxSamples,yt.samples)}function ki(yt){const He=r.get(yt);return yt.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==He.__useRenderToTexture}function rr(yt,He){const Tn=yt.colorSpace,ei=yt.format,mi=yt.type;return!0===yt.isCompressedTexture||!0===yt.isVideoTexture||Tn!==At&&""!==Tn&&(Os.getTransfer(Tn)===In?(ei!==Qt||mi!==L)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Tn)),He}function Ur(yt){return typeof HTMLImageElement<"u"&&yt instanceof HTMLImageElement?(v.width=yt.naturalWidth||yt.width,v.height=yt.naturalHeight||yt.height):typeof VideoFrame<"u"&&yt instanceof VideoFrame?(v.width=yt.displayWidth,v.height=yt.displayHeight):(v.width=yt.width,v.height=yt.height),v}this.allocateTextureUnit=function qt(){const yt=Fe;return yt>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+yt+" texture units while this GPU supports only "+o.maxTextures),Fe+=1,yt},this.resetTextureUnits=function Me(){Fe=0},this.setTexture2D=kt,this.setTexture2DArray=function An(yt,He){const Tn=r.get(yt);yt.version>0&&Tn.__version!==yt.version?hs(Tn,yt,He):n.bindTexture(c.TEXTURE_2D_ARRAY,Tn.__webglTexture,c.TEXTURE0+He)},this.setTexture3D=function zn(yt,He){const Tn=r.get(yt);yt.version>0&&Tn.__version!==yt.version?hs(Tn,yt,He):n.bindTexture(c.TEXTURE_3D,Tn.__webglTexture,c.TEXTURE0+He)},this.setTextureCube=function Yn(yt,He){const Tn=r.get(yt);yt.version>0&&Tn.__version!==yt.version?function ps(yt,He,Tn){if(6!==He.image.length)return;const ei=nr(yt,He),mi=He.source;n.bindTexture(c.TEXTURE_CUBE_MAP,yt.__webglTexture,c.TEXTURE0+Tn);const li=r.get(mi);if(mi.version!==li.__version||!0===ei){n.activeTexture(c.TEXTURE0+Tn);const Pr=Os.getPrimaries(Os.workingColorSpace),$i=""===He.colorSpace?null:Os.getPrimaries(He.colorSpace),Vi=""===He.colorSpace||Pr===$i?c.NONE:c.BROWSER_DEFAULT_WEBGL;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,He.flipY),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),c.pixelStorei(c.UNPACK_ALIGNMENT,He.unpackAlignment),c.pixelStorei(c.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vi);const ls=He.isCompressedTexture||He.image[0].isCompressedTexture,Li=He.image[0]&&He.image[0].isDataTexture,Ir=[];for(let Mn=0;Mn<6;Mn++)Ir[Mn]=ls||Li?Li?He.image[Mn].image:He.image[Mn]:Y(He.image[Mn],!0,o.maxCubemapSize),Ir[Mn]=rr(He,Ir[Mn]);const As=Ir[0],Gr=l.convert(He.format,He.colorSpace),Yi=l.convert(He.type),Ss=ue(He.internalFormat,Gr,Yi,He.colorSpace),Ns=!0!==He.isVideoTexture,mo=void 0===li.__version||!0===ei,Ts=mi.dataReady;let gn,Te=re(He,As);if(wi(c.TEXTURE_CUBE_MAP,He),ls){Ns&&mo&&n.texStorage2D(c.TEXTURE_CUBE_MAP,Te,Ss,As.width,As.height);for(let Mn=0;Mn<6;Mn++){gn=Ir[Mn].mipmaps;for(let fi=0;fi<gn.length;fi++){const Ri=gn[fi];He.format!==Qt?null!==Gr?Ns?Ts&&n.compressedTexSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi,0,0,Ri.width,Ri.height,Gr,Ri.data):n.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi,Ss,Ri.width,Ri.height,0,Ri.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ns?Ts&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi,0,0,Ri.width,Ri.height,Gr,Yi,Ri.data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi,Ss,Ri.width,Ri.height,0,Gr,Yi,Ri.data)}}}else{if(gn=He.mipmaps,Ns&&mo){gn.length>0&&Te++;const Mn=Ur(Ir[0]);n.texStorage2D(c.TEXTURE_CUBE_MAP,Te,Ss,Mn.width,Mn.height)}for(let Mn=0;Mn<6;Mn++)if(Li){Ns?Ts&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,0,0,0,Ir[Mn].width,Ir[Mn].height,Gr,Yi,Ir[Mn].data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,0,Ss,Ir[Mn].width,Ir[Mn].height,0,Gr,Yi,Ir[Mn].data);for(let fi=0;fi<gn.length;fi++){const bs=gn[fi].image[Mn].image;Ns?Ts&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi+1,0,0,bs.width,bs.height,Gr,Yi,bs.data):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi+1,Ss,bs.width,bs.height,0,Gr,Yi,bs.data)}}else{Ns?Ts&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,0,0,0,Gr,Yi,Ir[Mn]):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,0,Ss,Gr,Yi,Ir[Mn]);for(let fi=0;fi<gn.length;fi++){const Ri=gn[fi];Ns?Ts&&n.texSubImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi+1,0,0,Gr,Yi,Ri.image[Mn]):n.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+Mn,fi+1,Ss,Gr,Yi,Ri.image[Mn])}}}H(He)&&U(c.TEXTURE_CUBE_MAP),li.__version=mi.version,He.onUpdate&&He.onUpdate(He)}yt.__version=He.version}(Tn,yt,He):n.bindTexture(c.TEXTURE_CUBE_MAP,Tn.__webglTexture,c.TEXTURE0+He)},this.rebindTextures=function Xr(yt,He,Tn){const ei=r.get(yt);void 0!==He&&jn(ei.__webglFramebuffer,yt,yt.texture,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,0),void 0!==Tn&&Di(yt)},this.setupRenderTarget=function as(yt){const He=yt.texture,Tn=r.get(yt),ei=r.get(He);yt.addEventListener("dispose",dt);const mi=yt.textures,li=!0===yt.isWebGLCubeRenderTarget,Pr=mi.length>1;if(Pr||(void 0===ei.__webglTexture&&(ei.__webglTexture=c.createTexture()),ei.__version=He.version,d.memory.textures++),li){Tn.__webglFramebuffer=[];for(let $i=0;$i<6;$i++)if(He.mipmaps&&He.mipmaps.length>0){Tn.__webglFramebuffer[$i]=[];for(let Vi=0;Vi<He.mipmaps.length;Vi++)Tn.__webglFramebuffer[$i][Vi]=c.createFramebuffer()}else Tn.__webglFramebuffer[$i]=c.createFramebuffer()}else{if(He.mipmaps&&He.mipmaps.length>0){Tn.__webglFramebuffer=[];for(let $i=0;$i<He.mipmaps.length;$i++)Tn.__webglFramebuffer[$i]=c.createFramebuffer()}else Tn.__webglFramebuffer=c.createFramebuffer();if(Pr)for(let $i=0,Vi=mi.length;$i<Vi;$i++){const ls=r.get(mi[$i]);void 0===ls.__webglTexture&&(ls.__webglTexture=c.createTexture(),d.memory.textures++)}if(yt.samples>0&&!1===ki(yt)){Tn.__webglMultisampledFramebuffer=c.createFramebuffer(),Tn.__webglColorRenderbuffer=[],n.bindFramebuffer(c.FRAMEBUFFER,Tn.__webglMultisampledFramebuffer);for(let $i=0;$i<mi.length;$i++){const Vi=mi[$i];Tn.__webglColorRenderbuffer[$i]=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,Tn.__webglColorRenderbuffer[$i]);const ls=l.convert(Vi.format,Vi.colorSpace),Li=l.convert(Vi.type),Ir=ue(Vi.internalFormat,ls,Li,Vi.colorSpace,!0===yt.isXRRenderTarget),As=Jn(yt);c.renderbufferStorageMultisample(c.RENDERBUFFER,As,Ir,yt.width,yt.height),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+$i,c.RENDERBUFFER,Tn.__webglColorRenderbuffer[$i])}c.bindRenderbuffer(c.RENDERBUFFER,null),yt.depthBuffer&&(Tn.__webglDepthRenderbuffer=c.createRenderbuffer(),Ai(Tn.__webglDepthRenderbuffer,yt,!0)),n.bindFramebuffer(c.FRAMEBUFFER,null)}}if(li){n.bindTexture(c.TEXTURE_CUBE_MAP,ei.__webglTexture),wi(c.TEXTURE_CUBE_MAP,He);for(let $i=0;$i<6;$i++)if(He.mipmaps&&He.mipmaps.length>0)for(let Vi=0;Vi<He.mipmaps.length;Vi++)jn(Tn.__webglFramebuffer[$i][Vi],yt,He,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+$i,Vi);else jn(Tn.__webglFramebuffer[$i],yt,He,c.COLOR_ATTACHMENT0,c.TEXTURE_CUBE_MAP_POSITIVE_X+$i,0);H(He)&&U(c.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Pr){for(let $i=0,Vi=mi.length;$i<Vi;$i++){const ls=mi[$i],Li=r.get(ls);n.bindTexture(c.TEXTURE_2D,Li.__webglTexture),wi(c.TEXTURE_2D,ls),jn(Tn.__webglFramebuffer,yt,ls,c.COLOR_ATTACHMENT0+$i,c.TEXTURE_2D,0),H(ls)&&U(c.TEXTURE_2D)}n.unbindTexture()}else{let $i=c.TEXTURE_2D;if((yt.isWebGL3DRenderTarget||yt.isWebGLArrayRenderTarget)&&($i=yt.isWebGL3DRenderTarget?c.TEXTURE_3D:c.TEXTURE_2D_ARRAY),n.bindTexture($i,ei.__webglTexture),wi($i,He),He.mipmaps&&He.mipmaps.length>0)for(let Vi=0;Vi<He.mipmaps.length;Vi++)jn(Tn.__webglFramebuffer[Vi],yt,He,c.COLOR_ATTACHMENT0,$i,Vi);else jn(Tn.__webglFramebuffer,yt,He,c.COLOR_ATTACHMENT0,$i,0);H(He)&&U($i),n.unbindTexture()}yt.depthBuffer&&Di(yt)},this.updateRenderTargetMipmap=function hn(yt){const He=yt.textures;for(let Tn=0,ei=He.length;Tn<ei;Tn++){const mi=He[Tn];if(H(mi)){const li=yt.isWebGLCubeRenderTarget?c.TEXTURE_CUBE_MAP:c.TEXTURE_2D,Pr=r.get(mi).__webglTexture;n.bindTexture(li,Pr),U(li),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function xi(yt){if(yt.samples>0)if(!1===ki(yt)){const He=yt.textures,Tn=yt.width,ei=yt.height;let mi=c.COLOR_BUFFER_BIT;const li=yt.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT,Pr=r.get(yt),$i=He.length>1;if($i)for(let Vi=0;Vi<He.length;Vi++)n.bindFramebuffer(c.FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Vi,c.RENDERBUFFER,null),n.bindFramebuffer(c.FRAMEBUFFER,Pr.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Vi,c.TEXTURE_2D,null,0);n.bindFramebuffer(c.READ_FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),n.bindFramebuffer(c.DRAW_FRAMEBUFFER,Pr.__webglFramebuffer);for(let Vi=0;Vi<He.length;Vi++){if(yt.resolveDepthBuffer&&(yt.depthBuffer&&(mi|=c.DEPTH_BUFFER_BIT),yt.stencilBuffer&&yt.resolveStencilBuffer&&(mi|=c.STENCIL_BUFFER_BIT)),$i){c.framebufferRenderbuffer(c.READ_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,Pr.__webglColorRenderbuffer[Vi]);const ls=r.get(He[Vi]).__webglTexture;c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,ls,0)}c.blitFramebuffer(0,0,Tn,ei,0,0,Tn,ei,mi,c.NEAREST),!0===m&&(Es.length=0,Qn.length=0,Es.push(c.COLOR_ATTACHMENT0+Vi),yt.depthBuffer&&!1===yt.resolveDepthBuffer&&(Es.push(li),Qn.push(li),c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,Qn)),c.invalidateFramebuffer(c.READ_FRAMEBUFFER,Es))}if(n.bindFramebuffer(c.READ_FRAMEBUFFER,null),n.bindFramebuffer(c.DRAW_FRAMEBUFFER,null),$i)for(let Vi=0;Vi<He.length;Vi++){n.bindFramebuffer(c.FRAMEBUFFER,Pr.__webglMultisampledFramebuffer),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0+Vi,c.RENDERBUFFER,Pr.__webglColorRenderbuffer[Vi]);const ls=r.get(He[Vi]).__webglTexture;n.bindFramebuffer(c.FRAMEBUFFER,Pr.__webglFramebuffer),c.framebufferTexture2D(c.DRAW_FRAMEBUFFER,c.COLOR_ATTACHMENT0+Vi,c.TEXTURE_2D,ls,0)}n.bindFramebuffer(c.DRAW_FRAMEBUFFER,Pr.__webglMultisampledFramebuffer)}else yt.depthBuffer&&!1===yt.resolveDepthBuffer&&m&&c.invalidateFramebuffer(c.DRAW_FRAMEBUFFER,[yt.stencilBuffer?c.DEPTH_STENCIL_ATTACHMENT:c.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=Di,this.setupFrameBufferTexture=jn,this.useMultisampledRTT=ki}function mE(c,e){return{convert:function n(r,o=""){let l;const d=Os.getTransfer(o);if(r===L)return c.UNSIGNED_BYTE;if(1017===r)return c.UNSIGNED_SHORT_4_4_4_4;if(1018===r)return c.UNSIGNED_SHORT_5_5_5_1;if(35902===r)return c.UNSIGNED_INT_5_9_9_9_REV;if(1010===r)return c.BYTE;if(1011===r)return c.SHORT;if(1012===r)return c.UNSIGNED_SHORT;if(1013===r)return c.INT;if(r===he)return c.UNSIGNED_INT;if(r===me)return c.FLOAT;if(1016===r)return c.HALF_FLOAT;if(1021===r)return c.ALPHA;if(1022===r)return c.RGB;if(r===Qt)return c.RGBA;if(1024===r)return c.LUMINANCE;if(1025===r)return c.LUMINANCE_ALPHA;if(r===Wt)return c.DEPTH_COMPONENT;if(r===un)return c.DEPTH_STENCIL;if(1028===r)return c.RED;if(1029===r)return c.RED_INTEGER;if(1030===r)return c.RG;if(1031===r)return c.RG_INTEGER;if(1033===r)return c.RGBA_INTEGER;if(33776===r||33777===r||33778===r||33779===r)if(d===In){if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===l)return null;if(33776===r)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(l=e.get("WEBGL_compressed_texture_s3tc"),null===l)return null;if(33776===r)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(l=e.get("WEBGL_compressed_texture_pvrtc"),null===l)return null;if(35840===r)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r||37492===r||37496===r){if(l=e.get("WEBGL_compressed_texture_etc"),null===l)return null;if(36196===r||37492===r)return d===In?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(37496===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(l=e.get("WEBGL_compressed_texture_astc"),null===l)return null;if(37808===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return d===In?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r||36494===r||36495===r){if(l=e.get("EXT_texture_compression_bptc"),null===l)return null;if(36492===r)return d===In?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===r)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===r)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===r||36284===r||36285===r||36286===r){if(l=e.get("EXT_texture_compression_rgtc"),null===l)return null;if(36492===r)return l.COMPRESSED_RED_RGTC1_EXT;if(36284===r)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===r)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===r)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return r===Pt?c.UNSIGNED_INT_24_8:void 0!==c[r]?c[r]:null}}}class gE extends Xo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ml extends Rn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wb={type:"move"};class _m{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Ml,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Ml,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new it,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new it),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Ml,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new it,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new it),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,n,r){let o=null,l=null,d=null;const f=this._targetRay,m=this._grip,v=this._hand;if(e&&"visible-blurred"!==n.session.visibilityState){if(v&&e.hand){d=!0;for(const Y of e.hand.values()){const H=n.getJointPose(Y,r),U=this._getHandJoint(v,Y);null!==H&&(U.matrix.fromArray(H.transform.matrix),U.matrix.decompose(U.position,U.rotation,U.scale),U.matrixWorldNeedsUpdate=!0,U.jointRadius=H.radius),U.visible=null!==H}const A=v.joints["index-finger-tip"].position.distanceTo(v.joints["thumb-tip"].position),R=.02,B=.005;v.inputState.pinching&&A>R+B?(v.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!v.inputState.pinching&&A<=R-B&&(v.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==m&&e.gripSpace&&(l=n.getPose(e.gripSpace,r),null!==l&&(m.matrix.fromArray(l.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,l.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(l.linearVelocity)):m.hasLinearVelocity=!1,l.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(l.angularVelocity)):m.hasAngularVelocity=!1));null!==f&&(o=n.getPose(e.targetRaySpace,r),null===o&&null!==l&&(o=l),null!==o&&(f.matrix.fromArray(o.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,o.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(o.linearVelocity)):f.hasLinearVelocity=!1,o.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(o.angularVelocity)):f.hasAngularVelocity=!1,this.dispatchEvent(wb)))}return null!==f&&(f.visible=null!==o),null!==m&&(m.visible=null!==l),null!==v&&(v.visible=null!==d),this}_getHandJoint(e,n){if(void 0===e.joints[n.jointName]){const r=new Ml;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Eb{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(null===this.texture){const o=new zo;e.properties.get(o).__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=o}}render(e,n){if(null!==this.texture){if(null===this.mesh){const r=n.cameras[0].viewport,o=new ns({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new oa(new Xd(20,20),o)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Sb extends X{constructor(e,n){super();const r=this;let o=null,l=1,d=null,f="local-floor",m=1,v=null,w=null,S=null,A=null,R=null,B=null;const Y=new Eb,H=n.getContextAttributes();let U=null,ue=null;const re=[],de=[],dt=new Gn;let Ge=null;const Ze=new Xo;Ze.layers.enable(1),Ze.viewport=new js;const _t=new Xo;_t.layers.enable(2),_t.viewport=new js;const Fe=[Ze,_t],Me=new gE;Me.layers.enable(1),Me.layers.enable(2);let qt=null,Sn=null;function kt(jn){const Ai=de.indexOf(jn.inputSource);if(-1===Ai)return;const Hi=re[Ai];void 0!==Hi&&(Hi.update(jn.inputSource,jn.frame,v||d),Hi.dispatchEvent({type:jn.type,data:jn.inputSource}))}function An(){o.removeEventListener("select",kt),o.removeEventListener("selectstart",kt),o.removeEventListener("selectend",kt),o.removeEventListener("squeeze",kt),o.removeEventListener("squeezestart",kt),o.removeEventListener("squeezeend",kt),o.removeEventListener("end",An),o.removeEventListener("inputsourceschange",zn);for(let jn=0;jn<re.length;jn++){const Ai=de[jn];null!==Ai&&(de[jn]=null,re[jn].disconnect(Ai))}qt=null,Sn=null,Y.reset(),e.setRenderTarget(U),R=null,A=null,S=null,o=null,ue=null,ps.stop(),r.isPresenting=!1,e.setPixelRatio(Ge),e.setSize(dt.width,dt.height,!1),r.dispatchEvent({type:"sessionend"})}function zn(jn){for(let Ai=0;Ai<jn.removed.length;Ai++){const Hi=jn.removed[Ai],Di=de.indexOf(Hi);Di>=0&&(de[Di]=null,re[Di].disconnect(Hi))}for(let Ai=0;Ai<jn.added.length;Ai++){const Hi=jn.added[Ai];let Di=de.indexOf(Hi);if(-1===Di){for(let as=0;as<re.length;as++){if(as>=de.length){de.push(Hi),Di=as;break}if(null===de[as]){de[as]=Hi,Di=as;break}}if(-1===Di)break}const Xr=re[Di];Xr&&Xr.connect(Hi)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(jn){let Ai=re[jn];return void 0===Ai&&(Ai=new _m,re[jn]=Ai),Ai.getTargetRaySpace()},this.getControllerGrip=function(jn){let Ai=re[jn];return void 0===Ai&&(Ai=new _m,re[jn]=Ai),Ai.getGripSpace()},this.getHand=function(jn){let Ai=re[jn];return void 0===Ai&&(Ai=new _m,re[jn]=Ai),Ai.getHandSpace()},this.setFramebufferScaleFactor=function(jn){l=jn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(jn){f=jn,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return v||d},this.setReferenceSpace=function(jn){v=jn},this.getBaseLayer=function(){return null!==A?A:R},this.getBinding=function(){return S},this.getFrame=function(){return B},this.getSession=function(){return o},this.setSession=function(){var jn=(0,Nt.A)(function*(Ai){if(o=Ai,null!==o){if(U=e.getRenderTarget(),o.addEventListener("select",kt),o.addEventListener("selectstart",kt),o.addEventListener("selectend",kt),o.addEventListener("squeeze",kt),o.addEventListener("squeezestart",kt),o.addEventListener("squeezeend",kt),o.addEventListener("end",An),o.addEventListener("inputsourceschange",zn),!0!==H.xrCompatible&&(yield n.makeXRCompatible()),Ge=e.getPixelRatio(),e.getSize(dt),void 0===o.renderState.layers)R=new XRWebGLLayer(o,n,{antialias:H.antialias,alpha:!0,depth:H.depth,stencil:H.stencil,framebufferScaleFactor:l}),o.updateRenderState({baseLayer:R}),e.setPixelRatio(1),e.setSize(R.framebufferWidth,R.framebufferHeight,!1),ue=new Co(R.framebufferWidth,R.framebufferHeight,{format:Qt,type:L,colorSpace:e.outputColorSpace,stencilBuffer:H.stencil});else{let Hi=null,Di=null,Xr=null;H.depth&&(Xr=H.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Hi=H.stencil?un:Wt,Di=H.stencil?Pt:he);const as={colorFormat:n.RGBA8,depthFormat:Xr,scaleFactor:l};S=new XRWebGLBinding(o,n),A=S.createProjectionLayer(as),o.updateRenderState({layers:[A]}),e.setPixelRatio(1),e.setSize(A.textureWidth,A.textureHeight,!1),ue=new Co(A.textureWidth,A.textureHeight,{format:Qt,type:L,depthTexture:new Fv(A.textureWidth,A.textureHeight,Di,void 0,void 0,void 0,void 0,void 0,void 0,Hi),stencilBuffer:H.stencil,colorSpace:e.outputColorSpace,samples:H.antialias?4:0,resolveDepthBuffer:!1===A.ignoreDepthValues})}ue.isXRRenderTarget=!0,this.setFoveation(m),v=null,d=yield o.requestReferenceSpace(f),ps.setContext(o),ps.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}});return function(Ai){return jn.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};const Yn=new it,Oi=new it;function bi(jn,Ai){null===Ai?jn.matrixWorld.copy(jn.matrix):jn.matrixWorld.multiplyMatrices(Ai.matrixWorld,jn.matrix),jn.matrixWorldInverse.copy(jn.matrixWorld).invert()}this.updateCamera=function(jn){if(null===o)return;null!==Y.texture&&(jn.near=Y.depthNear,jn.far=Y.depthFar),Me.near=_t.near=Ze.near=jn.near,Me.far=_t.far=Ze.far=jn.far,(qt!==Me.near||Sn!==Me.far)&&(o.updateRenderState({depthNear:Me.near,depthFar:Me.far}),qt=Me.near,Sn=Me.far,Ze.near=qt,Ze.far=Sn,_t.near=qt,_t.far=Sn,Ze.updateProjectionMatrix(),_t.updateProjectionMatrix(),jn.updateProjectionMatrix());const Ai=jn.parent,Hi=Me.cameras;bi(Me,Ai);for(let Di=0;Di<Hi.length;Di++)bi(Hi[Di],Ai);2===Hi.length?function Bn(jn,Ai,Hi){Yn.setFromMatrixPosition(Ai.matrixWorld),Oi.setFromMatrixPosition(Hi.matrixWorld);const Di=Yn.distanceTo(Oi),Xr=Ai.projectionMatrix.elements,as=Hi.projectionMatrix.elements,hn=Xr[14]/(Xr[10]-1),Es=Xr[14]/(Xr[10]+1),Qn=(Xr[9]+1)/Xr[5],xi=(Xr[9]-1)/Xr[5],Jn=(Xr[8]-1)/Xr[0],ki=(as[8]+1)/as[0],vi=hn*Jn,rr=hn*ki,Ur=Di/(-Jn+ki),yt=Ur*-Jn;Ai.matrixWorld.decompose(jn.position,jn.quaternion,jn.scale),jn.translateX(yt),jn.translateZ(Ur),jn.matrixWorld.compose(jn.position,jn.quaternion,jn.scale),jn.matrixWorldInverse.copy(jn.matrixWorld).invert();const He=hn+Ur,Tn=Es+Ur;jn.projectionMatrix.makePerspective(vi-yt,rr+(Di-yt),Qn*Es/Tn*He,xi*Es/Tn*He,He,Tn),jn.projectionMatrixInverse.copy(jn.projectionMatrix).invert()}(Me,Ze,_t):Me.projectionMatrix.copy(Ze.projectionMatrix),function wi(jn,Ai,Hi){null===Hi?jn.matrix.copy(Ai.matrixWorld):(jn.matrix.copy(Hi.matrixWorld),jn.matrix.invert(),jn.matrix.multiply(Ai.matrixWorld)),jn.matrix.decompose(jn.position,jn.quaternion,jn.scale),jn.updateMatrixWorld(!0),jn.projectionMatrix.copy(Ai.projectionMatrix),jn.projectionMatrixInverse.copy(Ai.projectionMatrixInverse),jn.isPerspectiveCamera&&(jn.fov=2*ti*Math.atan(1/jn.projectionMatrix.elements[5]),jn.zoom=1)}(jn,Me,Ai)},this.getCamera=function(){return Me},this.getFoveation=function(){if(null!==A||null!==R)return m},this.setFoveation=function(jn){m=jn,null!==A&&(A.fixedFoveation=jn),null!==R&&void 0!==R.fixedFoveation&&(R.fixedFoveation=jn)},this.hasDepthSensing=function(){return null!==Y.texture};let nr=null;const ps=new kp;ps.setAnimationLoop(function hs(jn,Ai){if(w=Ai.getViewerPose(v||d),B=Ai,null!==w){const Hi=w.views;null!==R&&(e.setRenderTargetFramebuffer(ue,R.framebuffer),e.setRenderTarget(ue));let Di=!1;Hi.length!==Me.cameras.length&&(Me.cameras.length=0,Di=!0);for(let as=0;as<Hi.length;as++){const hn=Hi[as];let Es=null;if(null!==R)Es=R.getViewport(hn);else{const xi=S.getViewSubImage(A,hn);Es=xi.viewport,0===as&&(e.setRenderTargetTextures(ue,xi.colorTexture,A.ignoreDepthValues?void 0:xi.depthStencilTexture),e.setRenderTarget(ue))}let Qn=Fe[as];void 0===Qn&&(Qn=new Xo,Qn.layers.enable(as),Qn.viewport=new js,Fe[as]=Qn),Qn.matrix.fromArray(hn.transform.matrix),Qn.matrix.decompose(Qn.position,Qn.quaternion,Qn.scale),Qn.projectionMatrix.fromArray(hn.projectionMatrix),Qn.projectionMatrixInverse.copy(Qn.projectionMatrix).invert(),Qn.viewport.set(Es.x,Es.y,Es.width,Es.height),0===as&&(Me.matrix.copy(Qn.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale)),!0===Di&&Me.cameras.push(Qn)}const Xr=o.enabledFeatures;if(Xr&&Xr.includes("depth-sensing")){const as=S.getDepthInformation(Hi[0]);as&&as.isValid&&as.texture&&Y.init(e,as,o.renderState)}}for(let Hi=0;Hi<re.length;Hi++){const Di=de[Hi],Xr=re[Hi];null!==Di&&void 0!==Xr&&Xr.update(Di,Ai,v||d)}Y.render(e,Me),nr&&nr(jn,Ai),Ai.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ai}),B=null}),this.setAnimationLoop=function(jn){nr=jn},this.dispose=function(){}}}const Tu=new Dr,Mb=new dr;function Cb(c,e){function n(H,U){!0===H.matrixAutoUpdate&&H.updateMatrix(),U.value.copy(H.matrix)}function l(H,U){H.opacity.value=U.opacity,U.color&&H.diffuse.value.copy(U.color),U.emissive&&H.emissive.value.copy(U.emissive).multiplyScalar(U.emissiveIntensity),U.map&&(H.map.value=U.map,n(U.map,H.mapTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.bumpMap&&(H.bumpMap.value=U.bumpMap,n(U.bumpMap,H.bumpMapTransform),H.bumpScale.value=U.bumpScale,1===U.side&&(H.bumpScale.value*=-1)),U.normalMap&&(H.normalMap.value=U.normalMap,n(U.normalMap,H.normalMapTransform),H.normalScale.value.copy(U.normalScale),1===U.side&&H.normalScale.value.negate()),U.displacementMap&&(H.displacementMap.value=U.displacementMap,n(U.displacementMap,H.displacementMapTransform),H.displacementScale.value=U.displacementScale,H.displacementBias.value=U.displacementBias),U.emissiveMap&&(H.emissiveMap.value=U.emissiveMap,n(U.emissiveMap,H.emissiveMapTransform)),U.specularMap&&(H.specularMap.value=U.specularMap,n(U.specularMap,H.specularMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest);const ue=e.get(U),re=ue.envMap,de=ue.envMapRotation;if(re&&(H.envMap.value=re,Tu.copy(de),Tu.x*=-1,Tu.y*=-1,Tu.z*=-1,re.isCubeTexture&&!1===re.isRenderTargetTexture&&(Tu.y*=-1,Tu.z*=-1),H.envMapRotation.value.setFromMatrix4(Mb.makeRotationFromEuler(Tu)),H.flipEnvMap.value=re.isCubeTexture&&!1===re.isRenderTargetTexture?-1:1,H.reflectivity.value=U.reflectivity,H.ior.value=U.ior,H.refractionRatio.value=U.refractionRatio),U.lightMap){H.lightMap.value=U.lightMap;const dt=!0===c._useLegacyLights?Math.PI:1;H.lightMapIntensity.value=U.lightMapIntensity*dt,n(U.lightMap,H.lightMapTransform)}U.aoMap&&(H.aoMap.value=U.aoMap,H.aoMapIntensity.value=U.aoMapIntensity,n(U.aoMap,H.aoMapTransform))}return{refreshFogUniforms:function r(H,U){U.color.getRGB(H.fogColor.value,Wg(c)),U.isFog?(H.fogNear.value=U.near,H.fogFar.value=U.far):U.isFogExp2&&(H.fogDensity.value=U.density)},refreshMaterialUniforms:function o(H,U,ue,re,de){U.isMeshBasicMaterial||U.isMeshLambertMaterial?l(H,U):U.isMeshToonMaterial?(l(H,U),function S(H,U){U.gradientMap&&(H.gradientMap.value=U.gradientMap)}(H,U)):U.isMeshPhongMaterial?(l(H,U),function w(H,U){H.specular.value.copy(U.specular),H.shininess.value=Math.max(U.shininess,1e-4)}(H,U)):U.isMeshStandardMaterial?(l(H,U),function A(H,U){H.metalness.value=U.metalness,U.metalnessMap&&(H.metalnessMap.value=U.metalnessMap,n(U.metalnessMap,H.metalnessMapTransform)),H.roughness.value=U.roughness,U.roughnessMap&&(H.roughnessMap.value=U.roughnessMap,n(U.roughnessMap,H.roughnessMapTransform)),U.envMap&&(H.envMapIntensity.value=U.envMapIntensity)}(H,U),U.isMeshPhysicalMaterial&&function R(H,U,ue){H.ior.value=U.ior,U.sheen>0&&(H.sheenColor.value.copy(U.sheenColor).multiplyScalar(U.sheen),H.sheenRoughness.value=U.sheenRoughness,U.sheenColorMap&&(H.sheenColorMap.value=U.sheenColorMap,n(U.sheenColorMap,H.sheenColorMapTransform)),U.sheenRoughnessMap&&(H.sheenRoughnessMap.value=U.sheenRoughnessMap,n(U.sheenRoughnessMap,H.sheenRoughnessMapTransform))),U.clearcoat>0&&(H.clearcoat.value=U.clearcoat,H.clearcoatRoughness.value=U.clearcoatRoughness,U.clearcoatMap&&(H.clearcoatMap.value=U.clearcoatMap,n(U.clearcoatMap,H.clearcoatMapTransform)),U.clearcoatRoughnessMap&&(H.clearcoatRoughnessMap.value=U.clearcoatRoughnessMap,n(U.clearcoatRoughnessMap,H.clearcoatRoughnessMapTransform)),U.clearcoatNormalMap&&(H.clearcoatNormalMap.value=U.clearcoatNormalMap,n(U.clearcoatNormalMap,H.clearcoatNormalMapTransform),H.clearcoatNormalScale.value.copy(U.clearcoatNormalScale),1===U.side&&H.clearcoatNormalScale.value.negate())),U.dispersion>0&&(H.dispersion.value=U.dispersion),U.iridescence>0&&(H.iridescence.value=U.iridescence,H.iridescenceIOR.value=U.iridescenceIOR,H.iridescenceThicknessMinimum.value=U.iridescenceThicknessRange[0],H.iridescenceThicknessMaximum.value=U.iridescenceThicknessRange[1],U.iridescenceMap&&(H.iridescenceMap.value=U.iridescenceMap,n(U.iridescenceMap,H.iridescenceMapTransform)),U.iridescenceThicknessMap&&(H.iridescenceThicknessMap.value=U.iridescenceThicknessMap,n(U.iridescenceThicknessMap,H.iridescenceThicknessMapTransform))),U.transmission>0&&(H.transmission.value=U.transmission,H.transmissionSamplerMap.value=ue.texture,H.transmissionSamplerSize.value.set(ue.width,ue.height),U.transmissionMap&&(H.transmissionMap.value=U.transmissionMap,n(U.transmissionMap,H.transmissionMapTransform)),H.thickness.value=U.thickness,U.thicknessMap&&(H.thicknessMap.value=U.thicknessMap,n(U.thicknessMap,H.thicknessMapTransform)),H.attenuationDistance.value=U.attenuationDistance,H.attenuationColor.value.copy(U.attenuationColor)),U.anisotropy>0&&(H.anisotropyVector.value.set(U.anisotropy*Math.cos(U.anisotropyRotation),U.anisotropy*Math.sin(U.anisotropyRotation)),U.anisotropyMap&&(H.anisotropyMap.value=U.anisotropyMap,n(U.anisotropyMap,H.anisotropyMapTransform))),H.specularIntensity.value=U.specularIntensity,H.specularColor.value.copy(U.specularColor),U.specularColorMap&&(H.specularColorMap.value=U.specularColorMap,n(U.specularColorMap,H.specularColorMapTransform)),U.specularIntensityMap&&(H.specularIntensityMap.value=U.specularIntensityMap,n(U.specularIntensityMap,H.specularIntensityMapTransform))}(H,U,de)):U.isMeshMatcapMaterial?(l(H,U),function B(H,U){U.matcap&&(H.matcap.value=U.matcap)}(H,U)):U.isMeshDepthMaterial?l(H,U):U.isMeshDistanceMaterial?(l(H,U),function Y(H,U){const ue=e.get(U).light;H.referencePosition.value.setFromMatrixPosition(ue.matrixWorld),H.nearDistance.value=ue.shadow.camera.near,H.farDistance.value=ue.shadow.camera.far}(H,U)):U.isMeshNormalMaterial?l(H,U):U.isLineBasicMaterial?(function d(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,U.map&&(H.map.value=U.map,n(U.map,H.mapTransform))}(H,U),U.isLineDashedMaterial&&function f(H,U){H.dashSize.value=U.dashSize,H.totalSize.value=U.dashSize+U.gapSize,H.scale.value=U.scale}(H,U)):U.isPointsMaterial?function m(H,U,ue,re){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.size.value=U.size*ue,H.scale.value=.5*re,U.map&&(H.map.value=U.map,n(U.map,H.uvTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest)}(H,U,ue,re):U.isSpriteMaterial?function v(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.rotation.value=U.rotation,U.map&&(H.map.value=U.map,n(U.map,H.mapTransform)),U.alphaMap&&(H.alphaMap.value=U.alphaMap,n(U.alphaMap,H.alphaMapTransform)),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest)}(H,U):U.isShadowMaterial?(H.color.value.copy(U.color),H.opacity.value=U.opacity):U.isShaderMaterial&&(U.uniformsNeedUpdate=!1)}}}function Ab(c,e,n,r){let o={},l={},d=[];const f=c.getParameter(c.MAX_UNIFORM_BUFFER_BINDINGS);function R(ue,re,de,dt){const Ge=ue.value,Ze=re+"_"+de;if(void 0===dt[Ze])return dt[Ze]="number"==typeof Ge||"boolean"==typeof Ge?Ge:Ge.clone(),!0;{const _t=dt[Ze];if("number"==typeof Ge||"boolean"==typeof Ge){if(_t!==Ge)return dt[Ze]=Ge,!0}else if(!1===_t.equals(Ge))return _t.copy(Ge),!0}return!1}function Y(ue){const re={boundary:0,storage:0};return"number"==typeof ue||"boolean"==typeof ue?(re.boundary=4,re.storage=4):ue.isVector2?(re.boundary=8,re.storage=8):ue.isVector3||ue.isColor?(re.boundary=16,re.storage=12):ue.isVector4?(re.boundary=16,re.storage=16):ue.isMatrix3?(re.boundary=48,re.storage=48):ue.isMatrix4?(re.boundary=64,re.storage=64):ue.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ue),re}function H(ue){const re=ue.target;re.removeEventListener("dispose",H);const de=d.indexOf(re.__bindingPointIndex);d.splice(de,1),c.deleteBuffer(o[re.id]),delete o[re.id],delete l[re.id]}return{bind:function m(ue,re){r.uniformBlockBinding(ue,re.program)},update:function v(ue,re){let de=o[ue.id];void 0===de&&(function B(ue){const re=ue.uniforms;let de=0;for(let Ze=0,_t=re.length;Ze<_t;Ze++){const Fe=Array.isArray(re[Ze])?re[Ze]:[re[Ze]];for(let Me=0,qt=Fe.length;Me<qt;Me++){const Sn=Fe[Me],kt=Array.isArray(Sn.value)?Sn.value:[Sn.value];for(let An=0,zn=kt.length;An<zn;An++){const Oi=Y(kt[An]),Bn=de%16;0!==Bn&&16-Bn<Oi.boundary&&(de+=16-Bn),Sn.__data=new Float32Array(Oi.storage/Float32Array.BYTES_PER_ELEMENT),Sn.__offset=de,de+=Oi.storage}}}const Ge=de%16;Ge>0&&(de+=16-Ge),ue.__size=de,ue.__cache={}}(ue),de=function w(ue){const re=function S(){for(let ue=0;ue<f;ue++)if(-1===d.indexOf(ue))return d.push(ue),ue;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();ue.__bindingPointIndex=re;const de=c.createBuffer(),dt=ue.__size,Ge=ue.usage;return c.bindBuffer(c.UNIFORM_BUFFER,de),c.bufferData(c.UNIFORM_BUFFER,dt,Ge),c.bindBuffer(c.UNIFORM_BUFFER,null),c.bindBufferBase(c.UNIFORM_BUFFER,re,de),de}(ue),o[ue.id]=de,ue.addEventListener("dispose",H)),r.updateUBOMapping(ue,re.program);const Ge=e.render.frame;l[ue.id]!==Ge&&(function A(ue){const de=ue.uniforms,dt=ue.__cache;c.bindBuffer(c.UNIFORM_BUFFER,o[ue.id]);for(let Ge=0,Ze=de.length;Ge<Ze;Ge++){const _t=Array.isArray(de[Ge])?de[Ge]:[de[Ge]];for(let Fe=0,Me=_t.length;Fe<Me;Fe++){const qt=_t[Fe];if(!0===R(qt,Ge,Fe,dt)){const Sn=qt.__offset,kt=Array.isArray(qt.value)?qt.value:[qt.value];let An=0;for(let zn=0;zn<kt.length;zn++){const Yn=kt[zn],Oi=Y(Yn);"number"==typeof Yn||"boolean"==typeof Yn?(qt.__data[0]=Yn,c.bufferSubData(c.UNIFORM_BUFFER,Sn+An,qt.__data)):Yn.isMatrix3?(qt.__data[0]=Yn.elements[0],qt.__data[1]=Yn.elements[1],qt.__data[2]=Yn.elements[2],qt.__data[3]=0,qt.__data[4]=Yn.elements[3],qt.__data[5]=Yn.elements[4],qt.__data[6]=Yn.elements[5],qt.__data[7]=0,qt.__data[8]=Yn.elements[6],qt.__data[9]=Yn.elements[7],qt.__data[10]=Yn.elements[8],qt.__data[11]=0):(Yn.toArray(qt.__data,An),An+=Oi.storage/Float32Array.BYTES_PER_ELEMENT)}c.bufferSubData(c.UNIFORM_BUFFER,Sn,qt.__data)}}}c.bindBuffer(c.UNIFORM_BUFFER,null)}(ue),l[ue.id]=Ge)},dispose:function U(){for(const ue in o)c.deleteBuffer(o[ue]);d=[],o={},l={}}}}class bm{constructor(e={}){const{canvas:n=zc(),context:r=null,depth:o=!0,stencil:l=!1,alpha:d=!1,antialias:f=!1,premultipliedAlpha:m=!0,preserveDrawingBuffer:v=!1,powerPreference:w="default",failIfMajorPerformanceCaveat:S=!1}=e;let A;if(this.isWebGLRenderer=!0,null!==r){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");A=r.getContextAttributes().alpha}else A=d;const R=new Uint32Array(4),B=new Int32Array(4);let Y=null,H=null;const U=[],ue=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xt,this._useLegacyLights=!1,this.toneMapping=sr,this.toneMappingExposure=1;const re=this;let de=!1,dt=0,Ge=0,Ze=null,_t=-1,Fe=null;const Me=new js,qt=new js;let Sn=null;const kt=new yi(0);let An=0,zn=n.width,Yn=n.height,Oi=1,Bn=null,bi=null;const wi=new js(0,0,zn,Yn),nr=new js(0,0,zn,Yn);let hs=!1;const ps=new ch;let jn=!1,Ai=!1;const Hi=new dr,Di=new it,Xr={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function as(){return null===Ze?Oi:1}let Qn,xi,Jn,ki,vi,rr,Ur,yt,He,Tn,ei,mi,li,Pr,$i,Vi,ls,Li,Ir,As,Gr,Yi,Ss,Ns,hn=r;function Es(tt,yn){return n.getContext(tt,yn)}try{const tt={alpha:!0,depth:o,stencil:l,antialias:f,premultipliedAlpha:m,preserveDrawingBuffer:v,powerPreference:w,failIfMajorPerformanceCaveat:S};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r164"),n.addEventListener("webglcontextlost",Te,!1),n.addEventListener("webglcontextrestored",gn,!1),n.addEventListener("webglcontextcreationerror",Mn,!1),null===hn){const yn="webgl2";if(hn=Es(yn,tt),null===hn)throw Es(yn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(tt){throw console.error("THREE.WebGLRenderer: "+tt.message),tt}function mo(){Qn=new Lv(hn),Qn.init(),Yi=new mE(hn,Qn),xi=new Av(hn,Qn,e,Yi),Jn=new bb(hn),ki=new iE(hn),vi=new n0,rr=new c0(hn,Qn,Jn,vi,xi,Yi,ki),Ur=new Dv(re),yt=new V_(re),He=new Jy(hn),Ss=new U_(hn,He),Tn=new sm(hn,He,ki,Ss),ei=new H_(hn,Tn,He,ki),Ir=new z_(hn,xi,rr),Vi=new Tv(vi),mi=new hb(re,Ur,yt,Qn,xi,Ss,Vi),li=new Cb(re,vi),Pr=new a0,$i=new gb(Qn),Li=new k_(re,Ur,yt,Jn,ei,A,m),ls=new _b(re,ei,xi),Ns=new Ab(hn,ki,xi,Jn),As=new B_(hn,Qn,ki),Gr=new nE(hn,Qn,ki),ki.programs=mi.programs,re.capabilities=xi,re.extensions=Qn,re.properties=vi,re.renderLists=Pr,re.shadowMap=ls,re.state=Jn,re.info=ki}mo();const Ts=new Sb(re,hn);function Te(tt){tt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),de=!0}function gn(){console.log("THREE.WebGLRenderer: Context Restored."),de=!1;const tt=ki.autoReset,yn=ls.enabled,Fn=ls.autoUpdate,On=ls.needsUpdate,Dn=ls.type;mo(),ki.autoReset=tt,ls.enabled=yn,ls.autoUpdate=Fn,ls.needsUpdate=On,ls.type=Dn}function Mn(tt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",tt.statusMessage)}function fi(tt){const yn=tt.target;yn.removeEventListener("dispose",fi),function Ri(tt){(function bs(tt){const yn=vi.get(tt).programs;void 0!==yn&&(yn.forEach(function(Fn){mi.releaseProgram(Fn)}),tt.isShaderMaterial&&mi.releaseShaderCache(tt))})(tt),vi.remove(tt)}(yn)}function gs(tt,yn,Fn){!0===tt.transparent&&2===tt.side&&!1===tt.forceSinglePass?(tt.side=1,tt.needsUpdate=!0,Jf(tt,yn,Fn),tt.side=0,tt.needsUpdate=!0,Jf(tt,yn,Fn),tt.side=2):Jf(tt,yn,Fn)}this.xr=Ts,this.getContext=function(){return hn},this.getContextAttributes=function(){return hn.getContextAttributes()},this.forceContextLoss=function(){const tt=Qn.get("WEBGL_lose_context");tt&&tt.loseContext()},this.forceContextRestore=function(){const tt=Qn.get("WEBGL_lose_context");tt&&tt.restoreContext()},this.getPixelRatio=function(){return Oi},this.setPixelRatio=function(tt){void 0!==tt&&(Oi=tt,this.setSize(zn,Yn,!1))},this.getSize=function(tt){return tt.set(zn,Yn)},this.setSize=function(tt,yn,Fn=!0){Ts.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(zn=tt,Yn=yn,n.width=Math.floor(tt*Oi),n.height=Math.floor(yn*Oi),!0===Fn&&(n.style.width=tt+"px",n.style.height=yn+"px"),this.setViewport(0,0,tt,yn))},this.getDrawingBufferSize=function(tt){return tt.set(zn*Oi,Yn*Oi).floor()},this.setDrawingBufferSize=function(tt,yn,Fn){zn=tt,Yn=yn,Oi=Fn,n.width=Math.floor(tt*Fn),n.height=Math.floor(yn*Fn),this.setViewport(0,0,tt,yn)},this.getCurrentViewport=function(tt){return tt.copy(Me)},this.getViewport=function(tt){return tt.copy(wi)},this.setViewport=function(tt,yn,Fn,On){tt.isVector4?wi.set(tt.x,tt.y,tt.z,tt.w):wi.set(tt,yn,Fn,On),Jn.viewport(Me.copy(wi).multiplyScalar(Oi).round())},this.getScissor=function(tt){return tt.copy(nr)},this.setScissor=function(tt,yn,Fn,On){tt.isVector4?nr.set(tt.x,tt.y,tt.z,tt.w):nr.set(tt,yn,Fn,On),Jn.scissor(qt.copy(nr).multiplyScalar(Oi).round())},this.getScissorTest=function(){return hs},this.setScissorTest=function(tt){Jn.setScissorTest(hs=tt)},this.setOpaqueSort=function(tt){Bn=tt},this.setTransparentSort=function(tt){bi=tt},this.getClearColor=function(tt){return tt.copy(Li.getClearColor())},this.setClearColor=function(){Li.setClearColor.apply(Li,arguments)},this.getClearAlpha=function(){return Li.getClearAlpha()},this.setClearAlpha=function(){Li.setClearAlpha.apply(Li,arguments)},this.clear=function(tt=!0,yn=!0,Fn=!0){let On=0;if(tt){let Dn=!1;if(null!==Ze){const Zi=Ze.texture.format;Dn=1033===Zi||1031===Zi||1029===Zi}if(Dn){const Zi=Ze.texture.type,Er=Zi===L||Zi===he||1012===Zi||Zi===Pt||1017===Zi||1018===Zi,Sr=Li.getClearColor(),Br=Li.getClearAlpha(),ms=Sr.r,Ds=Sr.g,Is=Sr.b;Er?(R[0]=ms,R[1]=Ds,R[2]=Is,R[3]=Br,hn.clearBufferuiv(hn.COLOR,0,R)):(B[0]=ms,B[1]=Ds,B[2]=Is,B[3]=Br,hn.clearBufferiv(hn.COLOR,0,B))}else On|=hn.COLOR_BUFFER_BIT}yn&&(On|=hn.DEPTH_BUFFER_BIT),Fn&&(On|=hn.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),hn.clear(On)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Te,!1),n.removeEventListener("webglcontextrestored",gn,!1),n.removeEventListener("webglcontextcreationerror",Mn,!1),Pr.dispose(),$i.dispose(),vi.dispose(),Ur.dispose(),yt.dispose(),ei.dispose(),Ss.dispose(),Ns.dispose(),mi.dispose(),Ts.dispose(),Ts.removeEventListener("sessionstart",Hs),Ts.removeEventListener("sessionend",Do),fo.stop()},this.renderBufferDirect=function(tt,yn,Fn,On,Dn,Zi){null===yn&&(yn=Xr);const Er=Dn.isMesh&&Dn.matrixWorld.determinant()<0,Sr=function xy(tt,yn,Fn,On,Dn){!0!==yn.isScene&&(yn=Xr),rr.resetTextureUnits();const Zi=yn.fog,Sr=null===Ze?re.outputColorSpace:!0===Ze.isXRRenderTarget?Ze.texture.colorSpace:At,Br=(On.isMeshStandardMaterial?yt:Ur).get(On.envMap||(On.isMeshStandardMaterial?yn.environment:null)),ms=!0===On.vertexColors&&!!Fn.attributes.color&&4===Fn.attributes.color.itemSize,Ds=!!Fn.attributes.tangent&&(!!On.normalMap||On.anisotropy>0),Is=!!Fn.morphAttributes.position,da=!!Fn.morphAttributes.normal,$a=!!Fn.morphAttributes.color;let gl=sr;On.toneMapped&&(null===Ze||!0===Ze.isXRRenderTarget)&&(gl=re.toneMapping);const Rc=Fn.morphAttributes.position||Fn.morphAttributes.normal||Fn.morphAttributes.color,ao=void 0!==Rc?Rc.length:0,ws=vi.get(On),Bo=H.state.lights;!0!==jn||!0!==Ai&&tt===Fe||Vi.setState(On,tt,tt===Fe&&On.id===_t);let Io=!1;On.version===ws.__version?(ws.needsLights&&ws.lightsStateVersion!==Bo.state.version||ws.outputColorSpace!==Sr||Dn.isBatchedMesh&&!1===ws.batching||!Dn.isBatchedMesh&&!0===ws.batching||Dn.isInstancedMesh&&!1===ws.instancing||!Dn.isInstancedMesh&&!0===ws.instancing||Dn.isSkinnedMesh&&!1===ws.skinning||!Dn.isSkinnedMesh&&!0===ws.skinning||Dn.isInstancedMesh&&!0===ws.instancingColor&&null===Dn.instanceColor||Dn.isInstancedMesh&&!1===ws.instancingColor&&null!==Dn.instanceColor||Dn.isInstancedMesh&&!0===ws.instancingMorph&&null===Dn.morphTexture||Dn.isInstancedMesh&&!1===ws.instancingMorph&&null!==Dn.morphTexture||ws.envMap!==Br||!0===On.fog&&ws.fog!==Zi||void 0!==ws.numClippingPlanes&&(ws.numClippingPlanes!==Vi.numPlanes||ws.numIntersection!==Vi.numIntersection)||ws.vertexAlphas!==ms||ws.vertexTangents!==Ds||ws.morphTargets!==Is||ws.morphNormals!==da||ws.morphColors!==$a||ws.toneMapping!==gl||ws.morphTargetsCount!==ao)&&(Io=!0):(Io=!0,ws.__version=On.version);let Qu=ws.currentProgram;!0===Io&&(Qu=Jf(On,yn,Dn));let My=!1,Vd=!1,Dg=!1;const Ca=Qu.getUniforms(),Pc=ws.uniforms;if(Jn.useProgram(Qu.program)&&(My=!0,Vd=!0,Dg=!0),On.id!==_t&&(_t=On.id,Vd=!0),My||Fe!==tt){Ca.setValue(hn,"projectionMatrix",tt.projectionMatrix),Ca.setValue(hn,"viewMatrix",tt.matrixWorldInverse);const Tl=Ca.map.cameraPosition;void 0!==Tl&&Tl.setValue(hn,Di.setFromMatrixPosition(tt.matrixWorld)),xi.logarithmicDepthBuffer&&Ca.setValue(hn,"logDepthBufFC",2/(Math.log(tt.far+1)/Math.LN2)),(On.isMeshPhongMaterial||On.isMeshToonMaterial||On.isMeshLambertMaterial||On.isMeshBasicMaterial||On.isMeshStandardMaterial||On.isShaderMaterial)&&Ca.setValue(hn,"isOrthographic",!0===tt.isOrthographicCamera),Fe!==tt&&(Fe=tt,Vd=!0,Dg=!0)}if(Dn.isSkinnedMesh){Ca.setOptional(hn,Dn,"bindMatrix"),Ca.setOptional(hn,Dn,"bindMatrixInverse");const Tl=Dn.skeleton;Tl&&(null===Tl.boneTexture&&Tl.computeBoneTexture(),Ca.setValue(hn,"boneTexture",Tl.boneTexture,rr))}Dn.isBatchedMesh&&(Ca.setOptional(hn,Dn,"batchingTexture"),Ca.setValue(hn,"batchingTexture",Dn._matricesTexture,rr));const au=Fn.morphAttributes;if((void 0!==au.position||void 0!==au.normal||void 0!==au.color)&&Ir.update(Dn,Fn,Qu),(Vd||ws.receiveShadow!==Dn.receiveShadow)&&(ws.receiveShadow=Dn.receiveShadow,Ca.setValue(hn,"receiveShadow",Dn.receiveShadow)),On.isMeshGouraudMaterial&&null!==On.envMap&&(Pc.envMap.value=Br,Pc.flipEnvMap.value=Br.isCubeTexture&&!1===Br.isRenderTargetTexture?-1:1),On.isMeshStandardMaterial&&null===On.envMap&&null!==yn.environment&&(Pc.envMapIntensity.value=yn.environmentIntensity),Vd&&(Ca.setValue(hn,"toneMappingExposure",re.toneMappingExposure),ws.needsLights&&function Ey(tt,yn){tt.ambientLightColor.needsUpdate=yn,tt.lightProbe.needsUpdate=yn,tt.directionalLights.needsUpdate=yn,tt.directionalLightShadows.needsUpdate=yn,tt.pointLights.needsUpdate=yn,tt.pointLightShadows.needsUpdate=yn,tt.spotLights.needsUpdate=yn,tt.spotLightShadows.needsUpdate=yn,tt.rectAreaLights.needsUpdate=yn,tt.hemisphereLights.needsUpdate=yn}(Pc,Dg),Zi&&!0===On.fog&&li.refreshFogUniforms(Pc,Zi),li.refreshMaterialUniforms(Pc,On,Oi,Yn,H.state.transmissionRenderTarget[tt.id]),Nh.upload(hn,Ag(ws),Pc,rr)),On.isShaderMaterial&&!0===On.uniformsNeedUpdate&&(Nh.upload(hn,Ag(ws),Pc,rr),On.uniformsNeedUpdate=!1),On.isSpriteMaterial&&Ca.setValue(hn,"center",Dn.center),Ca.setValue(hn,"modelViewMatrix",Dn.modelViewMatrix),Ca.setValue(hn,"normalMatrix",Dn.normalMatrix),Ca.setValue(hn,"modelMatrix",Dn.matrixWorld),On.isShaderMaterial||On.isRawShaderMaterial){const Tl=On.uniformsGroups;for(let Ig=0,Cy=Tl.length;Ig<Cy;Ig++){const Ay=Tl[Ig];Ns.update(Ay,Qu),Ns.bind(Ay,Qu)}}return Qu}(tt,yn,Fn,On,Dn);Jn.setMaterial(On,Er);let Br=Fn.index,ms=1;if(!0===On.wireframe){if(Br=Tn.getWireframeAttribute(Fn),void 0===Br)return;ms=2}const Ds=Fn.drawRange,Is=Fn.attributes.position;let da=Ds.start*ms,$a=(Ds.start+Ds.count)*ms;null!==Zi&&(da=Math.max(da,Zi.start*ms),$a=Math.min($a,(Zi.start+Zi.count)*ms)),null!==Br?(da=Math.max(da,0),$a=Math.min($a,Br.count)):null!=Is&&(da=Math.max(da,0),$a=Math.min($a,Is.count));const gl=$a-da;if(gl<0||gl===1/0)return;Ss.setup(Dn,On,Sr,Fn,Br);let Rc,ao=As;if(null!==Br&&(Rc=He.get(Br),ao=Gr,ao.setIndex(Rc)),Dn.isMesh)!0===On.wireframe?(Jn.setLineWidth(On.wireframeLinewidth*as()),ao.setMode(hn.LINES)):ao.setMode(hn.TRIANGLES);else if(Dn.isLine){let ws=On.linewidth;void 0===ws&&(ws=1),Jn.setLineWidth(ws*as()),ao.setMode(Dn.isLineSegments?hn.LINES:Dn.isLineLoop?hn.LINE_LOOP:hn.LINE_STRIP)}else Dn.isPoints?ao.setMode(hn.POINTS):Dn.isSprite&&ao.setMode(hn.TRIANGLES);if(Dn.isBatchedMesh)null!==Dn._multiDrawInstances?ao.renderMultiDrawInstances(Dn._multiDrawStarts,Dn._multiDrawCounts,Dn._multiDrawCount,Dn._multiDrawInstances):ao.renderMultiDraw(Dn._multiDrawStarts,Dn._multiDrawCounts,Dn._multiDrawCount);else if(Dn.isInstancedMesh)ao.renderInstances(da,gl,Dn.count);else if(Fn.isInstancedBufferGeometry){const Bo=Math.min(Fn.instanceCount,void 0!==Fn._maxInstanceCount?Fn._maxInstanceCount:1/0);ao.renderInstances(da,gl,Bo)}else ao.render(da,gl)},this.compile=function(tt,yn,Fn=null){null===Fn&&(Fn=tt),H=$i.get(Fn),H.init(yn),ue.push(H),Fn.traverseVisible(function(Dn){Dn.isLight&&Dn.layers.test(yn.layers)&&(H.pushLight(Dn),Dn.castShadow&&H.pushShadow(Dn))}),tt!==Fn&&tt.traverseVisible(function(Dn){Dn.isLight&&Dn.layers.test(yn.layers)&&(H.pushLight(Dn),Dn.castShadow&&H.pushShadow(Dn))}),H.setupLights(re._useLegacyLights);const On=new Set;return tt.traverse(function(Dn){const Zi=Dn.material;if(Zi)if(Array.isArray(Zi))for(let Er=0;Er<Zi.length;Er++){const Sr=Zi[Er];gs(Sr,Fn,Dn),On.add(Sr)}else gs(Zi,Fn,Dn),On.add(Zi)}),ue.pop(),H=null,On},this.compileAsync=function(tt,yn,Fn=null){const On=this.compile(tt,yn,Fn);return new Promise(Dn=>{function Zi(){On.forEach(function(Er){vi.get(Er).currentProgram.isReady()&&On.delete(Er)}),0!==On.size?setTimeout(Zi,10):Dn(tt)}null!==Qn.get("KHR_parallel_shader_compile")?Zi():setTimeout(Zi,10)})};let To=null;function Hs(){fo.stop()}function Do(){fo.start()}const fo=new kp;function pl(tt,yn,Fn,On){if(!1===tt.visible)return;if(tt.layers.test(yn.layers))if(tt.isGroup)Fn=tt.renderOrder;else if(tt.isLOD)!0===tt.autoUpdate&&tt.update(yn);else if(tt.isLight)H.pushLight(tt),tt.castShadow&&H.pushShadow(tt);else if(tt.isSprite){if(!tt.frustumCulled||ps.intersectsSprite(tt)){On&&Di.setFromMatrixPosition(tt.matrixWorld).applyMatrix4(Hi);const Er=ei.update(tt),Sr=tt.material;Sr.visible&&Y.push(tt,Er,Sr,Fn,Di.z,null)}}else if((tt.isMesh||tt.isLine||tt.isPoints)&&(!tt.frustumCulled||ps.intersectsObject(tt))){const Er=ei.update(tt),Sr=tt.material;if(On&&(void 0!==tt.boundingSphere?(null===tt.boundingSphere&&tt.computeBoundingSphere(),Di.copy(tt.boundingSphere.center)):(null===Er.boundingSphere&&Er.computeBoundingSphere(),Di.copy(Er.boundingSphere.center)),Di.applyMatrix4(tt.matrixWorld).applyMatrix4(Hi)),Array.isArray(Sr)){const Br=Er.groups;for(let ms=0,Ds=Br.length;ms<Ds;ms++){const Is=Br[ms],da=Sr[Is.materialIndex];da&&da.visible&&Y.push(tt,Er,da,Fn,Di.z,Is)}}else Sr.visible&&Y.push(tt,Er,Sr,Fn,Di.z,null)}const Zi=tt.children;for(let Er=0,Sr=Zi.length;Er<Sr;Er++)pl(Zi[Er],yn,Fn,On)}function Ma(tt,yn,Fn,On){const Dn=tt.opaque,Zi=tt.transmissive,Er=tt.transparent;H.setupLightsView(Fn),!0===jn&&Vi.setGlobalState(re.clippingPlanes,Fn),On&&Jn.viewport(Me.copy(On)),Dn.length>0&&il(Dn,yn,Fn),Zi.length>0&&il(Zi,yn,Fn),Er.length>0&&il(Er,yn,Fn),Jn.buffers.depth.setTest(!0),Jn.buffers.depth.setMask(!0),Jn.buffers.color.setMask(!0),Jn.setPolygonOffset(!1)}function ml(tt,yn,Fn,On){if(null!==(!0===Fn.isScene?Fn.overrideMaterial:null))return;void 0===H.state.transmissionRenderTarget[On.id]&&(H.state.transmissionRenderTarget[On.id]=new Co(1,1,{generateMipmaps:!0,type:Qn.has("EXT_color_buffer_half_float")||Qn.has("EXT_color_buffer_float")?1016:L,minFilter:we,samples:4,stencilBuffer:l,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const Zi=H.state.transmissionRenderTarget[On.id],Er=On.viewport||Me;Zi.setSize(Er.z,Er.w);const Sr=re.getRenderTarget();re.setRenderTarget(Zi),re.getClearColor(kt),An=re.getClearAlpha(),An<1&&re.setClearColor(16777215,.5),re.clear();const Br=re.toneMapping;re.toneMapping=sr;const ms=On.viewport;if(void 0!==On.viewport&&(On.viewport=void 0),H.setupLightsView(On),!0===jn&&Vi.setGlobalState(re.clippingPlanes,On),il(tt,Fn,On),rr.updateMultisampleRenderTarget(Zi),rr.updateRenderTargetMipmap(Zi),!1===Qn.has("WEBGL_multisampled_render_to_texture")){let Ds=!1;for(let Is=0,da=yn.length;Is<da;Is++){const $a=yn[Is],gl=$a.object,Rc=$a.geometry,ao=$a.material,ws=$a.group;if(2===ao.side&&gl.layers.test(On.layers)){const Bo=ao.side;ao.side=1,ao.needsUpdate=!0,sc(gl,Fn,On,Rc,ao,ws),ao.side=Bo,ao.needsUpdate=!0,Ds=!0}}!0===Ds&&(rr.updateMultisampleRenderTarget(Zi),rr.updateRenderTargetMipmap(Zi))}re.setRenderTarget(Sr),re.setClearColor(kt,An),void 0!==ms&&(On.viewport=ms),re.toneMapping=Br}function il(tt,yn,Fn){const On=!0===yn.isScene?yn.overrideMaterial:null;for(let Dn=0,Zi=tt.length;Dn<Zi;Dn++){const Er=tt[Dn],Sr=Er.object,Br=Er.geometry,ms=null===On?Er.material:On,Ds=Er.group;Sr.layers.test(Fn.layers)&&sc(Sr,yn,Fn,Br,ms,Ds)}}function sc(tt,yn,Fn,On,Dn,Zi){tt.onBeforeRender(re,yn,Fn,On,Dn,Zi),tt.modelViewMatrix.multiplyMatrices(Fn.matrixWorldInverse,tt.matrixWorld),tt.normalMatrix.getNormalMatrix(tt.modelViewMatrix),Dn.onBeforeRender(re,yn,Fn,On,tt,Zi),!0===Dn.transparent&&2===Dn.side&&!1===Dn.forceSinglePass?(Dn.side=1,Dn.needsUpdate=!0,re.renderBufferDirect(Fn,yn,On,Dn,tt,Zi),Dn.side=0,Dn.needsUpdate=!0,re.renderBufferDirect(Fn,yn,On,Dn,tt,Zi),Dn.side=2):re.renderBufferDirect(Fn,yn,On,Dn,tt,Zi),tt.onAfterRender(re,yn,Fn,On,Dn,Zi)}function Jf(tt,yn,Fn){!0!==yn.isScene&&(yn=Xr);const On=vi.get(tt),Dn=H.state.lights,Er=Dn.state.version,Sr=mi.getParameters(tt,Dn.state,H.state.shadowsArray,yn,Fn),Br=mi.getProgramCacheKey(Sr);let ms=On.programs;On.environment=tt.isMeshStandardMaterial?yn.environment:null,On.fog=yn.fog,On.envMap=(tt.isMeshStandardMaterial?yt:Ur).get(tt.envMap||On.environment),On.envMapRotation=null!==On.environment&&null===tt.envMap?yn.environmentRotation:tt.envMapRotation,void 0===ms&&(tt.addEventListener("dispose",fi),ms=new Map,On.programs=ms);let Ds=ms.get(Br);if(void 0!==Ds){if(On.currentProgram===Ds&&On.lightsStateVersion===Er)return Tg(tt,Sr),Ds}else Sr.uniforms=mi.getUniforms(tt),tt.onBuild(Fn,Sr,re),tt.onBeforeCompile(Sr,re),Ds=mi.acquireProgram(Sr,Br),ms.set(Br,Ds),On.uniforms=Sr.uniforms;const Is=On.uniforms;return(!tt.isShaderMaterial&&!tt.isRawShaderMaterial||!0===tt.clipping)&&(Is.clippingPlanes=Vi.uniform),Tg(tt,Sr),On.needsLights=function Sy(tt){return tt.isMeshLambertMaterial||tt.isMeshToonMaterial||tt.isMeshPhongMaterial||tt.isMeshStandardMaterial||tt.isShadowMaterial||tt.isShaderMaterial&&!0===tt.lights}(tt),On.lightsStateVersion=Er,On.needsLights&&(Is.ambientLightColor.value=Dn.state.ambient,Is.lightProbe.value=Dn.state.probe,Is.directionalLights.value=Dn.state.directional,Is.directionalLightShadows.value=Dn.state.directionalShadow,Is.spotLights.value=Dn.state.spot,Is.spotLightShadows.value=Dn.state.spotShadow,Is.rectAreaLights.value=Dn.state.rectArea,Is.ltc_1.value=Dn.state.rectAreaLTC1,Is.ltc_2.value=Dn.state.rectAreaLTC2,Is.pointLights.value=Dn.state.point,Is.pointLightShadows.value=Dn.state.pointShadow,Is.hemisphereLights.value=Dn.state.hemi,Is.directionalShadowMap.value=Dn.state.directionalShadowMap,Is.directionalShadowMatrix.value=Dn.state.directionalShadowMatrix,Is.spotShadowMap.value=Dn.state.spotShadowMap,Is.spotLightMatrix.value=Dn.state.spotLightMatrix,Is.spotLightMap.value=Dn.state.spotLightMap,Is.pointShadowMap.value=Dn.state.pointShadowMap,Is.pointShadowMatrix.value=Dn.state.pointShadowMatrix),On.currentProgram=Ds,On.uniformsList=null,Ds}function Ag(tt){if(null===tt.uniformsList){const yn=tt.currentProgram.getUniforms();tt.uniformsList=Nh.seqWithValue(yn.seq,tt.uniforms)}return tt.uniformsList}function Tg(tt,yn){const Fn=vi.get(tt);Fn.outputColorSpace=yn.outputColorSpace,Fn.batching=yn.batching,Fn.instancing=yn.instancing,Fn.instancingColor=yn.instancingColor,Fn.instancingMorph=yn.instancingMorph,Fn.skinning=yn.skinning,Fn.morphTargets=yn.morphTargets,Fn.morphNormals=yn.morphNormals,Fn.morphColors=yn.morphColors,Fn.morphTargetsCount=yn.morphTargetsCount,Fn.numClippingPlanes=yn.numClippingPlanes,Fn.numIntersection=yn.numClipIntersection,Fn.vertexAlphas=yn.vertexAlphas,Fn.vertexTangents=yn.vertexTangents,Fn.toneMapping=yn.toneMapping}fo.setAnimationLoop(function Uo(tt){To&&To(tt)}),typeof self<"u"&&fo.setContext(self),this.setAnimationLoop=function(tt){To=tt,Ts.setAnimationLoop(tt),null===tt?fo.stop():fo.start()},Ts.addEventListener("sessionstart",Hs),Ts.addEventListener("sessionend",Do),this.render=function(tt,yn){if(void 0!==yn&&!0!==yn.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===de)return;!0===tt.matrixWorldAutoUpdate&&tt.updateMatrixWorld(),null===yn.parent&&!0===yn.matrixWorldAutoUpdate&&yn.updateMatrixWorld(),!0===Ts.enabled&&!0===Ts.isPresenting&&(!0===Ts.cameraAutoUpdate&&Ts.updateCamera(yn),yn=Ts.getCamera()),!0===tt.isScene&&tt.onBeforeRender(re,tt,yn,Ze),H=$i.get(tt,ue.length),H.init(yn),ue.push(H),Hi.multiplyMatrices(yn.projectionMatrix,yn.matrixWorldInverse),ps.setFromProjectionMatrix(Hi),Ai=this.localClippingEnabled,jn=Vi.init(this.clippingPlanes,Ai),Y=Pr.get(tt,U.length),Y.init(),U.push(Y),pl(tt,yn,0,re.sortObjects),Y.finish(),!0===re.sortObjects&&Y.sort(Bn,bi);const Fn=!1===Ts.enabled||!1===Ts.isPresenting||!1===Ts.hasDepthSensing();Fn&&Li.addToRenderList(Y,tt),this.info.render.frame++,!0===jn&&Vi.beginShadows(),ls.render(H.state.shadowsArray,tt,yn),!0===jn&&Vi.endShadows(),!0===this.info.autoReset&&this.info.reset();const Dn=Y.opaque,Zi=Y.transmissive;if(H.setupLights(re._useLegacyLights),yn.isArrayCamera){const Er=yn.cameras;if(Zi.length>0)for(let Sr=0,Br=Er.length;Sr<Br;Sr++)ml(Dn,Zi,tt,Er[Sr]);Fn&&Li.render(tt);for(let Sr=0,Br=Er.length;Sr<Br;Sr++){const ms=Er[Sr];Ma(Y,tt,ms,ms.viewport)}}else Zi.length>0&&ml(Dn,Zi,tt,yn),Fn&&Li.render(tt),Ma(Y,tt,yn);null!==Ze&&(rr.updateMultisampleRenderTarget(Ze),rr.updateRenderTargetMipmap(Ze)),!0===tt.isScene&&tt.onAfterRender(re,tt,yn),Ss.resetDefaultState(),_t=-1,Fe=null,ue.pop(),ue.length>0?(H=ue[ue.length-1],!0===jn&&Vi.setGlobalState(re.clippingPlanes,H.state.camera)):H=null,U.pop(),Y=U.length>0?U[U.length-1]:null},this.getActiveCubeFace=function(){return dt},this.getActiveMipmapLevel=function(){return Ge},this.getRenderTarget=function(){return Ze},this.setRenderTargetTextures=function(tt,yn,Fn){vi.get(tt.texture).__webglTexture=yn,vi.get(tt.depthTexture).__webglTexture=Fn;const On=vi.get(tt);On.__hasExternalTextures=!0,On.__autoAllocateDepthBuffer=void 0===Fn,On.__autoAllocateDepthBuffer||!0===Qn.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),On.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(tt,yn){const Fn=vi.get(tt);Fn.__webglFramebuffer=yn,Fn.__useDefaultFramebuffer=void 0===yn},this.setRenderTarget=function(tt,yn=0,Fn=0){Ze=tt,dt=yn,Ge=Fn;let On=!0,Dn=null,Zi=!1,Er=!1;if(tt){const Br=vi.get(tt);void 0!==Br.__useDefaultFramebuffer?(Jn.bindFramebuffer(hn.FRAMEBUFFER,null),On=!1):void 0===Br.__webglFramebuffer?rr.setupRenderTarget(tt):Br.__hasExternalTextures&&rr.rebindTextures(tt,vi.get(tt.texture).__webglTexture,vi.get(tt.depthTexture).__webglTexture);const ms=tt.texture;(ms.isData3DTexture||ms.isDataArrayTexture||ms.isCompressedArrayTexture)&&(Er=!0);const Ds=vi.get(tt).__webglFramebuffer;tt.isWebGLCubeRenderTarget?(Dn=Array.isArray(Ds[yn])?Ds[yn][Fn]:Ds[yn],Zi=!0):Dn=tt.samples>0&&!1===rr.useMultisampledRTT(tt)?vi.get(tt).__webglMultisampledFramebuffer:Array.isArray(Ds)?Ds[Fn]:Ds,Me.copy(tt.viewport),qt.copy(tt.scissor),Sn=tt.scissorTest}else Me.copy(wi).multiplyScalar(Oi).floor(),qt.copy(nr).multiplyScalar(Oi).floor(),Sn=hs;if(Jn.bindFramebuffer(hn.FRAMEBUFFER,Dn)&&On&&Jn.drawBuffers(tt,Dn),Jn.viewport(Me),Jn.scissor(qt),Jn.setScissorTest(Sn),Zi){const Br=vi.get(tt.texture);hn.framebufferTexture2D(hn.FRAMEBUFFER,hn.COLOR_ATTACHMENT0,hn.TEXTURE_CUBE_MAP_POSITIVE_X+yn,Br.__webglTexture,Fn)}else if(Er){const Br=vi.get(tt.texture);hn.framebufferTextureLayer(hn.FRAMEBUFFER,hn.COLOR_ATTACHMENT0,Br.__webglTexture,Fn||0,yn||0)}_t=-1},this.readRenderTargetPixels=function(tt,yn,Fn,On,Dn,Zi,Er){if(!tt||!tt.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Sr=vi.get(tt).__webglFramebuffer;if(tt.isWebGLCubeRenderTarget&&void 0!==Er&&(Sr=Sr[Er]),Sr){Jn.bindFramebuffer(hn.FRAMEBUFFER,Sr);try{const Br=tt.texture,ms=Br.format,Ds=Br.type;if(!xi.textureFormatReadable(ms))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!xi.textureTypeReadable(Ds))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");yn>=0&&yn<=tt.width-On&&Fn>=0&&Fn<=tt.height-Dn&&hn.readPixels(yn,Fn,On,Dn,Yi.convert(ms),Yi.convert(Ds),Zi)}finally{const Br=null!==Ze?vi.get(Ze).__webglFramebuffer:null;Jn.bindFramebuffer(hn.FRAMEBUFFER,Br)}}},this.copyFramebufferToTexture=function(tt,yn,Fn=0){const On=Math.pow(2,-Fn),Dn=Math.floor(yn.image.width*On),Zi=Math.floor(yn.image.height*On);rr.setTexture2D(yn,0),hn.copyTexSubImage2D(hn.TEXTURE_2D,Fn,0,0,tt.x,tt.y,Dn,Zi),Jn.unbindTexture()},this.copyTextureToTexture=function(tt,yn,Fn,On=0){const Dn=yn.image.width,Zi=yn.image.height,Er=Yi.convert(Fn.format),Sr=Yi.convert(Fn.type);rr.setTexture2D(Fn,0),hn.pixelStorei(hn.UNPACK_FLIP_Y_WEBGL,Fn.flipY),hn.pixelStorei(hn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fn.premultiplyAlpha),hn.pixelStorei(hn.UNPACK_ALIGNMENT,Fn.unpackAlignment),yn.isDataTexture?hn.texSubImage2D(hn.TEXTURE_2D,On,tt.x,tt.y,Dn,Zi,Er,Sr,yn.image.data):yn.isCompressedTexture?hn.compressedTexSubImage2D(hn.TEXTURE_2D,On,tt.x,tt.y,yn.mipmaps[0].width,yn.mipmaps[0].height,Er,yn.mipmaps[0].data):hn.texSubImage2D(hn.TEXTURE_2D,On,tt.x,tt.y,Er,Sr,yn.image),0===On&&Fn.generateMipmaps&&hn.generateMipmap(hn.TEXTURE_2D),Jn.unbindTexture()},this.copyTextureToTexture3D=function(tt,yn,Fn,On,Dn=0){const Zi=tt.max.x-tt.min.x,Er=tt.max.y-tt.min.y,Sr=tt.max.z-tt.min.z,Br=Yi.convert(On.format),ms=Yi.convert(On.type);let Ds;if(On.isData3DTexture)rr.setTexture3D(On,0),Ds=hn.TEXTURE_3D;else{if(!On.isDataArrayTexture&&!On.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");rr.setTexture2DArray(On,0),Ds=hn.TEXTURE_2D_ARRAY}hn.pixelStorei(hn.UNPACK_FLIP_Y_WEBGL,On.flipY),hn.pixelStorei(hn.UNPACK_PREMULTIPLY_ALPHA_WEBGL,On.premultiplyAlpha),hn.pixelStorei(hn.UNPACK_ALIGNMENT,On.unpackAlignment);const Is=hn.getParameter(hn.UNPACK_ROW_LENGTH),da=hn.getParameter(hn.UNPACK_IMAGE_HEIGHT),$a=hn.getParameter(hn.UNPACK_SKIP_PIXELS),gl=hn.getParameter(hn.UNPACK_SKIP_ROWS),Rc=hn.getParameter(hn.UNPACK_SKIP_IMAGES),ao=Fn.isCompressedTexture?Fn.mipmaps[Dn]:Fn.image;hn.pixelStorei(hn.UNPACK_ROW_LENGTH,ao.width),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,ao.height),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,tt.min.x),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,tt.min.y),hn.pixelStorei(hn.UNPACK_SKIP_IMAGES,tt.min.z),Fn.isDataTexture||Fn.isData3DTexture?hn.texSubImage3D(Ds,Dn,yn.x,yn.y,yn.z,Zi,Er,Sr,Br,ms,ao.data):On.isCompressedArrayTexture?hn.compressedTexSubImage3D(Ds,Dn,yn.x,yn.y,yn.z,Zi,Er,Sr,Br,ao.data):hn.texSubImage3D(Ds,Dn,yn.x,yn.y,yn.z,Zi,Er,Sr,Br,ms,ao),hn.pixelStorei(hn.UNPACK_ROW_LENGTH,Is),hn.pixelStorei(hn.UNPACK_IMAGE_HEIGHT,da),hn.pixelStorei(hn.UNPACK_SKIP_PIXELS,$a),hn.pixelStorei(hn.UNPACK_SKIP_ROWS,gl),hn.pixelStorei(hn.UNPACK_SKIP_IMAGES,Rc),0===Dn&&On.generateMipmaps&&hn.generateMipmap(Ds),Jn.unbindTexture()},this.initTexture=function(tt){tt.isCubeTexture?rr.setTextureCube(tt,0):tt.isData3DTexture?rr.setTexture3D(tt,0):tt.isDataArrayTexture||tt.isCompressedArrayTexture?rr.setTexture2DArray(tt,0):rr.setTexture2D(tt,0),Jn.unbindTexture()},this.resetState=function(){dt=0,Ge=0,Ze=null,Jn.reset(),Ss.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ra}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Pn?"display-p3":"srgb",n.unpackColorSpace=Os.workingColorSpace===Hn?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class kh extends Rn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Dr,this.environmentIntensity=1,this.environmentRotation=new Dr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class wm{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=void 0!==e?e.length/n:0,this.usage=35044,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=qi()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return cc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let o=0,l=this.stride;o<l;o++)this.array[e+o]=n.array[r+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const el=new it;class pd{constructor(e,n,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)el.fromBufferAttribute(this,n),el.applyMatrix4(e),this.setXYZ(n,el.x,el.y,el.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)el.fromBufferAttribute(this,n),el.applyNormalMatrix(e),this.setXYZ(n,el.x,el.y,el.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)el.fromBufferAttribute(this,n),el.transformDirection(e),this.setXYZ(n,el.x,el.y,el.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=$s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Cr(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Cr(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=$s(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=$s(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=$s(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=$s(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),o=Cr(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=Cr(n,this.array),r=Cr(r,this.array),o=Cr(o,this.array),l=Cr(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=l,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return new Fi(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Sm=new it,Mm=new js,Ib=new js,Vh=new it,zh=new dr,gd=new it,Cm=new Jr,Iu=new dr,mf=new El;class Am extends oa{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Fr,this.bindMatrix=new dr,this.bindMatrixInverse=new dr,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new We),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,gd),this.boundingBox.expandByPoint(gd)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Jr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,gd),this.boundingSphere.expandByPoint(gd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const o=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Cm.copy(this.boundingSphere),Cm.applyMatrix4(o),!1!==e.ray.intersectsSphere(Cm)&&(Iu.copy(o).invert(),mf.copy(e.ray).applyMatrix4(Iu),(null===this.boundingBox||!1!==mf.intersectsBox(this.boundingBox))&&this._computeIntersections(e,n,mf)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,void 0===n&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new js,n=this.geometry.attributes.skinWeight;for(let r=0,o=n.count;r<o;r++){e.fromBufferAttribute(n,r);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Fr?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,o=this.geometry;Mm.fromBufferAttribute(o.attributes.skinIndex,e),Ib.fromBufferAttribute(o.attributes.skinWeight,e),Sm.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let l=0;l<4;l++){const d=Ib.getComponent(l);if(0!==d){const f=Mm.getComponent(l);zh.multiplyMatrices(r.bones[f].matrixWorld,r.boneInverses[f]),n.addScaledVector(Vh.copy(Sm).applyMatrix4(zh),d)}}return n.applyMatrix4(this.bindMatrixInverse)}}class gf extends Rn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ec extends zo{constructor(e=null,n=1,r=1,o,l,d,f,m,v=ct,w=ct,S,A){super(null,d,f,m,v,w,o,l,S,A),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const p0=new dr,Rb=new dr;class vf{constructor(e=[],n=[]){this.uuid=qi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===n.length)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new dr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new dr;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let l=0,d=e.length;l<d;l++)p0.multiplyMatrices(e[l]?e[l].matrixWorld:Rb,n[l]),p0.toArray(r,16*l);null!==o&&(o.needsUpdate=!0)}clone(){return new vf(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new ec(n,e,e,Qt,me);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const l=e.bones[r];let d=n[l];void 0===d&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),d=new gf),this.bones.push(d),this.boneInverses.push((new dr).fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let o=0,l=n.length;o<l;o++)e.bones.push(n[o].uuid),e.boneInverses.push(r[o].toArray());return e}}class vd extends Fi{constructor(e,n,r,o=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const yd=new dr,m0=new dr,yf=[],_d=new We,Hh=new dr,Ru=new oa,_f=new Jr;class g0 extends oa{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new vd(new Float32Array(16*r),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,Hh)}computeBoundingBox(){const e=this.geometry,n=this.count;null===this.boundingBox&&(this.boundingBox=new We),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yd),_d.copy(e.boundingBox).applyMatrix4(yd),this.boundingBox.union(_d)}computeBoundingSphere(){const e=this.geometry,n=this.count;null===this.boundingSphere&&(this.boundingSphere=new Jr),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,yd),_f.copy(e.boundingSphere).applyMatrix4(yd),this.boundingSphere.union(_f)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,n){const r=n.morphTargetInfluences,o=this.morphTexture.source.data.data,d=e*(r.length+1)+1;for(let f=0;f<r.length;f++)r[f]=o[d+f]}raycast(e,n){const r=this.matrixWorld,o=this.count;if(Ru.geometry=this.geometry,Ru.material=this.material,void 0!==Ru.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),_f.copy(this.boundingSphere),_f.applyMatrix4(r),!1!==e.ray.intersectsSphere(_f)))for(let l=0;l<o;l++){this.getMatrixAt(l,yd),m0.multiplyMatrices(r,yd),Ru.matrixWorld=m0,Ru.raycast(e,yf);for(let d=0,f=yf.length;d<f;d++){const m=yf[d];m.instanceId=l,m.object=this,n.push(m)}yf.length=0}}setColorAt(e,n){null===this.instanceColor&&(this.instanceColor=new vd(new Float32Array(3*this.instanceMatrix.count),3)),n.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,n){const r=n.morphTargetInfluences,o=r.length+1;null===this.morphTexture&&(this.morphTexture=new ec(new Float32Array(o*this.count),o,this.count,1028,me));const l=this.morphTexture.source.data.data;let d=0;for(let v=0;v<r.length;v++)d+=r[v];const m=o*e;l[m]=this.geometry.morphTargetsRelative?1:1-d,l.set(r,m+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class Sa extends ${constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new yi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Zc=new it,Sf=new it,$h=new dr,Qc=new El,Gh=new Jr,jh=new it,b0=new it;class Jc extends Rn{constructor(e=new os,n=new Sa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const n=e.attributes.position,r=[0];for(let o=1,l=n.count;o<l;o++)Zc.fromBufferAttribute(n,o-1),Sf.fromBufferAttribute(n,o),r[o]=r[o-1],r[o]+=Zc.distanceTo(Sf);e.setAttribute("lineDistance",new fr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Line.threshold,d=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Gh.copy(r.boundingSphere),Gh.applyMatrix4(o),Gh.radius+=l,!1===e.ray.intersectsSphere(Gh))return;$h.copy(o).invert(),Qc.copy(e.ray).applyMatrix4($h);const f=l/((this.scale.x+this.scale.y+this.scale.z)/3),m=f*f,v=this.isLineSegments?2:1,w=r.index,A=r.attributes.position;if(null!==w){const R=Math.max(0,d.start),B=Math.min(w.count,d.start+d.count);for(let Y=R,H=B-1;Y<H;Y+=v){const U=w.getX(Y),ue=w.getX(Y+1),re=Wh(this,e,Qc,m,U,ue);re&&n.push(re)}if(this.isLineLoop){const Y=w.getX(B-1),H=w.getX(R),U=Wh(this,e,Qc,m,Y,H);U&&n.push(U)}}else{const R=Math.max(0,d.start),B=Math.min(A.count,d.start+d.count);for(let Y=R,H=B-1;Y<H;Y+=v){const U=Wh(this,e,Qc,m,Y,Y+1);U&&n.push(U)}if(this.isLineLoop){const Y=Wh(this,e,Qc,m,B-1,R);Y&&n.push(Y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const f=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=l}}}}}function Wh(c,e,n,r,o,l){const d=c.geometry.attributes.position;if(Zc.fromBufferAttribute(d,o),Sf.fromBufferAttribute(d,l),n.distanceSqToSegment(Zc,Sf,jh,b0)>r)return;jh.applyMatrix4(c.matrixWorld);const m=e.ray.origin.distanceTo(jh);return m<e.near||m>e.far?void 0:{distance:m,point:b0.clone().applyMatrix4(c.matrixWorld),index:o,face:null,faceIndex:null,object:c}}const Im=new it,Rm=new it;class zr extends Jc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const n=e.attributes.position,r=[];for(let o=0,l=n.count;o<l;o+=2)Im.fromBufferAttribute(n,o),Rm.fromBufferAttribute(n,o+1),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+Im.distanceTo(Rm);e.setAttribute("lineDistance",new fr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Pm extends Jc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Xh extends ${constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new yi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Lu=new dr,qh=new El,Mf=new Jr,Kh=new it;class Cf extends Rn{constructor(e=new os,n=new Xh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Points.threshold,d=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),Mf.copy(r.boundingSphere),Mf.applyMatrix4(o),Mf.radius+=l,!1===e.ray.intersectsSphere(Mf))return;Lu.copy(o).invert(),qh.copy(e.ray).applyMatrix4(Lu);const f=l/((this.scale.x+this.scale.y+this.scale.z)/3),m=f*f,v=r.index,S=r.attributes.position;if(null!==v)for(let B=Math.max(0,d.start),Y=Math.min(v.count,d.start+d.count);B<Y;B++){const H=v.getX(B);Kh.fromBufferAttribute(S,H),Fu(Kh,H,m,o,e,n,this)}else for(let B=Math.max(0,d.start),Y=Math.min(S.count,d.start+d.count);B<Y;B++)Kh.fromBufferAttribute(S,B),Fu(Kh,B,m,o,e,n,this)}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(void 0!==o){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,d=o.length;l<d;l++){const f=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f]=l}}}}}function Fu(c,e,n,r,o,l,d){const f=qh.distanceSqToPoint(c);if(f<n){const m=new it;qh.closestPointToPoint(c,m),m.applyMatrix4(r);const v=o.ray.origin.distanceTo(m);if(v<o.near||v>o.far)return;l.push({distance:v,distanceToRay:Math.sqrt(f),point:m,index:e,face:null,object:d})}}class eu extends ${constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new yi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new yi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Dr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dl extends eu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ji(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new yi(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new yi(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new yi(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function tu(c,e,n){return!c||!n&&c.constructor===e?c:"number"==typeof e.BYTES_PER_ELEMENT?new e(c):Array.prototype.slice.call(c)}function eg(c){const n=c.length,r=new Array(n);for(let o=0;o!==n;++o)r[o]=o;return r.sort(function e(o,l){return c[o]-c[l]}),r}function tg(c,e,n){const r=c.length,o=new c.constructor(r);for(let l=0,d=0;d!==r;++l){const f=n[l]*e;for(let m=0;m!==e;++m)o[d++]=c[f+m]}return o}function Td(c,e,n,r){let o=1,l=c[0];for(;void 0!==l&&void 0===l[r];)l=c[o++];if(void 0===l)return;let d=l[r];if(void 0!==d)if(Array.isArray(d))do{d=l[r],void 0!==d&&(e.push(l.time),n.push.apply(n,d)),l=c[o++]}while(void 0!==l);else if(void 0!==d.toArray)do{d=l[r],void 0!==d&&(e.push(l.time),d.toArray(n,n.length)),l=c[o++]}while(void 0!==l);else do{d=l[r],void 0!==d&&(e.push(l.time),n.push(d)),l=c[o++]}while(void 0!==l)}class Vf{constructor(e,n,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==o?o:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,o=n[r],l=n[r-1];e:{t:{let d;n:{i:if(!(e<o)){for(let f=r+2;;){if(void 0===o){if(e<l)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===f)break;if(l=o,o=n[++r],e<o)break t}d=n.length;break n}if(e>=l)break e;{const f=n[1];e<f&&(r=2,l=f);for(let m=r-2;;){if(void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(r===m)break;if(o=l,l=n[--r-1],e>=l)break t}d=r,r=0}}for(;r<d;){const f=r+d>>>1;e<n[f]?d=f:r=f+1}if(o=n[r],l=n[r-1],void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===o)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,l,o)}return this.interpolate_(r,l,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o;for(let d=0;d!==o;++d)n[d]=r[l+d];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Zb extends Vf{constructor(e,n,r,o){super(e,n,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,n,r){const o=this.parameterPositions;let l=e-2,d=e+1,f=o[l],m=o[d];if(void 0===f)switch(this.getSettings_().endingStart){case 2401:l=e,f=2*n-r;break;case 2402:l=o.length-2,f=n+o[l]-o[l+1];break;default:l=e,f=r}if(void 0===m)switch(this.getSettings_().endingEnd){case 2401:d=e,m=2*r-n;break;case 2402:d=1,m=r+o[1]-o[0];break;default:d=e-1,m=n}const v=.5*(r-n),w=this.valueSize;this._weightPrev=v/(n-f),this._weightNext=v/(m-r),this._offsetPrev=l*w,this._offsetNext=d*w}interpolate_(e,n,r,o){const l=this.resultBuffer,d=this.sampleValues,f=this.valueSize,m=e*f,v=m-f,w=this._offsetPrev,S=this._offsetNext,A=this._weightPrev,R=this._weightNext,B=(r-n)/(o-n),Y=B*B,H=Y*B,U=-A*H+2*A*Y-A*B,ue=(1+A)*H+(-1.5-2*A)*Y+(-.5+A)*B+1,re=(-1-R)*H+(1.5+R)*Y+.5*B,de=R*H-R*Y;for(let dt=0;dt!==f;++dt)l[dt]=U*d[w+dt]+ue*d[v+dt]+re*d[m+dt]+de*d[S+dt];return l}}class ap extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,d=this.sampleValues,f=this.valueSize,m=e*f,v=m-f,w=(r-n)/(o-n),S=1-w;for(let A=0;A!==f;++A)l[A]=d[v+A]*S+d[m+A]*w;return l}}class zf extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class ic{constructor(e,n,r,o){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tu(n,this.TimeBufferType),this.values=tu(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:tu(e.times,Array),values:tu(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ap(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Zb(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Yo:n=this.InterpolantFactoryMethodDiscrete;break;case Mr:n=this.InterpolantFactoryMethodLinear;break;case 2302:n=this.InterpolantFactoryMethodSmooth}if(void 0===n){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yo;case this.InterpolantFactoryMethodLinear:return Mr;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]+=e}return this}scale(e){if(1!==e){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]*=e}return this}trim(e,n){const r=this.times,o=r.length;let l=0,d=o-1;for(;l!==o&&r[l]<e;)++l;for(;-1!==d&&r[d]>n;)--d;if(++d,0!==l||d!==o){l>=d&&(d=Math.max(d,1),l=d-1);const f=this.getValueSize();this.times=r.slice(l,d),this.values=this.values.slice(l*f,d*f)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,l=r.length;0===l&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let d=null;for(let f=0;f!==l;f++){const m=r[f];if("number"==typeof m&&isNaN(m)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,f,m),e=!1;break}if(null!==d&&d>m){console.error("THREE.KeyframeTrack: Out of order keys.",this,f,m,d),e=!1;break}d=m}if(void 0!==o&&function V0(c){return ArrayBuffer.isView(c)&&!(c instanceof DataView)}(o))for(let f=0,m=o.length;f!==m;++f){const v=o[f];if(isNaN(v)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,f,v),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),o=2302===this.getInterpolation(),l=e.length-1;let d=1;for(let f=1;f<l;++f){let m=!1;const v=e[f];if(v!==e[f+1]&&(1!==f||v!==e[0]))if(o)m=!0;else{const S=f*r,A=S-r,R=S+r;for(let B=0;B!==r;++B){const Y=n[S+B];if(Y!==n[A+B]||Y!==n[R+B]){m=!0;break}}}if(m){if(f!==d){e[d]=e[f];const S=f*r,A=d*r;for(let R=0;R!==r;++R)n[A+R]=n[S+R]}++d}}if(l>0){e[d]=e[l];for(let f=l*r,m=d*r,v=0;v!==r;++v)n[m+v]=n[f+v];++d}return d!==e.length?(this.times=e.slice(0,d),this.values=n.slice(0,d*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),o=new(0,this.constructor)(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}ic.prototype.TimeBufferType=Float32Array,ic.prototype.ValueBufferType=Float32Array,ic.prototype.DefaultInterpolation=Mr;class Cc extends ic{}Cc.prototype.ValueTypeName="bool",Cc.prototype.ValueBufferType=Array,Cc.prototype.DefaultInterpolation=Yo,Cc.prototype.InterpolantFactoryMethodLinear=void 0,Cc.prototype.InterpolantFactoryMethodSmooth=void 0;class Hf extends ic{}Hf.prototype.ValueTypeName="color";class $f extends ic{}$f.prototype.ValueTypeName="number";class Qb extends Vf{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,d=this.sampleValues,f=this.valueSize,m=(r-n)/(o-n);let v=e*f;for(let w=v+f;v!==w;v+=4)Ao.slerpFlat(l,0,d,v-f,d,v,m);return l}}class Gu extends ic{InterpolantFactoryMethodLinear(e){return new Qb(this.times,this.values,this.getValueSize(),e)}}Gu.prototype.ValueTypeName="quaternion",Gu.prototype.DefaultInterpolation=Mr,Gu.prototype.InterpolantFactoryMethodSmooth=void 0;class nu extends ic{}nu.prototype.ValueTypeName="string",nu.prototype.ValueBufferType=Array,nu.prototype.DefaultInterpolation=Yo,nu.prototype.InterpolantFactoryMethodLinear=void 0,nu.prototype.InterpolantFactoryMethodSmooth=void 0;class Dd extends ic{}Dd.prototype.ValueTypeName="vector";class Id{constructor(e="",n=-1,r=[],o=2500){this.name=e,this.tracks=r,this.duration=n,this.blendMode=o,this.uuid=qi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,o=1/(e.fps||1);for(let d=0,f=r.length;d!==f;++d)n.push(ew(r[d]).scale(o));const l=new this(e.name,e.duration,n,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const n=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,d=r.length;l!==d;++l)n.push(ic.toJSON(r[l]));return o}static CreateFromMorphTargetSequence(e,n,r,o){const l=n.length,d=[];for(let f=0;f<l;f++){let m=[],v=[];m.push((f+l-1)%l,f,(f+1)%l),v.push(0,1,0);const w=eg(m);m=tg(m,1,w),v=tg(v,1,w),!o&&0===m[0]&&(m.push(l),v.push(v[0])),d.push(new $f(".morphTargetInfluences["+n[f].name+"]",m,v).scale(1/r))}return new this(e,-1,d)}static findByName(e,n){let r=e;Array.isArray(e)||(r=e.geometry&&e.geometry.animations||e.animations);for(let o=0;o<r.length;o++)if(r[o].name===n)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const o={},l=/^([\w-]*?)([\d]+)$/;for(let f=0,m=e.length;f<m;f++){const v=e[f],w=v.name.match(l);if(w&&w.length>1){const S=w[1];let A=o[S];A||(o[S]=A=[]),A.push(v)}}const d=[];for(const f in o)d.push(this.CreateFromMorphTargetSequence(f,o[f],n,r));return d}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(S,A,R,B,Y){if(0!==R.length){const H=[],U=[];Td(R,H,U,B),0!==H.length&&Y.push(new S(A,H,U))}},o=[],l=e.name||"default",d=e.fps||30,f=e.blendMode;let m=e.length||-1;const v=e.hierarchy||[];for(let S=0;S<v.length;S++){const A=v[S].keys;if(A&&0!==A.length)if(A[0].morphTargets){const R={};let B;for(B=0;B<A.length;B++)if(A[B].morphTargets)for(let Y=0;Y<A[B].morphTargets.length;Y++)R[A[B].morphTargets[Y]]=-1;for(const Y in R){const H=[],U=[];for(let ue=0;ue!==A[B].morphTargets.length;++ue){const re=A[B];H.push(re.time),U.push(re.morphTarget===Y?1:0)}o.push(new $f(".morphTargetInfluence["+Y+"]",H,U))}m=R.length*d}else{const R=".bones["+n[S].name+"]";r(Dd,R+".position",A,"pos",o),r(Gu,R+".quaternion",A,"rot",o),r(Dd,R+".scale",A,"scl",o)}}return 0===o.length?null:new this(l,m,o,f)}resetDuration(){let n=0;for(let r=0,o=this.tracks.length;r!==o;++r){const l=this.tracks[r];n=Math.max(n,l.times[l.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ew(c){if(void 0===c.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function Jb(c){switch(c.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $f;case"vector":case"vector2":case"vector3":case"vector4":return Dd;case"color":return Hf;case"quaternion":return Gu;case"bool":case"boolean":return Cc;case"string":return nu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+c)}(c.type);if(void 0===c.times){const n=[],r=[];Td(c.keys,n,r,"value"),c.times=n,c.values=r}return void 0!==e.parse?e.parse(c):new e(c.name,c.times,c.values,c.interpolation)}const Ac={enabled:!1,files:{},add:function(c,e){!1!==this.enabled&&(this.files[c]=e)},get:function(c){if(!1!==this.enabled)return this.files[c]},remove:function(c){delete this.files[c]},clear:function(){this.files={}}};class z0{constructor(e,n,r){const o=this;let m,l=!1,d=0,f=0;const v=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(w){f++,!1===l&&void 0!==o.onStart&&o.onStart(w,d,f),l=!0},this.itemEnd=function(w){d++,void 0!==o.onProgress&&o.onProgress(w,d,f),d===f&&(l=!1,void 0!==o.onLoad&&o.onLoad())},this.itemError=function(w){void 0!==o.onError&&o.onError(w)},this.resolveURL=function(w){return m?m(w):w},this.setURLModifier=function(w){return m=w,this},this.addHandler=function(w,S){return v.push(w,S),this},this.removeHandler=function(w){const S=v.indexOf(w);return-1!==S&&v.splice(S,2),this},this.getHandler=function(w){for(let S=0,A=v.length;S<A;S+=2){const R=v[S],B=v[S+1];if(R.global&&(R.lastIndex=0),R.test(w))return B}return null}}}const tw=new z0;let ga=(()=>{class c{constructor(n){this.manager=void 0!==n?n:tw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(n,r){const o=this;return new Promise(function(l,d){o.load(n,l,r,d)})}parse(){}setCrossOrigin(n){return this.crossOrigin=n,this}setWithCredentials(n){return this.withCredentials=n,this}setPath(n){return this.path=n,this}setResourcePath(n){return this.resourcePath=n,this}setRequestHeader(n){return this.requestHeader=n,this}}return c.DEFAULT_MATERIAL_NAME="__DEFAULT",c})();const Ul={};class nw extends Error{constructor(e,n){super(e),this.response=n}}class Bl extends ga{constructor(e){super(e)}load(e,n,r,o){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=Ac.get(e);if(void 0!==l)return this.manager.itemStart(e),setTimeout(()=>{n&&n(l),this.manager.itemEnd(e)},0),l;if(void 0!==Ul[e])return void Ul[e].push({onLoad:n,onProgress:r,onError:o});Ul[e]=[],Ul[e].push({onLoad:n,onProgress:r,onError:o});const d=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),f=this.mimeType,m=this.responseType;fetch(d).then(v=>{if(200===v.status||0===v.status){if(0===v.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===v.body||void 0===v.body.getReader)return v;const w=Ul[e],S=v.body.getReader(),A=v.headers.get("X-File-Size")||v.headers.get("Content-Length"),R=A?parseInt(A):0,B=0!==R;let Y=0;const H=new ReadableStream({start(U){!function ue(){S.read().then(({done:re,value:de})=>{if(re)U.close();else{Y+=de.byteLength;const dt=new ProgressEvent("progress",{lengthComputable:B,loaded:Y,total:R});for(let Ge=0,Ze=w.length;Ge<Ze;Ge++){const _t=w[Ge];_t.onProgress&&_t.onProgress(dt)}U.enqueue(de),ue()}})}()}});return new Response(H)}throw new nw(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`,v)}).then(v=>{switch(m){case"arraybuffer":return v.arrayBuffer();case"blob":return v.blob();case"document":return v.text().then(w=>(new DOMParser).parseFromString(w,f));case"json":return v.json();default:if(void 0===f)return v.text();{const S=/charset="?([^;"\s]*)"?/i.exec(f),A=S&&S[1]?S[1].toLowerCase():void 0,R=new TextDecoder(A);return v.arrayBuffer().then(B=>R.decode(B))}}}).then(v=>{Ac.add(e,v);const w=Ul[e];delete Ul[e];for(let S=0,A=w.length;S<A;S++){const R=w[S];R.onLoad&&R.onLoad(v)}}).catch(v=>{const w=Ul[e];if(void 0===w)throw this.manager.itemError(e),v;delete Ul[e];for(let S=0,A=w.length;S<A;S++){const R=w[S];R.onError&&R.onError(v)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ng extends ga{constructor(e){super(e)}load(e,n,r,o){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,d=Ac.get(e);if(void 0!==d)return l.manager.itemStart(e),setTimeout(function(){n&&n(d),l.manager.itemEnd(e)},0),d;const f=wl("img");function m(){w(),Ac.add(e,this),n&&n(this),l.manager.itemEnd(e)}function v(S){w(),o&&o(S),l.manager.itemError(e),l.manager.itemEnd(e)}function w(){f.removeEventListener("load",m,!1),f.removeEventListener("error",v,!1)}return f.addEventListener("load",m,!1),f.addEventListener("error",v,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),l.manager.itemStart(e),f.src=e,f}}class H0 extends ga{constructor(e){super(e)}load(e,n,r,o){const l=new zo,d=new ng(this.manager);return d.setCrossOrigin(this.crossOrigin),d.setPath(this.path),d.load(e,function(f){l.image=f,l.needsUpdate=!0,void 0!==n&&n(l)},r,o),l}}class ju extends Rn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new yi(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}class $0 extends ju{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new yi(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const rg=new dr,lp=new it,rw=new it;class cp{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Gn(512,512),this.map=null,this.mapPass=null,this.matrix=new dr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ch,this._frameExtents=new Gn(1,1),this._viewportCount=1,this._viewports=[new js(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;lp.setFromMatrixPosition(e.matrixWorld),n.position.copy(lp),rw.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(rw),n.updateMatrixWorld(),rg.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rg),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(rg)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rc extends cp{constructor(){super(new Xo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=2*ti*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,l=e.distance||n.far;(r!==n.fov||o!==n.aspect||l!==n.far)&&(n.fov=r,n.aspect=o,n.far=l,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class sg extends ju{constructor(e,n,r=0,o=Math.PI/3,l=0,d=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.distance=r,this.angle=o,this.penumbra=l,this.decay=d,this.map=null,this.shadow=new rc}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const G0=new dr,up=new it,qo=new it;class sw extends cp{constructor(){super(new Xo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Gn(4,2),this._viewportCount=6,this._viewports=[new js(2,1,1,1),new js(0,1,1,1),new js(3,1,1,1),new js(1,1,1,1),new js(3,0,1,1),new js(1,0,1,1)],this._cubeDirections=[new it(1,0,0),new it(-1,0,0),new it(0,0,1),new it(0,0,-1),new it(0,1,0),new it(0,-1,0)],this._cubeUps=[new it(0,1,0),new it(0,1,0),new it(0,1,0),new it(0,1,0),new it(0,0,1),new it(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,o=this.matrix,l=e.distance||r.far;l!==r.far&&(r.far=l,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),qo.copy(r.position),qo.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(qo),r.updateMatrixWorld(),o.makeTranslation(-up.x,-up.y,-up.z),G0.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G0)}}class Al extends ju{constructor(e,n,r=0,o=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new sw}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ow extends cp{constructor(){super(new wu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Rd extends ju{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.shadow=new ow}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dp extends ju{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Wu{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let n="";for(let r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return-1===n?"./":e.slice(0,n+1)}static resolveURL(e,n){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Y0 extends ga{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,o){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,d=Ac.get(e);if(void 0!==d)return l.manager.itemStart(e),d.then?void d.then(v=>{n&&n(v),l.manager.itemEnd(e)}).catch(v=>{o&&o(v)}):(setTimeout(function(){n&&n(d),l.manager.itemEnd(e)},0),d);const f={};f.credentials="anonymous"===this.crossOrigin?"same-origin":"include",f.headers=this.requestHeader;const m=fetch(e,f).then(function(v){return v.blob()}).then(function(v){return createImageBitmap(v,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(v){return Ac.add(e,v),n&&n(v),l.manager.itemEnd(e),v}).catch(function(v){o&&o(v),Ac.remove(e),l.manager.itemError(e),l.manager.itemEnd(e)});Ac.add(e,m),l.manager.itemStart(e)}}const dg="\\[\\]\\.:\\/",uw=new RegExp("["+dg+"]","g"),fg="[^"+dg+"]",dw="[^"+dg.replace("\\.","")+"]",J0=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",fg)+/(WCOD+)?/.source.replace("WCOD",dw)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fg)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fg)+"$"),ey=["material","materials","bones","map"];class hg{constructor(e,n,r){const o=r||_o.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const o=this._bindings[this._targetGroup.nCachedObjects_];void 0!==o&&o.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,l=r.length;o!==l;++o)r[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}let _o=(()=>{class c{constructor(n,r,o){this.path=r,this.parsedPath=o||c.parseTrackName(r),this.node=c.findNode(n,this.parsedPath.nodeName),this.rootNode=n,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(n,r,o){return n&&n.isAnimationObjectGroup?new c.Composite(n,r,o):new c(n,r,o)}static sanitizeNodeName(n){return n.replace(/\s/g,"_").replace(uw,"")}static parseTrackName(n){const r=J0.exec(n);if(null===r)throw new Error("PropertyBinding: Cannot parse trackName: "+n);const o={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},l=o.nodeName&&o.nodeName.lastIndexOf(".");if(void 0!==l&&-1!==l){const d=o.nodeName.substring(l+1);-1!==ey.indexOf(d)&&(o.nodeName=o.nodeName.substring(0,l),o.objectName=d)}if(null===o.propertyName||0===o.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+n);return o}static findNode(n,r){if(void 0===r||""===r||"."===r||-1===r||r===n.name||r===n.uuid)return n;if(n.skeleton){const o=n.skeleton.getBoneByName(r);if(void 0!==o)return o}if(n.children){const o=function(d){for(let f=0;f<d.length;f++){const m=d[f];if(m.name===r||m.uuid===r)return m;const v=o(m.children);if(v)return v}return null},l=o(n.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(n,r){n[r]=this.targetObject[this.propertyName]}_getValue_array(n,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)n[r++]=o[l]}_getValue_arrayElement(n,r){n[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(n,r){this.resolvedProperty.toArray(n,r)}_setValue_direct(n,r){this.targetObject[this.propertyName]=n[r]}_setValue_direct_setNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(n,r){this.targetObject[this.propertyName]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(n,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=n[r++]}_setValue_array_setNeedsUpdate(n,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=n[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(n,r){const o=this.resolvedProperty;for(let l=0,d=o.length;l!==d;++l)o[l]=n[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(n,r){this.resolvedProperty[this.propertyIndex]=n[r]}_setValue_arrayElement_setNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty[this.propertyIndex]=n[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(n,r){this.resolvedProperty.fromArray(n,r)}_setValue_fromArray_setNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(n,r){this.resolvedProperty.fromArray(n,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(n,r){this.bind(),this.getValue(n,r)}_setValue_unbound(n,r){this.bind(),this.setValue(n,r)}bind(){let n=this.node;const r=this.parsedPath,o=r.objectName,l=r.propertyName;let d=r.propertyIndex;if(n||(n=c.findNode(this.rootNode,r.nodeName),this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!n)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(o){let w=r.objectIndex;switch(o){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(let S=0;S<n.length;S++)if(n[S].name===w){w=S;break}break;case"map":if("map"in n){n=n.map;break}if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);n=n.material.map;break;default:if(void 0===n[o])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[o]}if(void 0!==w){if(void 0===n[w])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[w]}}const f=n[l];if(void 0===f)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+l+" but it wasn't found.",n);let m=this.Versioning.None;this.targetObject=n,void 0!==n.needsUpdate?m=this.Versioning.NeedsUpdate:void 0!==n.matrixWorldNeedsUpdate&&(m=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(void 0!==d){if("morphTargetInfluences"===l){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==n.morphTargetDictionary[d]&&(d=n.morphTargetDictionary[d])}v=this.BindingType.ArrayElement,this.resolvedProperty=f,this.propertyIndex=d}else void 0!==f.fromArray&&void 0!==f.toArray?(v=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(v=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=l;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][m]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return c.Composite=hg,c})();_o.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_o.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_o.prototype.GetterByBindingType=[_o.prototype._getValue_direct,_o.prototype._getValue_array,_o.prototype._getValue_arrayElement,_o.prototype._getValue_toArray],_o.prototype.SetterByBindingTypeAndVersioning=[[_o.prototype._setValue_direct,_o.prototype._setValue_direct_setNeedsUpdate,_o.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_array,_o.prototype._setValue_array_setNeedsUpdate,_o.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_arrayElement,_o.prototype._setValue_arrayElement_setNeedsUpdate,_o.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_o.prototype._setValue_fromArray,_o.prototype._setValue_fromArray_setNeedsUpdate,_o.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class iy{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ji(n/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function ly(c,e){if(0===e)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),c;if(2===e||1===e){let n=c.getIndex();if(null===n){const d=[],f=c.getAttribute("position");if(void 0===f)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),c;for(let m=0;m<f.count;m++)d.push(m);c.setIndex(d),n=c.getIndex()}const r=n.count-2,o=[];if(2===e)for(let d=1;d<=r;d++)o.push(n.getX(0)),o.push(n.getX(d)),o.push(n.getX(d+1));else for(let d=0;d<r;d++)d%2==0?(o.push(n.getX(d)),o.push(n.getX(d+1)),o.push(n.getX(d+2))):(o.push(n.getX(d+2)),o.push(n.getX(d+1)),o.push(n.getX(d)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=c.clone();return l.setIndex(o),l.clearGroups(),l}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),c}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"164"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="164");class BE extends ga{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Rw(n)}),this.register(function(n){return new uy(n)}),this.register(function(n){return new Mp(n)}),this.register(function(n){return new Lw(n)}),this.register(function(n){return new Fw(n)}),this.register(function(n){return new dy(n)}),this.register(function(n){return new zE(n)}),this.register(function(n){return new Pw(n)}),this.register(function(n){return new fy(n)}),this.register(function(n){return new cy(n)}),this.register(function(n){return new wg(n)}),this.register(function(n){return new VE(n)}),this.register(function(n){return new Nw(n)}),this.register(function(n){return new Ow(n)}),this.register(function(n){return new Iw(n)}),this.register(function(n){return new kw(n)}),this.register(function(n){return new Uw(n)})}load(e,n,r,o){const l=this;let d;if(""!==this.resourcePath)d=this.resourcePath;else if(""!==this.path){const v=Wu.extractUrlBase(e);d=Wu.resolveURL(v,this.path)}else d=Wu.extractUrlBase(e);this.manager.itemStart(e);const f=function(v){o?o(v):console.error(v),l.manager.itemError(e),l.manager.itemEnd(e)},m=new Bl(this.manager);m.setPath(this.path),m.setResponseType("arraybuffer"),m.setRequestHeader(this.requestHeader),m.setWithCredentials(this.withCredentials),m.load(e,function(v){try{l.parse(v,d,function(w){n(w),l.manager.itemEnd(e)},f)}catch(w){f(w)}},r,f)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,o){let l;const d={},f={},m=new TextDecoder;if("string"==typeof e)l=JSON.parse(e);else if(e instanceof ArrayBuffer)if(m.decode(new Uint8Array(e,0,4))===hy){try{d[zs.KHR_BINARY_GLTF]=new my(e)}catch(S){return void(o&&o(S))}l=JSON.parse(d[zs.KHR_BINARY_GLTF].content)}else l=JSON.parse(m.decode(e));else l=e;if(void 0===l.asset||l.asset.version[0]<2)return void(o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const v=new Cg(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});v.fileLoader.setRequestHeader(this.requestHeader);for(let w=0;w<this.pluginCallbacks.length;w++){const S=this.pluginCallbacks[w](v);S.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),f[S.name]=S,d[S.name]=!0}if(l.extensionsUsed)for(let w=0;w<l.extensionsUsed.length;++w){const S=l.extensionsUsed[w],A=l.extensionsRequired||[];switch(S){case zs.KHR_MATERIALS_UNLIT:d[S]=new Sp;break;case zs.KHR_DRACO_MESH_COMPRESSION:d[S]=new gy(l,this.dracoLoader);break;case zs.KHR_TEXTURE_TRANSFORM:d[S]=new Bw;break;case zs.KHR_MESH_QUANTIZATION:d[S]=new HE;break;default:A.indexOf(S)>=0&&void 0===f[S]&&console.warn('THREE.GLTFLoader: Unknown extension "'+S+'".')}}v.setExtensions(d),v.setPlugins(f),v.parse(r,o)}parseAsync(e,n){const r=this;return new Promise(function(o,l){r.parse(e,n,o,l)})}}function Dw(){let c={};return{get:function(e){return c[e]},add:function(e,n){c[e]=n},remove:function(e){delete c[e]},removeAll:function(){c={}}}}const zs={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Iw{constructor(e){this.parser=e,this.name=zs.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,o=n.length;r<o;r++){const l=n[r];l.extensions&&l.extensions[this.name]&&void 0!==l.extensions[this.name].light&&e._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let o=n.cache.get(r);if(o)return o;const l=n.json,m=((l.extensions&&l.extensions[this.name]||{}).lights||[])[e];let v;const w=new yi(16777215);void 0!==m.color&&w.setRGB(m.color[0],m.color[1],m.color[2],At);const S=void 0!==m.range?m.range:0;switch(m.type){case"directional":v=new Rd(w),v.target.position.set(0,0,-1),v.add(v.target);break;case"point":v=new Al(w),v.distance=S;break;case"spot":v=new sg(w),v.distance=S,m.spot=m.spot||{},m.spot.innerConeAngle=void 0!==m.spot.innerConeAngle?m.spot.innerConeAngle:0,m.spot.outerConeAngle=void 0!==m.spot.outerConeAngle?m.spot.outerConeAngle:Math.PI/4,v.angle=m.spot.outerConeAngle,v.penumbra=1-m.spot.innerConeAngle/m.spot.outerConeAngle,v.target.position.set(0,0,-1),v.add(v.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+m.type)}return v.position.set(0,0,0),v.decay=2,Yu(v,m),void 0!==m.intensity&&(v.intensity=m.intensity),v.name=n.createUniqueName(m.name||"light_"+e),o=Promise.resolve(v),n.cache.add(r,o),o}getDependency(e,n){if("light"===e)return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,l=r.json.nodes[e],f=(l.extensions&&l.extensions[this.name]||{}).light;return void 0===f?null:this._loadLight(f).then(function(m){return r._getNodeRef(n.cache,f,m)})}}class Sp{constructor(){this.name=zs.KHR_MATERIALS_UNLIT}getMaterialType(){return T}extendParams(e,n,r){const o=[];e.color=new yi(1,1,1),e.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const d=l.baseColorFactor;e.color.setRGB(d[0],d[1],d[2],At),e.opacity=d[3]}void 0!==l.baseColorTexture&&o.push(r.assignTexture(e,"map",l.baseColorTexture,xt))}return Promise.all(o)}}class cy{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name].emissiveStrength;return void 0!==l&&(n.emissiveIntensity=l),Promise.resolve()}}class Rw{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];if(void 0!==d.clearcoatFactor&&(n.clearcoat=d.clearcoatFactor),void 0!==d.clearcoatTexture&&l.push(r.assignTexture(n,"clearcoatMap",d.clearcoatTexture)),void 0!==d.clearcoatRoughnessFactor&&(n.clearcoatRoughness=d.clearcoatRoughnessFactor),void 0!==d.clearcoatRoughnessTexture&&l.push(r.assignTexture(n,"clearcoatRoughnessMap",d.clearcoatRoughnessTexture)),void 0!==d.clearcoatNormalTexture&&(l.push(r.assignTexture(n,"clearcoatNormalMap",d.clearcoatNormalTexture)),void 0!==d.clearcoatNormalTexture.scale)){const f=d.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Gn(f,f)}return Promise.all(l)}}class uy{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.dispersion=void 0!==l.dispersion?l.dispersion:0,Promise.resolve()}}class VE{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];return void 0!==d.iridescenceFactor&&(n.iridescence=d.iridescenceFactor),void 0!==d.iridescenceTexture&&l.push(r.assignTexture(n,"iridescenceMap",d.iridescenceTexture)),void 0!==d.iridescenceIor&&(n.iridescenceIOR=d.iridescenceIor),void 0===n.iridescenceThicknessRange&&(n.iridescenceThicknessRange=[100,400]),void 0!==d.iridescenceThicknessMinimum&&(n.iridescenceThicknessRange[0]=d.iridescenceThicknessMinimum),void 0!==d.iridescenceThicknessMaximum&&(n.iridescenceThicknessRange[1]=d.iridescenceThicknessMaximum),void 0!==d.iridescenceThicknessTexture&&l.push(r.assignTexture(n,"iridescenceThicknessMap",d.iridescenceThicknessTexture)),Promise.all(l)}}class dy{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[];n.sheenColor=new yi(0,0,0),n.sheenRoughness=0,n.sheen=1;const d=o.extensions[this.name];if(void 0!==d.sheenColorFactor){const f=d.sheenColorFactor;n.sheenColor.setRGB(f[0],f[1],f[2],At)}return void 0!==d.sheenRoughnessFactor&&(n.sheenRoughness=d.sheenRoughnessFactor),void 0!==d.sheenColorTexture&&l.push(r.assignTexture(n,"sheenColorMap",d.sheenColorTexture,xt)),void 0!==d.sheenRoughnessTexture&&l.push(r.assignTexture(n,"sheenRoughnessMap",d.sheenRoughnessTexture)),Promise.all(l)}}class zE{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];return void 0!==d.transmissionFactor&&(n.transmission=d.transmissionFactor),void 0!==d.transmissionTexture&&l.push(r.assignTexture(n,"transmissionMap",d.transmissionTexture)),Promise.all(l)}}class Pw{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];n.thickness=void 0!==d.thicknessFactor?d.thicknessFactor:0,void 0!==d.thicknessTexture&&l.push(r.assignTexture(n,"thicknessMap",d.thicknessTexture)),n.attenuationDistance=d.attenuationDistance||1/0;const f=d.attenuationColor||[1,1,1];return n.attenuationColor=(new yi).setRGB(f[0],f[1],f[2],At),Promise.all(l)}}class fy{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.ior=void 0!==l.ior?l.ior:1.5,Promise.resolve()}}class wg{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];n.specularIntensity=void 0!==d.specularFactor?d.specularFactor:1,void 0!==d.specularTexture&&l.push(r.assignTexture(n,"specularIntensityMap",d.specularTexture));const f=d.specularColorFactor||[1,1,1];return n.specularColor=(new yi).setRGB(f[0],f[1],f[2],At),void 0!==d.specularColorTexture&&l.push(r.assignTexture(n,"specularColorMap",d.specularColorTexture,xt)),Promise.all(l)}}class Ow{constructor(e){this.parser=e,this.name=zs.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];return n.bumpScale=void 0!==d.bumpFactor?d.bumpFactor:1,void 0!==d.bumpTexture&&l.push(r.assignTexture(n,"bumpMap",d.bumpTexture)),Promise.all(l)}}class Nw{constructor(e){this.parser=e,this.name=zs.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return r.extensions&&r.extensions[this.name]?dl:null}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],d=o.extensions[this.name];return void 0!==d.anisotropyStrength&&(n.anisotropy=d.anisotropyStrength),void 0!==d.anisotropyRotation&&(n.anisotropyRotation=d.anisotropyRotation),void 0!==d.anisotropyTexture&&l.push(r.assignTexture(n,"anisotropyMap",d.anisotropyTexture)),Promise.all(l)}}class Mp{constructor(e){this.parser=e,this.name=zs.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const l=o.extensions[this.name],d=n.options.ktx2Loader;if(!d){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,l.source,d)}}class Lw{constructor(e){this.parser=e,this.name=zs.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const d=l.extensions[n],f=o.images[d.source];let m=r.textureLoader;if(f.uri){const v=r.options.manager.getHandler(f.uri);null!==v&&(m=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,d.source,m);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(1===n.height)}})),this.isSupported}}class Fw{constructor(e){this.parser=e,this.name=zs.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const d=l.extensions[n],f=o.images[d.source];let m=r.textureLoader;if(f.uri){const v=r.options.manager.getHandler(f.uri);null!==v&&(m=v)}return this.detectSupport().then(function(v){if(v)return r.loadTextureImage(e,d.source,m);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(1===n.height)}})),this.isSupported}}class kw{constructor(e){this.name=zs.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],l=this.parser.getDependency("buffer",o.buffer),d=this.parser.options.meshoptDecoder;if(!d||!d.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(f){const w=o.count,S=o.byteStride,A=new Uint8Array(f,o.byteOffset||0,o.byteLength||0);return d.decodeGltfBufferAsync?d.decodeGltfBufferAsync(w,S,A,o.mode,o.filter).then(function(R){return R.buffer}):d.ready.then(function(){const R=new ArrayBuffer(w*S);return d.decodeGltfBuffer(new Uint8Array(R),w,S,A,o.mode,o.filter),R})})}return null}}class Uw{constructor(e){this.name=zs.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;const o=n.meshes[r.mesh];for(const v of o.primitives)if(v.mode!==fl.TRIANGLES&&v.mode!==fl.TRIANGLE_STRIP&&v.mode!==fl.TRIANGLE_FAN&&void 0!==v.mode)return null;const d=r.extensions[this.name].attributes,f=[],m={};for(const v in d)f.push(this.parser.getDependency("accessor",d[v]).then(w=>(m[v]=w,m[v])));return f.length<1?null:(f.push(this.parser.createNodeMesh(e)),Promise.all(f).then(v=>{const w=v.pop(),S=w.isGroup?w.children:[w],A=v[0].count,R=[];for(const B of S){const Y=new dr,H=new it,U=new Ao,ue=new it(1,1,1),re=new g0(B.geometry,B.material,A);for(let de=0;de<A;de++)m.TRANSLATION&&H.fromBufferAttribute(m.TRANSLATION,de),m.ROTATION&&U.fromBufferAttribute(m.ROTATION,de),m.SCALE&&ue.fromBufferAttribute(m.SCALE,de),re.setMatrixAt(de,Y.compose(H,U,ue));for(const de in m)if("_COLOR_0"===de){const dt=m[de];re.instanceColor=new vd(dt.array,dt.itemSize,dt.normalized)}else"TRANSLATION"!==de&&"ROTATION"!==de&&"SCALE"!==de&&B.geometry.setAttribute(de,m[de]);Rn.prototype.copy.call(re,B),this.parser.assignFinalMaterial(re),R.push(re)}return w.isGroup?(w.clear(),w.add(...R),w):R[0]}))}}const hy="glTF";class my{constructor(e){this.name=zs.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==hy)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-12,l=new DataView(e,12);let d=0;for(;d<o;){const f=l.getUint32(d,!0);d+=4;const m=l.getUint32(d,!0);if(d+=4,1313821514===m){const v=new Uint8Array(e,12+d,f);this.content=r.decode(v)}else if(5130562===m){const v=12+d;this.body=e.slice(v,v+f)}d+=f}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gy{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=zs.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,o=this.dracoLoader,l=e.extensions[this.name].bufferView,d=e.extensions[this.name].attributes,f={},m={},v={};for(const w in d){const S=Eg[w]||w.toLowerCase();f[S]=d[w]}for(const w in e.attributes){const S=Eg[w]||w.toLowerCase();if(void 0!==d[w]){const A=r.accessors[e.attributes[w]];v[S]=Nd[A.componentType].name,m[S]=!0===A.normalized}}return n.getDependency("bufferView",l).then(function(w){return new Promise(function(S,A){o.decodeDracoFile(w,function(R){for(const B in R.attributes){const H=m[B];void 0!==H&&(R.attributes[B].normalized=H)}S(R)},f,v,At,A)})})}}class Bw{constructor(){this.name=zs.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(void 0===n.texCoord||n.texCoord===e.channel)&&void 0===n.offset&&void 0===n.rotation&&void 0===n.scale||(e=e.clone(),void 0!==n.texCoord&&(e.channel=n.texCoord),void 0!==n.offset&&e.offset.fromArray(n.offset),void 0!==n.rotation&&(e.rotation=n.rotation),void 0!==n.scale&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class HE{constructor(){this.name=zs.KHR_MESH_QUANTIZATION}}class xg extends Vf{constructor(e,n,r,o){super(e,n,r,o)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o*3+o;for(let d=0;d!==o;d++)n[d]=r[l+d];return n}interpolate_(e,n,r,o){const l=this.resultBuffer,d=this.sampleValues,f=this.valueSize,m=2*f,v=3*f,w=o-n,S=(r-n)/w,A=S*S,R=A*S,B=e*v,Y=B-v,H=-2*R+3*A,U=R-A,ue=1-H,re=U-A+S;for(let de=0;de!==f;de++)l[de]=ue*d[Y+de+f]+re*(d[Y+de+m]*w)+H*d[B+de+f]+U*(d[B+de]*w);return l}}const vy=new Ao;class Ku extends xg{interpolate_(e,n,r,o){const l=super.interpolate_(e,n,r,o);return vy.fromArray(l).normalize().toArray(l),l}}const fl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Nd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Vw={9728:ct,9729:fe,9984:1004,9985:1007,9986:Oe,9987:we},Cp={33071:g,33648:1002,10497:rt},Zf={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Eg={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ic={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Sg={CUBICSPLINE:void 0,LINEAR:Mr,STEP:Yo};function Ld(c,e,n){for(const r in n.extensions)void 0===c[r]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Yu(c,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(c.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $E(c,e){if(c.updateMorphTargets(),void 0!==e.weights)for(let n=0,r=e.weights.length;n<r;n++)c.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(c.morphTargetInfluences.length===n.length){c.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++)c.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Fd(c){let e;const n=c.extensions&&c.extensions[zs.KHR_DRACO_MESH_COMPRESSION];if(e=n?"draco:"+n.bufferView+":"+n.indices+":"+yy(n.attributes):c.indices+":"+yy(c.attributes)+":"+c.mode,void 0!==c.targets)for(let r=0,o=c.targets.length;r<o;r++)e+=":"+yy(c.targets[r]);return e}function yy(c){let e="";const n=Object.keys(c).sort();for(let r=0,o=n.length;r<o;r++)e+=n[r]+":"+c[n[r]]+";";return e}function kd(c){switch(c){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const $w=new dr;class Cg{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Dw,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,l=-1;typeof navigator<"u"&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=navigator.userAgent.indexOf("Firefox")>-1,l=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||r||o&&l<98?new H0(this.options.manager):new Y0(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Bl(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,o=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(d){return d._markDefs&&d._markDefs()}),Promise.all(this._invokeAll(function(d){return d.beforeRoot&&d.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(d){const f={scene:d[0][o.scene||0],scenes:d[0],animations:d[1],cameras:d[2],asset:o.asset,parser:r,userData:{}};return Ld(l,f,o),Yu(f,o),Promise.all(r._invokeAll(function(m){return m.afterRoot&&m.afterRoot(f)})).then(function(){for(const m of f.scenes)m.updateMatrixWorld();e(f)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let o=0,l=n.length;o<l;o++){const d=n[o].joints;for(let f=0,m=d.length;f<m;f++)e[d[f]].isBone=!0}for(let o=0,l=e.length;o<l;o++){const d=e[o];void 0!==d.mesh&&(this._addNodeRef(this.meshCache,d.mesh),void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0)),void 0!==d.camera&&this._addNodeRef(this.cameraCache,d.camera)}}_addNodeRef(e,n){void 0!==n&&(void 0===e.refs[n]&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const o=r.clone(),l=(d,f)=>{const m=this.associations.get(d);null!=m&&this.associations.set(f,m);for(const[v,w]of d.children.entries())l(w,f.children[v])};return l(r,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const o=e(n[r]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let o=0;o<n.length;o++){const l=e(n[o]);l&&r.push(l)}return r}getDependency(e,n){const r=e+":"+n;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(l){return l.loadNode&&l.loadNode(n)});break;case"mesh":o=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(e,n)}),!o)throw new Error("Unknown type: "+e)}this.cache.add(r,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this;n=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(l,d){return r.getDependency(e,d)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&"arraybuffer"!==n.type)throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(void 0===n.uri&&0===e)return Promise.resolve(this.extensions[zs.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(l,d){r.load(Wu.resolveURL(n.uri,o.path),l,void 0,function(){d(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const l=n.byteOffset||0;return r.slice(l,l+(n.byteLength||0))})}loadAccessor(e){const n=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse){const d=Zf[o.type],m=!0===o.normalized,v=new(0,Nd[o.componentType])(o.count*d);return Promise.resolve(new Fi(v,d,m))}const l=[];return l.push(void 0!==o.bufferView?this.getDependency("bufferView",o.bufferView):null),void 0!==o.sparse&&(l.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(l).then(function(d){const f=d[0],m=Zf[o.type],v=Nd[o.componentType],w=v.BYTES_PER_ELEMENT,A=o.byteOffset||0,R=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,B=!0===o.normalized;let Y,H;if(R&&R!==w*m){const U=Math.floor(A/R),ue="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+U+":"+o.count;let re=n.cache.get(ue);re||(Y=new v(f,U*R,o.count*R/w),re=new wm(Y,R/w),n.cache.add(ue,re)),H=new pd(re,m,A%R/w,B)}else Y=null===f?new v(o.count*m):new v(f,A,o.count*m),H=new Fi(Y,m,B);if(void 0!==o.sparse){const de=o.sparse.values.byteOffset||0,dt=new(0,Nd[o.sparse.indices.componentType])(d[1],o.sparse.indices.byteOffset||0,o.sparse.count*Zf.SCALAR),Ge=new v(d[2],de,o.sparse.count*m);null!==f&&(H=new Fi(H.array.slice(),H.itemSize,H.normalized));for(let Ze=0,_t=dt.length;Ze<_t;Ze++){const Fe=dt[Ze];if(H.setX(Fe,Ge[Ze*m]),m>=2&&H.setY(Fe,Ge[Ze*m+1]),m>=3&&H.setZ(Fe,Ge[Ze*m+2]),m>=4&&H.setW(Fe,Ge[Ze*m+3]),m>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return H})}loadTexture(e){const n=this.json,l=n.textures[e].source,d=n.images[l];let f=this.textureLoader;if(d.uri){const m=this.options.manager.getHandler(d.uri);null!==m&&(f=m)}return this.loadTextureImage(e,l,f)}loadTextureImage(e,n,r){const o=this,l=this.json,d=l.textures[e],f=l.images[n],m=(f.uri||f.bufferView)+":"+d.sampler;if(this.textureCache[m])return this.textureCache[m];const v=this.loadImageSource(n,r).then(function(w){w.flipY=!1,w.name=d.name||f.name||"",""===w.name&&"string"==typeof f.uri&&!1===f.uri.startsWith("data:image/")&&(w.name=f.uri);const A=(l.samplers||{})[d.sampler]||{};return w.magFilter=Vw[A.magFilter]||fe,w.minFilter=Vw[A.minFilter]||we,w.wrapS=Cp[A.wrapS]||rt,w.wrapT=Cp[A.wrapT]||rt,o.associations.set(w,{textures:e}),w}).catch(function(){return null});return this.textureCache[m]=v,v}loadImageSource(e,n){const o=this.json,l=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(S=>S.clone());const d=o.images[e],f=self.URL||self.webkitURL;let m=d.uri||"",v=!1;if(void 0!==d.bufferView)m=this.getDependency("bufferView",d.bufferView).then(function(S){v=!0;const A=new Blob([S],{type:d.mimeType});return m=f.createObjectURL(A),m});else if(void 0===d.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const w=Promise.resolve(m).then(function(S){return new Promise(function(A,R){let B=A;!0===n.isImageBitmapLoader&&(B=function(Y){const H=new zo(Y);H.needsUpdate=!0,A(H)}),n.load(Wu.resolveURL(S,l.path),B,void 0,R)})}).then(function(S){return!0===v&&f.revokeObjectURL(m),S.userData.mimeType=d.mimeType||function Hw(c){return c.search(/\.jpe?g($|\?)/i)>0||0===c.search(/^data\:image\/jpeg/)?"image/jpeg":c.search(/\.webp($|\?)/i)>0||0===c.search(/^data\:image\/webp/)?"image/webp":"image/png"}(d.uri),S}).catch(function(S){throw console.error("THREE.GLTFLoader: Couldn't load texture",m),S});return this.sourceCache[e]=w,w}assignTexture(e,n,r,o){const l=this;return this.getDependency("texture",r.index).then(function(d){if(!d)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((d=d.clone()).channel=r.texCoord),l.extensions[zs.KHR_TEXTURE_TRANSFORM]){const f=void 0!==r.extensions?r.extensions[zs.KHR_TEXTURE_TRANSFORM]:void 0;if(f){const m=l.associations.get(d);d=l.extensions[zs.KHR_TEXTURE_TRANSFORM].extendTexture(d,f),l.associations.set(d,m)}}return void 0!==o&&(d.colorSpace=o),e[n]=d,d})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const o=void 0===n.attributes.tangent,l=void 0!==n.attributes.color,d=void 0===n.attributes.normal;if(e.isPoints){const f="PointsMaterial:"+r.uuid;let m=this.cache.get(f);m||(m=new Xh,$.prototype.copy.call(m,r),m.color.copy(r.color),m.map=r.map,m.sizeAttenuation=!1,this.cache.add(f,m)),r=m}else if(e.isLine){const f="LineBasicMaterial:"+r.uuid;let m=this.cache.get(f);m||(m=new Sa,$.prototype.copy.call(m,r),m.color.copy(r.color),m.map=r.map,this.cache.add(f,m)),r=m}if(o||l||d){let f="ClonedMaterial:"+r.uuid+":";o&&(f+="derivative-tangents:"),l&&(f+="vertex-colors:"),d&&(f+="flat-shading:");let m=this.cache.get(f);m||(m=r.clone(),l&&(m.vertexColors=!0),d&&(m.flatShading=!0),o&&(m.normalScale&&(m.normalScale.y*=-1),m.clearcoatNormalScale&&(m.clearcoatNormalScale.y*=-1)),this.cache.add(f,m),this.associations.set(m,this.associations.get(r))),r=m}e.material=r}getMaterialType(){return eu}loadMaterial(e){const n=this,o=this.extensions,l=this.json.materials[e];let d;const f={},v=[];if((l.extensions||{})[zs.KHR_MATERIALS_UNLIT]){const S=o[zs.KHR_MATERIALS_UNLIT];d=S.getMaterialType(),v.push(S.extendParams(f,l,n))}else{const S=l.pbrMetallicRoughness||{};if(f.color=new yi(1,1,1),f.opacity=1,Array.isArray(S.baseColorFactor)){const A=S.baseColorFactor;f.color.setRGB(A[0],A[1],A[2],At),f.opacity=A[3]}void 0!==S.baseColorTexture&&v.push(n.assignTexture(f,"map",S.baseColorTexture,xt)),f.metalness=void 0!==S.metallicFactor?S.metallicFactor:1,f.roughness=void 0!==S.roughnessFactor?S.roughnessFactor:1,void 0!==S.metallicRoughnessTexture&&(v.push(n.assignTexture(f,"metalnessMap",S.metallicRoughnessTexture)),v.push(n.assignTexture(f,"roughnessMap",S.metallicRoughnessTexture))),d=this._invokeOne(function(A){return A.getMaterialType&&A.getMaterialType(e)}),v.push(Promise.all(this._invokeAll(function(A){return A.extendMaterialParams&&A.extendMaterialParams(e,f)})))}!0===l.doubleSided&&(f.side=2);const w=l.alphaMode||"OPAQUE";if("BLEND"===w?(f.transparent=!0,f.depthWrite=!1):(f.transparent=!1,"MASK"===w&&(f.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&d!==T&&(v.push(n.assignTexture(f,"normalMap",l.normalTexture)),f.normalScale=new Gn(1,1),void 0!==l.normalTexture.scale)){const S=l.normalTexture.scale;f.normalScale.set(S,S)}if(void 0!==l.occlusionTexture&&d!==T&&(v.push(n.assignTexture(f,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(f.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&d!==T){const S=l.emissiveFactor;f.emissive=(new yi).setRGB(S[0],S[1],S[2],At)}return void 0!==l.emissiveTexture&&d!==T&&v.push(n.assignTexture(f,"emissiveMap",l.emissiveTexture,xt)),Promise.all(v).then(function(){const S=new d(f);return l.name&&(S.name=l.name),Yu(S,l),n.associations.set(S,{materials:e}),l.extensions&&Ld(o,S,l),S})}createUniqueName(e){const n=_o.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,o=this.primitiveCache;function l(f){return r[zs.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(f,n).then(function(m){return Hl(m,f,n)})}const d=[];for(let f=0,m=e.length;f<m;f++){const v=e[f],w=Fd(v),S=o[w];if(S)d.push(S.promise);else{let A;A=v.extensions&&v.extensions[zs.KHR_DRACO_MESH_COMPRESSION]?l(v):Hl(new os,v,n),o[w]={primitive:v,promise:A},d.push(A)}}return Promise.all(d)}loadMesh(e){const n=this,o=this.extensions,l=this.json.meshes[e],d=l.primitives,f=[];for(let m=0,v=d.length;m<v;m++){const w=void 0===d[m].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new eu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),c.DefaultMaterial):this.getDependency("material",d[m].material);f.push(w)}var c;return f.push(n.loadGeometries(d)),Promise.all(f).then(function(m){const v=m.slice(0,m.length-1),w=m[m.length-1],S=[];for(let R=0,B=w.length;R<B;R++){const Y=w[R],H=d[R];let U;const ue=v[R];if(H.mode===fl.TRIANGLES||H.mode===fl.TRIANGLE_STRIP||H.mode===fl.TRIANGLE_FAN||void 0===H.mode)U=!0===l.isSkinnedMesh?new Am(Y,ue):new oa(Y,ue),!0===U.isSkinnedMesh&&U.normalizeSkinWeights(),H.mode===fl.TRIANGLE_STRIP?U.geometry=ly(U.geometry,1):H.mode===fl.TRIANGLE_FAN&&(U.geometry=ly(U.geometry,2));else if(H.mode===fl.LINES)U=new zr(Y,ue);else if(H.mode===fl.LINE_STRIP)U=new Jc(Y,ue);else if(H.mode===fl.LINE_LOOP)U=new Pm(Y,ue);else{if(H.mode!==fl.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+H.mode);U=new Cf(Y,ue)}Object.keys(U.geometry.morphAttributes).length>0&&$E(U,l),U.name=n.createUniqueName(l.name||"mesh_"+e),Yu(U,l),H.extensions&&Ld(o,U,H),n.assignFinalMaterial(U),S.push(U)}for(let R=0,B=S.length;R<B;R++)n.associations.set(S[R],{meshes:e,primitives:R});if(1===S.length)return l.extensions&&Ld(o,S[0],l),S[0];const A=new Ml;l.extensions&&Ld(o,A,l),n.associations.set(A,{meshes:e});for(let R=0,B=S.length;R<B;R++)A.add(S[R]);return A})}loadCamera(e){let n;const r=this.json.cameras[e],o=r[r.type];if(o)return"perspective"===r.type?n=new Xo(bl_radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(n=new wu(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Yu(n,r),Promise.resolve(n);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const n=this.json.skins[e],r=[];for(let o=0,l=n.joints.length;o<l;o++)r.push(this._loadNodeShallow(n.joints[o]));return r.push(void 0!==n.inverseBindMatrices?this.getDependency("accessor",n.inverseBindMatrices):null),Promise.all(r).then(function(o){const l=o.pop(),d=o,f=[],m=[];for(let v=0,w=d.length;v<w;v++){const S=d[v];if(S){f.push(S);const A=new dr;null!==l&&A.fromArray(l.array,16*v),m.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[v])}return new vf(f,m)})}loadAnimation(e){const r=this,o=this.json.animations[e],l=o.name?o.name:"animation_"+e,d=[],f=[],m=[],v=[],w=[];for(let S=0,A=o.channels.length;S<A;S++){const R=o.channels[S],B=o.samplers[R.sampler],Y=R.target,U=void 0!==o.parameters?o.parameters[B.input]:B.input,ue=void 0!==o.parameters?o.parameters[B.output]:B.output;void 0!==Y.node&&(d.push(this.getDependency("node",Y.node)),f.push(this.getDependency("accessor",U)),m.push(this.getDependency("accessor",ue)),v.push(B),w.push(Y))}return Promise.all([Promise.all(d),Promise.all(f),Promise.all(m),Promise.all(v),Promise.all(w)]).then(function(S){const A=S[0],R=S[1],B=S[2],Y=S[3],H=S[4],U=[];for(let ue=0,re=A.length;ue<re;ue++){const de=A[ue],dt=R[ue],Ge=B[ue],Ze=Y[ue],_t=H[ue];if(void 0===de)continue;de.updateMatrix&&de.updateMatrix();const Fe=r._createAnimationTracks(de,dt,Ge,Ze,_t);if(Fe)for(let Me=0;Me<Fe.length;Me++)U.push(Fe[Me])}return new Id(l,void 0,U)})}createNodeMesh(e){const r=this,o=this.json.nodes[e];return void 0===o.mesh?null:r.getDependency("mesh",o.mesh).then(function(l){const d=r._getNodeRef(r.meshCache,o.mesh,l);return void 0!==o.weights&&d.traverse(function(f){if(f.isMesh)for(let m=0,v=o.weights.length;m<v;m++)f.morphTargetInfluences[m]=o.weights[m]}),d})}loadNode(e){const r=this,o=this.json.nodes[e],l=r._loadNodeShallow(e),d=[],f=o.children||[];for(let v=0,w=f.length;v<w;v++)d.push(r.getDependency("node",f[v]));const m=void 0===o.skin?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([l,Promise.all(d),m]).then(function(v){const w=v[0],S=v[1],A=v[2];null!==A&&w.traverse(function(R){R.isSkinnedMesh&&R.bind(A,$w)});for(let R=0,B=S.length;R<B;R++)w.add(S[R]);return w})}_loadNodeShallow(e){const r=this.extensions,o=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const l=this.json.nodes[e],d=l.name?o.createUniqueName(l.name):"",f=[],m=o._invokeOne(function(v){return v.createNodeMesh&&v.createNodeMesh(e)});return m&&f.push(m),void 0!==l.camera&&f.push(o.getDependency("camera",l.camera).then(function(v){return o._getNodeRef(o.cameraCache,l.camera,v)})),o._invokeAll(function(v){return v.createNodeAttachment&&v.createNodeAttachment(e)}).forEach(function(v){f.push(v)}),this.nodeCache[e]=Promise.all(f).then(function(v){let w;if(w=!0===l.isBone?new gf:v.length>1?new Ml:1===v.length?v[0]:new Rn,w!==v[0])for(let S=0,A=v.length;S<A;S++)w.add(v[S]);if(l.name&&(w.userData.name=l.name,w.name=d),Yu(w,l),l.extensions&&Ld(r,w,l),void 0!==l.matrix){const S=new dr;S.fromArray(l.matrix),w.applyMatrix4(S)}else void 0!==l.translation&&w.position.fromArray(l.translation),void 0!==l.rotation&&w.quaternion.fromArray(l.rotation),void 0!==l.scale&&w.scale.fromArray(l.scale);return o.associations.has(w)||o.associations.set(w,{}),o.associations.get(w).nodes=e,w}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],o=this,l=new Ml;r.name&&(l.name=o.createUniqueName(r.name)),Yu(l,r),r.extensions&&Ld(n,l,r);const d=r.nodes||[],f=[];for(let m=0,v=d.length;m<v;m++)f.push(o.getDependency("node",d[m]));return Promise.all(f).then(function(m){for(let w=0,S=m.length;w<S;w++)l.add(m[w]);return o.associations=(w=>{const S=new Map;for(const[A,R]of o.associations)(A instanceof $||A instanceof zo)&&S.set(A,R);return w.traverse(A=>{const R=o.associations.get(A);null!=R&&S.set(A,R)}),S})(l),l})}_createAnimationTracks(e,n,r,o,l){const d=[],f=e.name?e.name:e.uuid,m=[];let v;switch(Ic[l.path]===Ic.weights?e.traverse(function(A){A.morphTargetInfluences&&m.push(A.name?A.name:A.uuid)}):m.push(f),Ic[l.path]){case Ic.weights:v=$f;break;case Ic.rotation:v=Gu;break;case Ic.position:case Ic.scale:v=Dd;break;default:v=1===r.itemSize?$f:Dd}const w=void 0!==o.interpolation?Sg[o.interpolation]:Mr,S=this._getArrayFromAccessor(r);for(let A=0,R=m.length;A<R;A++){const B=new v(m[A]+"."+Ic[l.path],n.array,S,w);"CUBICSPLINE"===o.interpolation&&this._createCubicSplineTrackInterpolant(B),d.push(B)}return d}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=kd(n.constructor),o=new Float32Array(n.length);for(let l=0,d=n.length;l<d;l++)o[l]=n[l]*r;n=o}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){return new(this instanceof Gu?Ku:xg)(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Hl(c,e,n){const r=e.attributes,o=[];function l(d,f){return n.getDependency("accessor",d).then(function(m){c.setAttribute(f,m)})}for(const d in r){const f=Eg[d]||d.toLowerCase();f in c.attributes||o.push(l(r[d],f))}if(void 0!==e.indices&&!c.index){const d=n.getDependency("accessor",e.indices).then(function(f){c.setIndex(f)});o.push(d)}return Os.workingColorSpace!==At&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Os.workingColorSpace}" not supported.`),Yu(c,e),function Gw(c,e,n){const r=e.attributes,o=new We;if(void 0===r.POSITION)return;{const f=n.json.accessors[r.POSITION],m=f.min,v=f.max;if(void 0===m||void 0===v)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new it(m[0],m[1],m[2]),new it(v[0],v[1],v[2])),f.normalized){const w=kd(Nd[f.componentType]);o.min.multiplyScalar(w),o.max.multiplyScalar(w)}}const l=e.targets;if(void 0!==l){const f=new it,m=new it;for(let v=0,w=l.length;v<w;v++){const S=l[v];if(void 0!==S.POSITION){const A=n.json.accessors[S.POSITION],R=A.min,B=A.max;if(void 0!==R&&void 0!==B){if(m.setX(Math.max(Math.abs(R[0]),Math.abs(B[0]))),m.setY(Math.max(Math.abs(R[1]),Math.abs(B[1]))),m.setZ(Math.max(Math.abs(R[2]),Math.abs(B[2]))),A.normalized){const Y=kd(Nd[A.componentType]);m.multiplyScalar(Y)}f.max(m)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(f)}c.boundingBox=o;const d=new Jr;o.getCenter(d.center),d.radius=o.min.distanceTo(o.max)/2,c.boundingSphere=d}(c,e,n),Promise.all(o).then(function(){return void 0!==e.targets?function zw(c,e,n){let r=!1,o=!1,l=!1;for(let v=0,w=e.length;v<w;v++){const S=e[v];if(void 0!==S.POSITION&&(r=!0),void 0!==S.NORMAL&&(o=!0),void 0!==S.COLOR_0&&(l=!0),r&&o&&l)break}if(!r&&!o&&!l)return Promise.resolve(c);const d=[],f=[],m=[];for(let v=0,w=e.length;v<w;v++){const S=e[v];if(r){const A=void 0!==S.POSITION?n.getDependency("accessor",S.POSITION):c.attributes.position;d.push(A)}if(o){const A=void 0!==S.NORMAL?n.getDependency("accessor",S.NORMAL):c.attributes.normal;f.push(A)}if(l){const A=void 0!==S.COLOR_0?n.getDependency("accessor",S.COLOR_0):c.attributes.color;m.push(A)}}return Promise.all([Promise.all(d),Promise.all(f),Promise.all(m)]).then(function(v){const S=v[1],A=v[2];return r&&(c.morphAttributes.position=v[0]),o&&(c.morphAttributes.normal=S),l&&(c.morphAttributes.color=A),c.morphTargetsRelative=!0,c})}(c,e.targets,n):c})}const Ud={type:"change"},ko={type:"start"},ou={type:"end"},Zu=new El,hl=new gc,Qf=Math.cos(70*bl_DEG2RAD);class jw extends X{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new it,this.cursor=new it,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Te){Te.addEventListener("keydown",ls),this._domElementKeyEvents=Te},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ls),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Ud),r.update(),l=o.NONE},this.update=function(){const Te=new it,gn=(new Ao).setFromUnitVectors(e.up,new it(0,1,0)),Mn=gn.clone().invert(),fi=new it,Ri=new Ao,bs=new it,gs=2*Math.PI;return function(Uo=null){const Hs=r.object.position;Te.copy(Hs).sub(r.target),Te.applyQuaternion(gn),f.setFromVector3(Te),r.autoRotate&&l===o.NONE&&Sn(function Me(Te){return null!==Te?2*Math.PI/60*r.autoRotateSpeed*Te:2*Math.PI/60/60*r.autoRotateSpeed}(Uo)),r.enableDamping?(f.theta+=m.theta*r.dampingFactor,f.phi+=m.phi*r.dampingFactor):(f.theta+=m.theta,f.phi+=m.phi);let Do=r.minAzimuthAngle,fo=r.maxAzimuthAngle;isFinite(Do)&&isFinite(fo)&&(Do<-Math.PI?Do+=gs:Do>Math.PI&&(Do-=gs),fo<-Math.PI?fo+=gs:fo>Math.PI&&(fo-=gs),f.theta=Do<=fo?Math.max(Do,Math.min(fo,f.theta)):f.theta>(Do+fo)/2?Math.max(Do,f.theta):Math.min(fo,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),!0===r.enableDamping?r.target.addScaledVector(w,r.dampingFactor):r.target.add(w),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor);let pl=!1;if(r.zoomToCursor&&Ge||r.object.isOrthographicCamera)f.radius=wi(f.radius);else{const Ma=f.radius;f.radius=wi(f.radius*v),pl=Ma!=f.radius}if(Te.setFromSpherical(f),Te.applyQuaternion(Mn),Hs.copy(r.target).add(Te),r.object.lookAt(r.target),!0===r.enableDamping?(m.theta*=1-r.dampingFactor,m.phi*=1-r.dampingFactor,w.multiplyScalar(1-r.dampingFactor)):(m.set(0,0,0),w.set(0,0,0)),r.zoomToCursor&&Ge){let Ma=null;if(r.object.isPerspectiveCamera){const ml=Te.length();Ma=wi(ml*v);const il=ml-Ma;r.object.position.addScaledVector(de,il),r.object.updateMatrixWorld(),pl=!!il}else if(r.object.isOrthographicCamera){const ml=new it(dt.x,dt.y,0);ml.unproject(r.object);const il=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix(),pl=il!==r.object.zoom;const sc=new it(dt.x,dt.y,0);sc.unproject(r.object),r.object.position.sub(sc).add(ml),r.object.updateMatrixWorld(),Ma=Te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;null!==Ma&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Ma).add(r.object.position):(Zu.origin.copy(r.object.position),Zu.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Zu.direction))<Qf?e.lookAt(r.target):(hl.setFromNormalAndCoplanarPoint(r.object.up,r.target),Zu.intersectPlane(hl,r.target))))}else if(r.object.isOrthographicCamera){const Ma=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),Ma!==r.object.zoom&&(r.object.updateProjectionMatrix(),pl=!0)}return v=1,Ge=!1,!!(pl||fi.distanceToSquared(r.object.position)>d||8*(1-Ri.dot(r.object.quaternion))>d||bs.distanceToSquared(r.target)>d)&&(r.dispatchEvent(Ud),fi.copy(r.object.position),Ri.copy(r.object.quaternion),bs.copy(r.target),!0)}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",As),r.domElement.removeEventListener("pointerdown",yt),r.domElement.removeEventListener("pointercancel",Tn),r.domElement.removeEventListener("wheel",li),r.domElement.removeEventListener("pointermove",He),r.domElement.removeEventListener("pointerup",Tn),r.domElement.getRootNode().removeEventListener("keydown",$i,{capture:!0}),null!==r._domElementKeyEvents&&(r._domElementKeyEvents.removeEventListener("keydown",ls),r._domElementKeyEvents=null)};const r=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const d=1e-6,f=new iy,m=new iy;let v=1;const w=new it,S=new Gn,A=new Gn,R=new Gn,B=new Gn,Y=new Gn,H=new Gn,U=new Gn,ue=new Gn,re=new Gn,de=new it,dt=new Gn;let Ge=!1;const Ze=[],_t={};let Fe=!1;function qt(Te){const gn=Math.abs(.01*Te);return Math.pow(.95,r.zoomSpeed*gn)}function Sn(Te){m.theta-=Te}function kt(Te){m.phi-=Te}const An=function(){const Te=new it;return function(Mn,fi){Te.setFromMatrixColumn(fi,0),Te.multiplyScalar(-Mn),w.add(Te)}}(),zn=function(){const Te=new it;return function(Mn,fi){!0===r.screenSpacePanning?Te.setFromMatrixColumn(fi,1):(Te.setFromMatrixColumn(fi,0),Te.crossVectors(r.object.up,Te)),Te.multiplyScalar(Mn),w.add(Te)}}(),Yn=function(){const Te=new it;return function(Mn,fi){const Ri=r.domElement;if(r.object.isPerspectiveCamera){Te.copy(r.object.position).sub(r.target);let gs=Te.length();gs*=Math.tan(r.object.fov/2*Math.PI/180),An(2*Mn*gs/Ri.clientHeight,r.object.matrix),zn(2*fi*gs/Ri.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(An(Mn*(r.object.right-r.object.left)/r.object.zoom/Ri.clientWidth,r.object.matrix),zn(fi*(r.object.top-r.object.bottom)/r.object.zoom/Ri.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function Oi(Te){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v/=Te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Bn(Te){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v*=Te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function bi(Te,gn){if(!r.zoomToCursor)return;Ge=!0;const Mn=r.domElement.getBoundingClientRect(),Ri=gn-Mn.top,gs=Mn.height;dt.x=(Te-Mn.left)/Mn.width*2-1,dt.y=-Ri/gs*2+1,de.set(dt.x,dt.y,1).unproject(r.object).sub(r.object.position).normalize()}function wi(Te){return Math.max(r.minDistance,Math.min(r.maxDistance,Te))}function nr(Te){S.set(Te.clientX,Te.clientY)}function ps(Te){B.set(Te.clientX,Te.clientY)}function as(Te){if(1===Ze.length)S.set(Te.pageX,Te.pageY);else{const gn=mo(Te);S.set(.5*(Te.pageX+gn.x),.5*(Te.pageY+gn.y))}}function hn(Te){if(1===Ze.length)B.set(Te.pageX,Te.pageY);else{const gn=mo(Te);B.set(.5*(Te.pageX+gn.x),.5*(Te.pageY+gn.y))}}function Es(Te){const gn=mo(Te),Mn=Te.pageX-gn.x,fi=Te.pageY-gn.y,Ri=Math.sqrt(Mn*Mn+fi*fi);U.set(0,Ri)}function Jn(Te){if(1==Ze.length)A.set(Te.pageX,Te.pageY);else{const Mn=mo(Te);A.set(.5*(Te.pageX+Mn.x),.5*(Te.pageY+Mn.y))}R.subVectors(A,S).multiplyScalar(r.rotateSpeed);const gn=r.domElement;Sn(2*Math.PI*R.x/gn.clientHeight),kt(2*Math.PI*R.y/gn.clientHeight),S.copy(A)}function ki(Te){if(1===Ze.length)Y.set(Te.pageX,Te.pageY);else{const gn=mo(Te);Y.set(.5*(Te.pageX+gn.x),.5*(Te.pageY+gn.y))}H.subVectors(Y,B).multiplyScalar(r.panSpeed),Yn(H.x,H.y),B.copy(Y)}function vi(Te){const gn=mo(Te),Mn=Te.pageX-gn.x,fi=Te.pageY-gn.y,Ri=Math.sqrt(Mn*Mn+fi*fi);ue.set(0,Ri),re.set(0,Math.pow(ue.y/U.y,r.zoomSpeed)),Oi(re.y),U.copy(ue),bi(.5*(Te.pageX+gn.x),.5*(Te.pageY+gn.y))}function yt(Te){!1!==r.enabled&&(0===Ze.length&&(r.domElement.setPointerCapture(Te.pointerId),r.domElement.addEventListener("pointermove",He),r.domElement.addEventListener("pointerup",Tn)),!function Ss(Te){for(let gn=0;gn<Ze.length;gn++)if(Ze[gn]==Te.pointerId)return!0;return!1}(Te)&&(function Gr(Te){Ze.push(Te.pointerId)}(Te),"touch"===Te.pointerType?Li(Te):function ei(Te){let gn;switch(Te.button){case 0:gn=r.mouseButtons.LEFT;break;case 1:gn=r.mouseButtons.MIDDLE;break;case 2:gn=r.mouseButtons.RIGHT;break;default:gn=-1}switch(gn){case 1:if(!1===r.enableZoom)return;(function hs(Te){bi(Te.clientX,Te.clientX),U.set(Te.clientX,Te.clientY)})(Te),l=o.DOLLY;break;case 0:if(Te.ctrlKey||Te.metaKey||Te.shiftKey){if(!1===r.enablePan)return;ps(Te),l=o.PAN}else{if(!1===r.enableRotate)return;nr(Te),l=o.ROTATE}break;case 2:if(Te.ctrlKey||Te.metaKey||Te.shiftKey){if(!1===r.enableRotate)return;nr(Te),l=o.ROTATE}else{if(!1===r.enablePan)return;ps(Te),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(ko)}(Te)))}function He(Te){!1!==r.enabled&&("touch"===Te.pointerType?function Ir(Te){switch(Ns(Te),l){case o.TOUCH_ROTATE:if(!1===r.enableRotate)return;Jn(Te),r.update();break;case o.TOUCH_PAN:if(!1===r.enablePan)return;ki(Te),r.update();break;case o.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;(function rr(Te){r.enableZoom&&vi(Te),r.enablePan&&ki(Te)})(Te),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function Ur(Te){r.enableZoom&&vi(Te),r.enableRotate&&Jn(Te)})(Te),r.update();break;default:l=o.NONE}}(Te):function mi(Te){switch(l){case o.ROTATE:if(!1===r.enableRotate)return;!function jn(Te){A.set(Te.clientX,Te.clientY),R.subVectors(A,S).multiplyScalar(r.rotateSpeed);const gn=r.domElement;Sn(2*Math.PI*R.x/gn.clientHeight),kt(2*Math.PI*R.y/gn.clientHeight),S.copy(A),r.update()}(Te);break;case o.DOLLY:if(!1===r.enableZoom)return;!function Ai(Te){ue.set(Te.clientX,Te.clientY),re.subVectors(ue,U),re.y>0?Oi(qt(re.y)):re.y<0&&Bn(qt(re.y)),U.copy(ue),r.update()}(Te);break;case o.PAN:if(!1===r.enablePan)return;!function Hi(Te){Y.set(Te.clientX,Te.clientY),H.subVectors(Y,B).multiplyScalar(r.panSpeed),Yn(H.x,H.y),B.copy(Y),r.update()}(Te)}}(Te))}function Tn(Te){switch(function Yi(Te){delete _t[Te.pointerId];for(let gn=0;gn<Ze.length;gn++)if(Ze[gn]==Te.pointerId)return void Ze.splice(gn,1)}(Te),Ze.length){case 0:r.domElement.releasePointerCapture(Te.pointerId),r.domElement.removeEventListener("pointermove",He),r.domElement.removeEventListener("pointerup",Tn),r.dispatchEvent(ou),l=o.NONE;break;case 1:const gn=Ze[0],Mn=_t[gn];Li({pointerId:gn,pageX:Mn.x,pageY:Mn.y})}}function li(Te){!1===r.enabled||!1===r.enableZoom||l!==o.NONE||(Te.preventDefault(),r.dispatchEvent(ko),function Di(Te){bi(Te.clientX,Te.clientY),Te.deltaY<0?Bn(qt(Te.deltaY)):Te.deltaY>0&&Oi(qt(Te.deltaY)),r.update()}(function Pr(Te){const Mn={clientX:Te.clientX,clientY:Te.clientY,deltaY:Te.deltaY};switch(Te.deltaMode){case 1:Mn.deltaY*=16;break;case 2:Mn.deltaY*=100}return Te.ctrlKey&&!Fe&&(Mn.deltaY*=10),Mn}(Te)),r.dispatchEvent(ou))}function $i(Te){"Control"===Te.key&&(Fe=!0,r.domElement.getRootNode().addEventListener("keyup",Vi,{passive:!0,capture:!0}))}function Vi(Te){"Control"===Te.key&&(Fe=!1,r.domElement.getRootNode().removeEventListener("keyup",Vi,{passive:!0,capture:!0}))}function ls(Te){!1===r.enabled||!1===r.enablePan||function Xr(Te){let gn=!1;switch(Te.code){case r.keys.UP:Te.ctrlKey||Te.metaKey||Te.shiftKey?kt(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Yn(0,r.keyPanSpeed),gn=!0;break;case r.keys.BOTTOM:Te.ctrlKey||Te.metaKey||Te.shiftKey?kt(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Yn(0,-r.keyPanSpeed),gn=!0;break;case r.keys.LEFT:Te.ctrlKey||Te.metaKey||Te.shiftKey?Sn(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Yn(r.keyPanSpeed,0),gn=!0;break;case r.keys.RIGHT:Te.ctrlKey||Te.metaKey||Te.shiftKey?Sn(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):Yn(-r.keyPanSpeed,0),gn=!0}gn&&(Te.preventDefault(),r.update())}(Te)}function Li(Te){switch(Ns(Te),Ze.length){case 1:switch(r.touches.ONE){case 0:if(!1===r.enableRotate)return;as(Te),l=o.TOUCH_ROTATE;break;case 1:if(!1===r.enablePan)return;hn(Te),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case 2:if(!1===r.enableZoom&&!1===r.enablePan)return;(function Qn(Te){r.enableZoom&&Es(Te),r.enablePan&&hn(Te)})(Te),l=o.TOUCH_DOLLY_PAN;break;case 3:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function xi(Te){r.enableZoom&&Es(Te),r.enableRotate&&as(Te)})(Te),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(ko)}function As(Te){!1!==r.enabled&&Te.preventDefault()}function Ns(Te){let gn=_t[Te.pointerId];void 0===gn&&(gn=new Gn,_t[Te.pointerId]=gn),gn.set(Te.pageX,Te.pageY)}function mo(Te){return _t[Te.pointerId===Ze[0]?Ze[1]:Ze[0]]}r.domElement.addEventListener("contextmenu",As),r.domElement.addEventListener("pointerdown",yt),r.domElement.addEventListener("pointercancel",Tn),r.domElement.addEventListener("wheel",li,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",$i,{passive:!0,capture:!0}),this.update()}}const Bd=["rendererContainer"];let _y=(()=>{var c;class e{constructor(){}ngAfterViewInit(){const r=this.rendererContainer.nativeElement,o=new kh;this.camera=new Xo(75,r.clientWidth/r.clientHeight,.1,1e3),this.renderer=new bm({antialias:!0}),this.renderer.setSize(r.clientWidth,r.clientHeight),r.appendChild(this.renderer.domElement),o.background=new yi(0);const l=new dp(16777215,.5);o.add(l);const d=new Rd(16777215,1);d.position.set(0,10,10),o.add(d);const f=new Rd(16777215,1);f.position.set(10,10,0),o.add(f);const m=new Rd(16777215,1);m.position.set(-10,10,0),o.add(m);const v=new Rd(16777215,1);v.position.set(0,-10,-10),o.add(v);const w=new Al(16777215,1,100);w.position.set(5,5,5),o.add(w);const S=new Al(16777215,1,100);S.position.set(-5,-5,5),o.add(S);const A=new Al(16777215,1,100);A.position.set(-5,5,-5),o.add(A);const R=new Al(16777215,1,100);R.position.set(5,-5,-5),o.add(R);const B=new Al(16777215,1,100);B.position.set(5,5,-5),o.add(B);const Y=new Al(16777215,1,100);Y.position.set(-5,-5,-5),o.add(Y);const H=new Al(16777215,1,100);H.position.set(-5,5,5),o.add(H);const U=new Al(16777215,1,100);U.position.set(5,-5,5),o.add(U);const ue=new $0(16777215,4473924,1);ue.position.set(0,10,0),o.add(ue),this.controls=new jw(this.camera,this.renderer.domElement),(new BE).load("assets/gojo.glb",dt=>{o.add(dt.scene),dt.scene.position.set(0,0,0)},void 0,dt=>{console.error("An error happened while loading the model:",dt)}),this.camera.position.z=5;const de=()=>{requestAnimationFrame(de),this.controls.update(),this.renderer.render(o,this.camera)};de(),r.addEventListener("click",()=>this.enterFullscreen(r))}enterFullscreen(r){r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen();const o=()=>{const l=r.clientWidth,d=r.clientHeight;this.renderer.setSize(l,d),this.camera.aspect=l/d,this.camera.updateProjectionMatrix()};window.addEventListener("resize",o),o()}}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275cmp=k.VBU({type:c,selectors:[["app-model-viewer"]],viewQuery:function(r,o){if(1&r&&k.GBs(Bd,5),2&r){let l;k.mGM(l=k.lsd())&&(o.rendererContainer=l.first)}},decls:2,vars:0,consts:[["rendererContainer",""],[1,"renderer-container"]],template:function(r,o){1&r&&k.nrm(0,"div",1,0)},styles:[".renderer-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;cursor:pointer}"]}),e})();const by=["swiper"],Ww=[{path:"",component:(()=>{var c;class e{constructor(r){this.router=r}segmentChanged(r){this.router.navigate([r.detail.value])}swiperReady(){var r;this.swiper=null===(r=this.swiperRef)||void 0===r?void 0:r.nativeElement.swiper}ngOnInit(){}}return(c=e).\u0275fac=function(r){return new(r||c)(k.rXU(St.Ix))},c.\u0275cmp=k.VBU({type:c,selectors:[["app-tres"]],viewQuery:function(r,o){if(1&r&&k.GBs(by,5),2&r){let l;k.mGM(l=k.lsd())&&(o.swiperRef=l.first)}},decls:175,vars:4,consts:[["swiper",""],[3,"translucent"],[3,"ionChange","scrollable"],["value","home"],["name","home"],["value","historia"],["name","hardware-chip-outline"],["value","tres"],["name","pin"],[2,"width","100%","height","auto","background-color","#151E26"],[2,"margin-left","5px","margin-right","10px","height","auto"],["size","3 ",2,"height","100%"],["size","6",2,"height","auto"],[2,"color","#f2f2f2"],[2,"color","rgb(7, 253, 19)"],["size","12",2,"padding-left","30px","padding-right","20px"],[2,"color","rgb(252, 249, 246)","font-family","'Times New Roman', Times, serif","font-size","21px"],[2,"width","100%","height","auto","padding-left","30px","font-family","'Times New Roman', Times, serif","background-color","#151E26"],[2,"color","rgb(7, 253, 19)","font-size","30px","padding-top","20px","padding-bottom","14px","background-color","151E26"],[2,"color","rgb(252, 249, 246)",";margin-left","30px","font-family","'Times New Roman', Times, serif","font-size","21px","margin-top","20px","margin-bottom","14px","background-color","151E26"],[2,"margin-left","30px","font-family","'Times New Roman', Times, serif","font-size","21px","color","rgb(252, 249, 246)"],[2,"color","rgb(7, 253, 19)","margin-left","30px","margin-top","0px","font-size","28px"],[1,"contenedor"],[1,"diagrama"],["src","assets/diagrama.jpg"],[2,"width","100%","height","auto","padding-left","35px","background-color","orange"],[2,"font-family","Georgia, 'Times New Roman', Times, serif","font-size","26px","color","rgb(7, 253, 19)","background-color","orange"],[2,"width","100%","height","auto","background-color","orange","position","relative","padding","20px 20px 20px 20px"],[2,"width","100%","height","auto",3,"swiper","loop","pagination"],[1,"af",2,"height","100%","display","flex","align-items","center","justify-content","center","text-align","center"],[2,"height","100%"],["size-lg","6","size","12"],[2,"border","none","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","border-radius","20px","background-color","#f2f2f2"],[2,"margin","20px","text-align","center"],["src","assets/batery.png",2,"width","80%","height","auto","border-radius","50%"],[2,"border","none","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center","background-color","#f2f2f2"],[2,"font-size","1.3rem","text-align","justify","color","black"],[2,"color","rgb(15, 248, 105)","font-size","21px"],[2,"margin","20px"],["src","assets/breake.png",2,"width","80%","height","auto"],["src","assets/cable.png",2,"width","80%","height","auto"],["src","assets/cobre.png",2,"width","80%","height","auto"],["src","assets/Fusibles.png",2,"width","80%","height","auto"],["src","assets/cerbo.png",2,"width","80%","height","auto"],["src","assets/panelsolar.jpeg",2,"width","80%","height","auto"],["src","assets/azul.png",2,"width","80%","height","auto"],["src","assets/monica.png",2,"width","80%","height","auto"],[1,"model-viewer-wrapper"]],template:function(r,o){if(1&r){const l=k.RV6();k.j41(0,"ion-header",1)(1,"ion-segment",2),k.bIt("ionChange",function(f){return k.eBV(l),k.Njj(o.segmentChanged(f))}),k.j41(2,"ion-segment-button",3),k.nrm(3,"ion-icon",4),k.EFF(4,"Inicio "),k.k0s(),k.j41(5,"ion-segment-button",5),k.EFF(6,"Paneles Solares "),k.nrm(7,"ion-icon",6),k.k0s(),k.j41(8,"ion-segment-button",7),k.EFF(9,"Generador Solar "),k.nrm(10,"ion-icon",8),k.k0s()()(),k.j41(11,"ion-content")(12,"div",9)(13,"ion-grid")(14,"ion-row",10),k.nrm(15,"ion-col",11),k.j41(16,"ion-col",12)(17,"h1",13),k.EFF(18,"Rural Energy mejor generador solar port\xe1til de 500w para acampar"),k.k0s(),k.j41(19,"h4",14),k.EFF(20,"Generador solar | Bater\xedas de Plomo Acido GEl de 12V "),k.k0s(),k.j41(21,"h4",14),k.EFF(22,"Regulador de carga | MPPT"),k.k0s(),k.j41(23,"h4",14),k.EFF(24," Inversor | Phoenix 12/500"),k.k0s()()()()(),k.j41(25,"div",9)(26,"ion-grid")(27,"ion-row")(28,"ion-col",15)(29,"p",16),k.EFF(30,"El generador solar port\xe1til Rural Energy de 500w es ideal para acampar y para lugares sin acceso a luz electrica."),k.k0s(),k.j41(31,"p",16),k.EFF(32," Es una estaci\xf3n de energ\xeda el\xe9ctrica multifunci\xf3nal, utiliza energ\xeda del sol para producir enegia electrica. Este generador solar integra una bateria de litio, un controlador de carga solar MPPT y un inversor en un sistema compacto para convertir la energ\xeda solar en corriente el\xe9ctrica. "),k.k0s(),k.j41(33,"p",16),k.EFF(34,"Cada componente est\xe1 dise\xf1ado para coincidir con la clasificaci\xf3n de electricidad del dispositivo que recibe energ\xeda."),k.k0s(),k.j41(35,"p",16),k.EFF(36,"La fuente de alimentaci\xf3n de litio con generador solar port\xe1til de 24v y 3000w de energ\xeda gratuita no solo proporciona salida de CC para aplicaciones de energ\xeda de CC como luz LED y ventilador de CC, sino que tambi\xe9n proporciona puertos USB para cargar r\xe1pidamente dispositivos electr\xf3nicos de consumo como tel\xe9fonos m\xf3viles. "),k.k0s()()()()(),k.j41(37,"div",17)(38,"h2",18),k.EFF(39,"\xbfComo funciona?"),k.k0s(),k.j41(40,"p",19),k.EFF(41," El generador solar port\xe1til Rural Enegy tiene una sola forma de carga. Que es a trav\xe9s de los paneles solares incluidos El sistema de generador solar consta de 2 baterias de plomo de Acido (GEL) de 12V de que almacena la corriente CC que recibe de los paneles solares,incluye un controlador MPPT de \xfaltima generaci\xf3n cuya funcion es rastrear continuamente el punto de m\xe1xima potencia del panel solar y ajustar la operaci\xf3n del sistema para maximizar la producci\xf3n de energ\xeda , tambien cuenta con un Inversor para convetir la corriente CC a corriente CA.."),k.k0s(),k.j41(42,"p",20),k.EFF(43," Adem\xe1s, el generador no requiere gas para funcionar y no emite vapores t\xf3xicos como lo hacen los generadores de gas est\xe1ndar, sin mencionar que no produce ning\xfan sonido.En su cubierta metalica cuencta con toma corriente CA y puento USB para cargas tus dispositivos."),k.k0s(),k.j41(44,"h1",21),k.EFF(45,"Esquema"),k.k0s()(),k.nrm(46,"hr"),k.j41(47,"div",22)(48,"div",23),k.nrm(49,"ion-img",24),k.k0s()(),k.j41(50,"div",25)(51,"p",26),k.EFF(52,"Materiales"),k.k0s()(),k.j41(53,"div",27)(54,"swiper-container",28,0),k.bIt("swiper",function(){return k.eBV(l),k.Njj(o.swiperReady())}),k.j41(56,"swiper-slide")(57,"ion-grid",29)(58,"ion-row",30)(59,"ion-col",31)(60,"ion-card",32)(61,"ion-card-content",33),k.nrm(62,"ion-img",34),k.k0s()()(),k.j41(63,"ion-col",31)(64,"ion-card",35)(65,"ion-card-content",36)(66,"p",37),k.EFF(67,"1. Bater\xeda Aokly 12V 200AH:"),k.k0s(),k.EFF(68," La energ\xeda que los paneles solares fotovoltaicos logran generar se puede almacenar de manera qu\xedmica en bater\xedas. Estas bater\xedas de ciclo profundo nos permiten almacenar la energ\xeda generada, para poder utilizarla en cualquier momento. "),k.k0s()()()()()(),k.j41(69,"swiper-slide")(70,"ion-grid",29)(71,"ion-row",30)(72,"ion-col",31)(73,"ion-card",35)(74,"ion-card-content",36)(75,"p",37),k.EFF(76,"2. Breakers"),k.k0s(),k.EFF(77," Reducen el impacto que pueden traer algunos problemas con el servicio de electricidad, reduciendo as\xed la posibilidad de que los aparatos el\xe9ctricos anexados a la red sufran da\xf1os. "),k.k0s()()(),k.j41(78,"ion-col",31)(79,"ion-card",35)(80,"ion-card-content",38),k.nrm(81,"ion-img",39),k.k0s()()()()()(),k.j41(82,"swiper-slide")(83,"ion-grid",29)(84,"ion-row",30)(85,"ion-col",31)(86,"ion-card",35)(87,"ion-card-content",38),k.nrm(88,"ion-img",40),k.k0s()()(),k.j41(89,"ion-col",31)(90,"ion-card",35)(91,"ion-card-content",36)(92,"p",37),k.EFF(93,"3. Cable calibre 12 AWG:"),k.k0s(),k.EFF(94," Se utilizan principalmente en circuitos de iluminaci\xf3n, enchufes y electrodom\xe9sticos. "),k.k0s()()()()()(),k.j41(95,"swiper-slide")(96,"ion-grid",29)(97,"ion-row",30)(98,"ion-col",31)(99,"ion-card",35)(100,"ion-card-content",36)(101,"p",37),k.EFF(102,"4. Cable calibre 14 AWG:"),k.k0s(),k.EFF(103," Se utiliza en aplicaciones de baja potencia, como luces de bajo consumo y ventiladores, con capacidad de corriente de alrededor de 15 amperios. "),k.k0s()()(),k.j41(104,"ion-col",31)(105,"ion-card",35)(106,"ion-card-content",38),k.nrm(107,"ion-img",41),k.k0s()()()()()(),k.j41(108,"swiper-slide")(109,"ion-grid",29)(110,"ion-row",30)(111,"ion-col",31)(112,"ion-card",35)(113,"ion-card-content",38),k.nrm(114,"ion-img",42),k.k0s()()(),k.j41(115,"ion-col",31)(116,"ion-card",35)(117,"ion-card-content",36)(118,"p",37),k.EFF(119,"5. Fusibles"),k.k0s(),k.EFF(120," Este elemento est\xe1 ubicado en un punto estrat\xe9gico de la instalaci\xf3n el\xe9ctrica para que se funda si la intensidad de la corriente supera un cierto valor. As\xed, el fusible interrumpe la corriente y salvaguarda la integridad de los conductores minimizando el riesgo de incendio y/o aver\xeda. "),k.k0s()()()()()(),k.j41(121,"swiper-slide")(122,"ion-grid",29)(123,"ion-row",30)(124,"ion-col",31)(125,"ion-card",35)(126,"ion-card-content",38),k.nrm(127,"ion-img",43),k.k0s()()(),k.j41(128,"ion-col",31)(129,"ion-card",35)(130,"ion-card-content",36)(131,"p",37),k.EFF(132,"6. Cerbo GX:"),k.k0s(),k.EFF(133," Se puede controlar el estado de carga de la bater\xeda, el consumo, la captaci\xf3n de energ\xeda de los paneles fotovoltaicos, el generador y la red. "),k.k0s()()()()()(),k.j41(134,"swiper-slide")(135,"ion-grid",29)(136,"ion-row",30)(137,"ion-col",31)(138,"ion-card",35)(139,"ion-card-content",36)(140,"p",37),k.EFF(141,"7. Paneles solares"),k.k0s(),k.EFF(142," Capturan la luz del sol, provocando que los electrones que hay en las c\xe9lulas de silicio liberen energ\xeda que se convierte en electricidad en forma de corriente continua. "),k.k0s()()(),k.j41(143,"ion-col",31)(144,"ion-card",35)(145,"ion-card-content",38),k.nrm(146,"ion-img",44),k.k0s()()()()()(),k.j41(147,"swiper-slide")(148,"ion-grid",29)(149,"ion-row",30)(150,"ion-col",31)(151,"ion-card",35)(152,"ion-card-content",36)(153,"p",37),k.EFF(154,"8. Pure sinewave inverter Phoenix 12/500"),k.k0s(),k.EFF(155," El inversor de corriente es un equipo que toma la energ\xeda de la bater\xeda que est\xe1 en corriente continua y la transforma en corriente alterna. "),k.k0s()()(),k.j41(156,"ion-col",31)(157,"ion-card",35)(158,"ion-card-content",38),k.nrm(159,"ion-img",45),k.k0s()()()()()(),k.j41(160,"swiper-slide")(161,"ion-grid",29)(162,"ion-row",30)(163,"ion-col",31)(164,"ion-card",35)(165,"ion-card-content",36)(166,"p",37),k.EFF(167,"9. SmartSolar charge controller MPPT 100 20"),k.k0s(),k.EFF(168," La tecnolog\xeda MPPT garantiza la recogida y almacenamiento de cada part\xedcula de energ\xeda disponible en sus paneles. La ventaja de este proceso es cuando el cielo est\xe1 parcialmente nuboso y la intensidad de la luz cambia constantemente. "),k.k0s()()(),k.j41(169,"ion-col",31)(170,"ion-card",35)(171,"ion-card-content",38),k.nrm(172,"ion-img",46),k.k0s()()()()()()()(),k.j41(173,"div",47),k.nrm(174,"app-model-viewer"),k.k0s()()}2&r&&(k.Y8G("translucent",!0),k.R7$(),k.Y8G("scrollable",!0),k.R7$(53),k.Y8G("loop",!0)("pagination",!0))},dependencies:[Ue.b_,Ue.I9,Ue.hU,Ue.W9,Ue.lO,Ue.eU,Ue.iq,Ue.KW,Ue.ln,Ue.Gp,Ue.eP,Ue.Je,_y],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0}.encabezado[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;align-items:center;justify-content:center;overflow:hidden;border:.1spx solid black-}.encabezado[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.contenedor[_ngcontent-%COMP%]{width:100%;height:700px;display:flex;justify-content:center;align-items:center;text-align:center;background-position:center;background-color:#151e26}.diagrama[_ngcontent-%COMP%]{width:610px;height:610px;display:flex;justify-content:center;align-items:center;text-align:center;margin:0 auto}ion-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.model-viewer-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin-top:10px}app-model-viewer[_ngcontent-%COMP%]{width:100%;height:100%;display:block}']}),e})()}];let ta=(()=>{var c;class e{}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275mod=k.$C({type:c}),c.\u0275inj=k.G2t({imports:[St.iI.forChild(Ww),St.iI]}),e})(),wy=(()=>{var c;class e{}return(c=e).\u0275fac=function(r){return new(r||c)},c.\u0275mod=k.$C({type:c}),c.\u0275inj=k.G2t({imports:[b.MD,p.YN,Ue.bv,ta]}),e})()},8382:(Bi,xn,pe)=>{"use strict";var b=pe(345),p=pe(4438),Ue=pe(70),St=pe(3656),k=pe(7863),Nt=pe(8132),Be=pe(7606),je=pe(4015);function Ct(rt,g,$t,ct){return rt.params.createElements&&Object.keys(ct).forEach(Ht=>{if(!$t[Ht]&&!0===$t.auto){let Ne=(0,je.e)(rt.el,`.${ct[Ht]}`)[0];Ne||(Ne=(0,je.c)("div",ct[Ht]),Ne.className=ct[Ht],rt.el.append(Ne)),$t[Ht]=Ne,g[Ht]=Ne}}),$t}function ut(rt){return void 0===rt&&(rt=""),`.${rt.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function qe(rt){const g=this,{params:$t,slidesEl:ct}=g;$t.loop&&g.loopDestroy();const Ht=Ne=>{if("string"==typeof Ne){const Oe=document.createElement("div");Oe.innerHTML=Ne,ct.append(Oe.children[0]),Oe.innerHTML=""}else ct.append(Ne)};if("object"==typeof rt&&"length"in rt)for(let Ne=0;Ne<rt.length;Ne+=1)rt[Ne]&&Ht(rt[Ne]);else Ht(rt);g.recalcSlides(),$t.loop&&g.loopCreate(),(!$t.observer||g.isElement)&&g.update()}function Dt(rt){const g=this,{params:$t,activeIndex:ct,slidesEl:Ht}=g;$t.loop&&g.loopDestroy();let Ne=ct+1;const Oe=Qe=>{if("string"==typeof Qe){const fe=document.createElement("div");fe.innerHTML=Qe,Ht.prepend(fe.children[0]),fe.innerHTML=""}else Ht.prepend(Qe)};if("object"==typeof rt&&"length"in rt){for(let Qe=0;Qe<rt.length;Qe+=1)rt[Qe]&&Oe(rt[Qe]);Ne=ct+rt.length}else Oe(rt);g.recalcSlides(),$t.loop&&g.loopCreate(),(!$t.observer||g.isElement)&&g.update(),g.slideTo(Ne,0,!1)}function nn(rt,g){const $t=this,{params:ct,activeIndex:Ht,slidesEl:Ne}=$t;let Oe=Ht;ct.loop&&(Oe-=$t.loopedSlides,$t.loopDestroy(),$t.recalcSlides());const Qe=$t.slides.length;if(rt<=0)return void $t.prependSlide(g);if(rt>=Qe)return void $t.appendSlide(g);let fe=Oe>rt?Oe+1:Oe;const Ie=[];for(let ye=Qe-1;ye>=rt;ye-=1){const we=$t.slides[ye];we.remove(),Ie.unshift(we)}if("object"==typeof g&&"length"in g){for(let ye=0;ye<g.length;ye+=1)g[ye]&&Ne.append(g[ye]);fe=Oe>rt?Oe+g.length:Oe}else Ne.append(g);for(let ye=0;ye<Ie.length;ye+=1)Ne.append(Ie[ye]);$t.recalcSlides(),ct.loop&&$t.loopCreate(),(!ct.observer||$t.isElement)&&$t.update(),$t.slideTo(ct.loop?fe+$t.loopedSlides:fe,0,!1)}function Wn(rt){const g=this,{params:$t,activeIndex:ct}=g;let Ht=ct;$t.loop&&(Ht-=g.loopedSlides,g.loopDestroy());let Oe,Ne=Ht;if("object"==typeof rt&&"length"in rt){for(let Qe=0;Qe<rt.length;Qe+=1)Oe=rt[Qe],g.slides[Oe]&&g.slides[Oe].remove(),Oe<Ne&&(Ne-=1);Ne=Math.max(Ne,0)}else Oe=rt,g.slides[Oe]&&g.slides[Oe].remove(),Oe<Ne&&(Ne-=1),Ne=Math.max(Ne,0);g.recalcSlides(),$t.loop&&g.loopCreate(),(!$t.observer||g.isElement)&&g.update(),g.slideTo($t.loop?Ne+g.loopedSlides:Ne,0,!1)}function si(){const rt=this,g=[];for(let $t=0;$t<rt.slides.length;$t+=1)g.push($t);rt.removeSlide(g)}function Zn(rt){const{effect:g,swiper:$t,on:ct,setTranslate:Ht,setTransition:Ne,overwriteParams:Oe,perspective:Qe,recreateShadows:fe,getEffectParams:Ie}=rt;let ye;ct("beforeInit",()=>{if($t.params.effect!==g)return;$t.classNames.push(`${$t.params.containerModifierClass}${g}`),Qe&&Qe()&&$t.classNames.push(`${$t.params.containerModifierClass}3d`);const we=Oe?Oe():{};Object.assign($t.params,we),Object.assign($t.originalParams,we)}),ct("setTranslate",()=>{$t.params.effect===g&&Ht()}),ct("setTransition",(we,I)=>{$t.params.effect===g&&Ne(I)}),ct("transitionEnd",()=>{if($t.params.effect===g&&fe){if(!Ie||!Ie().slideShadows)return;$t.slides.forEach(we=>{we.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(I=>I.remove())}),fe()}}),ct("virtualUpdate",()=>{$t.params.effect===g&&($t.slides.length||(ye=!0),requestAnimationFrame(()=>{ye&&$t.slides&&$t.slides.length&&(Ht(),ye=!1)}))})}function pn(rt,g){const $t=(0,je.g)(g);return $t!==g&&($t.style.backfaceVisibility="hidden",$t.style["-webkit-backface-visibility"]="hidden"),$t}function pt(rt){let{swiper:g,duration:$t,transformElements:ct,allSlides:Ht}=rt;const{activeIndex:Ne}=g;if(g.params.virtualTranslate&&0!==$t){let fe,Qe=!1;fe=Ht?ct:ct.filter(Ie=>{const ye=Ie.classList.contains("swiper-slide-transform")?(Qe=>Qe.parentElement?Qe.parentElement:g.slides.filter(Ie=>Ie.shadowRoot&&Ie.shadowRoot===Qe.parentNode)[0])(Ie):Ie;return g.getSlideIndex(ye)===Ne}),fe.forEach(Ie=>{(0,je.k)(Ie,()=>{if(Qe||!g||g.destroyed)return;Qe=!0,g.animating=!1;const ye=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});g.wrapperEl.dispatchEvent(ye)})})}}function Ee(rt,g,$t){const ct=`swiper-slide-shadow${$t?`-${$t}`:""}${rt?` swiper-slide-shadow-${rt}`:""}`,Ht=(0,je.g)(g);let Ne=Ht.querySelector(`.${ct.split(" ").join(".")}`);return Ne||(Ne=(0,je.c)("div",ct.split(" ")),Ht.append(Ne)),Ne}Nt.S.use([function Zt(rt){let Ne,{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;$t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const Oe=(0,Be.g)();g.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const Qe=Oe.createElement("div");function fe(N,z){const K=g.params.virtual;if(K.cache&&g.virtual.cache[z])return g.virtual.cache[z];let G;return K.renderSlide?(G=K.renderSlide.call(g,N,z),"string"==typeof G&&(Qe.innerHTML=G,G=Qe.children[0])):G=g.isElement?(0,je.c)("swiper-slide"):(0,je.c)("div",g.params.slideClass),G.setAttribute("data-swiper-slide-index",z),K.renderSlide||(G.innerHTML=N),K.cache&&(g.virtual.cache[z]=G),G}function Ie(N,z){const{slidesPerView:K,slidesPerGroup:G,centeredSlides:he,loop:me,initialSlide:ve}=g.params;if(z&&!me&&ve>0)return;const{addSlidesBefore:ft,addSlidesAfter:bt}=g.params.virtual,{from:Pt,to:Et,slides:ht,slidesGrid:_n,offset:Qt}=g.virtual;g.params.cssMode||g.updateActiveIndex();const cn=g.activeIndex||0;let en,Wt,un;en=g.rtlTranslate?"right":g.isHorizontal()?"left":"top",he?(Wt=Math.floor(K/2)+G+bt,un=Math.floor(K/2)+G+ft):(Wt=K+(G-1)+bt,un=(me?K:G)+ft);let kn=cn-un,Vt=cn+Wt;me||(kn=Math.max(kn,0),Vt=Math.min(Vt,ht.length-1));let on=(g.slidesGrid[kn]||0)-(g.slidesGrid[0]||0);function gi(){g.updateSlides(),g.updateProgress(),g.updateSlidesClasses(),Ht("virtualUpdate")}if(me&&cn>=un?(kn-=un,he||(on+=g.slidesGrid[0])):me&&cn<un&&(kn=-un,he&&(on+=g.slidesGrid[0])),Object.assign(g.virtual,{from:kn,to:Vt,offset:on,slidesGrid:g.slidesGrid,slidesBefore:un,slidesAfter:Wt}),Pt===kn&&Et===Vt&&!N)return g.slidesGrid!==_n&&on!==Qt&&g.slides.forEach(Je=>{Je.style[en]=on-Math.abs(g.cssOverflowAdjustment())+"px"}),g.updateProgress(),void Ht("virtualUpdate");if(g.params.virtual.renderExternal)return g.params.virtual.renderExternal.call(g,{offset:on,from:kn,to:Vt,slides:function(){const rn=[];for(let Un=kn;Un<=Vt;Un+=1)rn.push(ht[Un]);return rn}()}),void(g.params.virtual.renderExternalUpdate?gi():Ht("virtualUpdate"));const le=[],se=[],De=Je=>{let rn=Je;return Je<0?rn=ht.length+Je:rn>=ht.length&&(rn-=ht.length),rn};if(N)g.slides.filter(Je=>Je.matches(`.${g.params.slideClass}, swiper-slide`)).forEach(Je=>{Je.remove()});else for(let Je=Pt;Je<=Et;Je+=1)if(Je<kn||Je>Vt){const rn=De(Je);g.slides.filter(Un=>Un.matches(`.${g.params.slideClass}[data-swiper-slide-index="${rn}"], swiper-slide[data-swiper-slide-index="${rn}"]`)).forEach(Un=>{Un.remove()})}const Ve=me?2*ht.length:ht.length;for(let Je=me?-ht.length:0;Je<Ve;Je+=1)if(Je>=kn&&Je<=Vt){const rn=De(Je);typeof Et>"u"||N?se.push(rn):(Je>Et&&se.push(rn),Je<Pt&&le.push(rn))}if(se.forEach(Je=>{g.slidesEl.append(fe(ht[Je],Je))}),me)for(let Je=le.length-1;Je>=0;Je-=1){const rn=le[Je];g.slidesEl.prepend(fe(ht[rn],rn))}else le.sort((Je,rn)=>rn-Je),le.forEach(Je=>{g.slidesEl.prepend(fe(ht[Je],Je))});(0,je.e)(g.slidesEl,".swiper-slide, swiper-slide").forEach(Je=>{Je.style[en]=on-Math.abs(g.cssOverflowAdjustment())+"px"}),gi()}ct("beforeInit",()=>{if(!g.params.virtual.enabled)return;let N;if(typeof g.passedParams.virtual.slides>"u"){const z=[...g.slidesEl.children].filter(K=>K.matches(`.${g.params.slideClass}, swiper-slide`));z&&z.length&&(g.virtual.slides=[...z],N=!0,z.forEach((K,G)=>{K.setAttribute("data-swiper-slide-index",G),g.virtual.cache[G]=K,K.remove()}))}N||(g.virtual.slides=g.params.virtual.slides),g.classNames.push(`${g.params.containerModifierClass}virtual`),g.params.watchSlidesProgress=!0,g.originalParams.watchSlidesProgress=!0,Ie(!1,!0)}),ct("setTranslate",()=>{g.params.virtual.enabled&&(g.params.cssMode&&!g._immediateVirtual?(clearTimeout(Ne),Ne=setTimeout(()=>{Ie()},100)):Ie())}),ct("init update resize",()=>{g.params.virtual.enabled&&g.params.cssMode&&(0,je.s)(g.wrapperEl,"--swiper-virtual-size",`${g.virtualSize}px`)}),Object.assign(g.virtual,{appendSlide:function ye(N){if("object"==typeof N&&"length"in N)for(let z=0;z<N.length;z+=1)N[z]&&g.virtual.slides.push(N[z]);else g.virtual.slides.push(N);Ie(!0)},prependSlide:function we(N){const z=g.activeIndex;let K=z+1,G=1;if(Array.isArray(N)){for(let he=0;he<N.length;he+=1)N[he]&&g.virtual.slides.unshift(N[he]);K=z+N.length,G=N.length}else g.virtual.slides.unshift(N);if(g.params.virtual.cache){const he=g.virtual.cache,me={};Object.keys(he).forEach(ve=>{const ft=he[ve],bt=ft.getAttribute("data-swiper-slide-index");bt&&ft.setAttribute("data-swiper-slide-index",parseInt(bt,10)+G),me[parseInt(ve,10)+G]=ft}),g.virtual.cache=me}Ie(!0),g.slideTo(K,0)},removeSlide:function I(N){if(typeof N>"u"||null===N)return;let z=g.activeIndex;if(Array.isArray(N))for(let K=N.length-1;K>=0;K-=1)g.params.virtual.cache&&(delete g.virtual.cache[N[K]],Object.keys(g.virtual.cache).forEach(G=>{G>N&&(g.virtual.cache[G-1]=g.virtual.cache[G],g.virtual.cache[G-1].setAttribute("data-swiper-slide-index",G-1),delete g.virtual.cache[G])})),g.virtual.slides.splice(N[K],1),N[K]<z&&(z-=1),z=Math.max(z,0);else g.params.virtual.cache&&(delete g.virtual.cache[N],Object.keys(g.virtual.cache).forEach(K=>{K>N&&(g.virtual.cache[K-1]=g.virtual.cache[K],g.virtual.cache[K-1].setAttribute("data-swiper-slide-index",K-1),delete g.virtual.cache[K])})),g.virtual.slides.splice(N,1),N<z&&(z-=1),z=Math.max(z,0);Ie(!0),g.slideTo(z,0)},removeAllSlides:function L(){g.virtual.slides=[],g.params.virtual.cache&&(g.virtual.cache={}),Ie(!0),g.slideTo(0,0)},update:Ie})},function sn(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;const Ne=(0,Be.g)(),Oe=(0,Be.a)();function Qe(ye){if(!g.enabled)return;const{rtlTranslate:we}=g;let I=ye;I.originalEvent&&(I=I.originalEvent);const L=I.keyCode||I.charCode,N=g.params.keyboard.pageUpDown,z=N&&33===L,K=N&&34===L,G=37===L,he=39===L,me=38===L,ve=40===L;if(!g.allowSlideNext&&(g.isHorizontal()&&he||g.isVertical()&&ve||K)||!g.allowSlidePrev&&(g.isHorizontal()&&G||g.isVertical()&&me||z))return!1;if(!(I.shiftKey||I.altKey||I.ctrlKey||I.metaKey||Ne.activeElement&&Ne.activeElement.nodeName&&("input"===Ne.activeElement.nodeName.toLowerCase()||"textarea"===Ne.activeElement.nodeName.toLowerCase()))){if(g.params.keyboard.onlyInViewport&&(z||K||G||he||me||ve)){let ft=!1;if((0,je.a)(g.el,`.${g.params.slideClass}, swiper-slide`).length>0&&0===(0,je.a)(g.el,`.${g.params.slideActiveClass}`).length)return;const bt=g.el,Pt=bt.clientWidth,Et=bt.clientHeight,ht=Oe.innerWidth,_n=Oe.innerHeight,Qt=(0,je.b)(bt);we&&(Qt.left-=bt.scrollLeft);const cn=[[Qt.left,Qt.top],[Qt.left+Pt,Qt.top],[Qt.left,Qt.top+Et],[Qt.left+Pt,Qt.top+Et]];for(let en=0;en<cn.length;en+=1){const Wt=cn[en];if(Wt[0]>=0&&Wt[0]<=ht&&Wt[1]>=0&&Wt[1]<=_n){if(0===Wt[0]&&0===Wt[1])continue;ft=!0}}if(!ft)return}g.isHorizontal()?((z||K||G||he)&&(I.preventDefault?I.preventDefault():I.returnValue=!1),((K||he)&&!we||(z||G)&&we)&&g.slideNext(),((z||G)&&!we||(K||he)&&we)&&g.slidePrev()):((z||K||me||ve)&&(I.preventDefault?I.preventDefault():I.returnValue=!1),(K||ve)&&g.slideNext(),(z||me)&&g.slidePrev()),Ht("keyPress",L)}}function fe(){g.keyboard.enabled||(Ne.addEventListener("keydown",Qe),g.keyboard.enabled=!0)}function Ie(){g.keyboard.enabled&&(Ne.removeEventListener("keydown",Qe),g.keyboard.enabled=!1)}g.keyboard={enabled:!1},$t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),ct("init",()=>{g.params.keyboard.enabled&&fe()}),ct("destroy",()=>{g.keyboard.enabled&&Ie()}),Object.assign(g.keyboard,{enable:fe,disable:Ie})},function vt(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;const Ne=(0,Be.a)();$t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),g.mousewheel={enabled:!1};let Oe,fe,Qe=(0,je.d)();const Ie=[];function we(){g.enabled&&(g.mouseEntered=!0)}function I(){g.enabled&&(g.mouseEntered=!1)}function L(me){return!(g.params.mousewheel.thresholdDelta&&me.delta<g.params.mousewheel.thresholdDelta||g.params.mousewheel.thresholdTime&&(0,je.d)()-Qe<g.params.mousewheel.thresholdTime)&&(me.delta>=6&&(0,je.d)()-Qe<60||(me.direction<0?(!g.isEnd||g.params.loop)&&!g.animating&&(g.slideNext(),Ht("scroll",me.raw)):(!g.isBeginning||g.params.loop)&&!g.animating&&(g.slidePrev(),Ht("scroll",me.raw)),Qe=(new Ne.Date).getTime(),!1))}function z(me){let ve=me,ft=!0;if(!g.enabled||me.target.closest(`.${g.params.mousewheel.noMousewheelClass}`))return;const bt=g.params.mousewheel;g.params.cssMode&&ve.preventDefault();let Pt=g.el;"container"!==g.params.mousewheel.eventsTarget&&(Pt=document.querySelector(g.params.mousewheel.eventsTarget));const Et=Pt&&Pt.contains(ve.target);if(!g.mouseEntered&&!Et&&!bt.releaseOnEdges)return!0;ve.originalEvent&&(ve=ve.originalEvent);let ht=0;const _n=g.rtlTranslate?-1:1,Qt=function ye(me){let Pt=0,Et=0,ht=0,_n=0;return"detail"in me&&(Et=me.detail),"wheelDelta"in me&&(Et=-me.wheelDelta/120),"wheelDeltaY"in me&&(Et=-me.wheelDeltaY/120),"wheelDeltaX"in me&&(Pt=-me.wheelDeltaX/120),"axis"in me&&me.axis===me.HORIZONTAL_AXIS&&(Pt=Et,Et=0),ht=10*Pt,_n=10*Et,"deltaY"in me&&(_n=me.deltaY),"deltaX"in me&&(ht=me.deltaX),me.shiftKey&&!ht&&(ht=_n,_n=0),(ht||_n)&&me.deltaMode&&(1===me.deltaMode?(ht*=40,_n*=40):(ht*=800,_n*=800)),ht&&!Pt&&(Pt=ht<1?-1:1),_n&&!Et&&(Et=_n<1?-1:1),{spinX:Pt,spinY:Et,pixelX:ht,pixelY:_n}}(ve);if(bt.forceToAxis)if(g.isHorizontal()){if(!(Math.abs(Qt.pixelX)>Math.abs(Qt.pixelY)))return!0;ht=-Qt.pixelX*_n}else{if(!(Math.abs(Qt.pixelY)>Math.abs(Qt.pixelX)))return!0;ht=-Qt.pixelY}else ht=Math.abs(Qt.pixelX)>Math.abs(Qt.pixelY)?-Qt.pixelX*_n:-Qt.pixelY;if(0===ht)return!0;bt.invert&&(ht=-ht);let cn=g.getTranslate()+ht*bt.sensitivity;if(cn>=g.minTranslate()&&(cn=g.minTranslate()),cn<=g.maxTranslate()&&(cn=g.maxTranslate()),ft=!!g.params.loop||!(cn===g.minTranslate()||cn===g.maxTranslate()),ft&&g.params.nested&&ve.stopPropagation(),g.params.freeMode&&g.params.freeMode.enabled){const en={time:(0,je.d)(),delta:Math.abs(ht),direction:Math.sign(ht)},Wt=fe&&en.time<fe.time+500&&en.delta<=fe.delta&&en.direction===fe.direction;if(!Wt){fe=void 0;let un=g.getTranslate()+ht*bt.sensitivity;const kn=g.isBeginning,Vt=g.isEnd;if(un>=g.minTranslate()&&(un=g.minTranslate()),un<=g.maxTranslate()&&(un=g.maxTranslate()),g.setTransition(0),g.setTranslate(un),g.updateProgress(),g.updateActiveIndex(),g.updateSlidesClasses(),(!kn&&g.isBeginning||!Vt&&g.isEnd)&&g.updateSlidesClasses(),g.params.loop&&g.loopFix({direction:en.direction<0?"next":"prev",byMousewheel:!0}),g.params.freeMode.sticky){clearTimeout(Oe),Oe=void 0,Ie.length>=15&&Ie.shift();const on=Ie.length?Ie[Ie.length-1]:void 0,gi=Ie[0];if(Ie.push(en),on&&(en.delta>on.delta||en.direction!==on.direction))Ie.splice(0);else if(Ie.length>=15&&en.time-gi.time<500&&gi.delta-en.delta>=1&&en.delta<=6){const le=ht>0?.8:.2;fe=en,Ie.splice(0),Oe=(0,je.n)(()=>{g.slideToClosest(g.params.speed,!0,void 0,le)},0)}Oe||(Oe=(0,je.n)(()=>{fe=en,Ie.splice(0),g.slideToClosest(g.params.speed,!0,void 0,.5)},500))}if(Wt||Ht("scroll",ve),g.params.autoplay&&g.params.autoplayDisableOnInteraction&&g.autoplay.stop(),bt.releaseOnEdges&&(un===g.minTranslate()||un===g.maxTranslate()))return!0}}else{const en={time:(0,je.d)(),delta:Math.abs(ht),direction:Math.sign(ht),raw:me};Ie.length>=2&&Ie.shift();const Wt=Ie.length?Ie[Ie.length-1]:void 0;if(Ie.push(en),Wt?(en.direction!==Wt.direction||en.delta>Wt.delta||en.time>Wt.time+150)&&L(en):L(en),function N(me){const ve=g.params.mousewheel;if(me.direction<0){if(g.isEnd&&!g.params.loop&&ve.releaseOnEdges)return!0}else if(g.isBeginning&&!g.params.loop&&ve.releaseOnEdges)return!0;return!1}(en))return!0}return ve.preventDefault?ve.preventDefault():ve.returnValue=!1,!1}function K(me){let ve=g.el;"container"!==g.params.mousewheel.eventsTarget&&(ve=document.querySelector(g.params.mousewheel.eventsTarget)),ve[me]("mouseenter",we),ve[me]("mouseleave",I),ve[me]("wheel",z)}function G(){return g.params.cssMode?(g.wrapperEl.removeEventListener("wheel",z),!0):!g.mousewheel.enabled&&(K("addEventListener"),g.mousewheel.enabled=!0,!0)}function he(){return g.params.cssMode?(g.wrapperEl.addEventListener(event,z),!0):!!g.mousewheel.enabled&&(K("removeEventListener"),g.mousewheel.enabled=!1,!0)}ct("init",()=>{!g.params.mousewheel.enabled&&g.params.cssMode&&he(),g.params.mousewheel.enabled&&G()}),ct("destroy",()=>{g.params.cssMode&&G(),g.mousewheel.enabled&&he()}),Object.assign(g.mousewheel,{enable:G,disable:he})},function Rt(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;function Ne(N){let z;return N&&"string"==typeof N&&g.isElement&&(z=g.el.querySelector(N),z)?z:(N&&("string"==typeof N&&(z=[...document.querySelectorAll(N)]),g.params.uniqueNavElements&&"string"==typeof N&&z&&z.length>1&&1===g.el.querySelectorAll(N).length?z=g.el.querySelector(N):z&&1===z.length&&(z=z[0])),N&&!z?N:z)}function Oe(N,z){const K=g.params.navigation;(N=(0,je.m)(N)).forEach(G=>{G&&(G.classList[z?"add":"remove"](...K.disabledClass.split(" ")),"BUTTON"===G.tagName&&(G.disabled=z),g.params.watchOverflow&&g.enabled&&G.classList[g.isLocked?"add":"remove"](K.lockClass))})}function Qe(){const{nextEl:N,prevEl:z}=g.navigation;if(g.params.loop)return Oe(z,!1),void Oe(N,!1);Oe(z,g.isBeginning&&!g.params.rewind),Oe(N,g.isEnd&&!g.params.rewind)}function fe(N){N.preventDefault(),(!g.isBeginning||g.params.loop||g.params.rewind)&&(g.slidePrev(),Ht("navigationPrev"))}function Ie(N){N.preventDefault(),(!g.isEnd||g.params.loop||g.params.rewind)&&(g.slideNext(),Ht("navigationNext"))}function ye(){const N=g.params.navigation;if(g.params.navigation=Ct(g,g.originalParams.navigation,g.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!N.nextEl&&!N.prevEl)return;let z=Ne(N.nextEl),K=Ne(N.prevEl);Object.assign(g.navigation,{nextEl:z,prevEl:K}),z=(0,je.m)(z),K=(0,je.m)(K);const G=(he,me)=>{he&&he.addEventListener("click","next"===me?Ie:fe),!g.enabled&&he&&he.classList.add(...N.lockClass.split(" "))};z.forEach(he=>G(he,"next")),K.forEach(he=>G(he,"prev"))}function we(){let{nextEl:N,prevEl:z}=g.navigation;N=(0,je.m)(N),z=(0,je.m)(z);const K=(G,he)=>{G.removeEventListener("click","next"===he?Ie:fe),G.classList.remove(...g.params.navigation.disabledClass.split(" "))};N.forEach(G=>K(G,"next")),z.forEach(G=>K(G,"prev"))}$t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),g.navigation={nextEl:null,prevEl:null},ct("init",()=>{!1===g.params.navigation.enabled?L():(ye(),Qe())}),ct("toEdge fromEdge lock unlock",()=>{Qe()}),ct("destroy",()=>{we()}),ct("enable disable",()=>{let{nextEl:N,prevEl:z}=g.navigation;N=(0,je.m)(N),z=(0,je.m)(z),g.enabled?Qe():[...N,...z].filter(K=>!!K).forEach(K=>K.classList.add(g.params.navigation.lockClass))}),ct("click",(N,z)=>{let{nextEl:K,prevEl:G}=g.navigation;K=(0,je.m)(K),G=(0,je.m)(G);const he=z.target;if(g.params.navigation.hideOnClick&&!G.includes(he)&&!K.includes(he)){if(g.pagination&&g.params.pagination&&g.params.pagination.clickable&&(g.pagination.el===he||g.pagination.el.contains(he)))return;let me;K.length?me=K[0].classList.contains(g.params.navigation.hiddenClass):G.length&&(me=G[0].classList.contains(g.params.navigation.hiddenClass)),Ht(!0===me?"navigationShow":"navigationHide"),[...K,...G].filter(ve=>!!ve).forEach(ve=>ve.classList.toggle(g.params.navigation.hiddenClass))}});const L=()=>{g.el.classList.add(...g.params.navigation.navigationDisabledClass.split(" ")),we()};Object.assign(g.navigation,{enable:()=>{g.el.classList.remove(...g.params.navigation.navigationDisabledClass.split(" ")),ye(),Qe()},disable:L,update:Qe,init:ye,destroy:we})},function Lt(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;const Ne="swiper-pagination";$t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:G=>G,formatFractionTotal:G=>G,bulletClass:`${Ne}-bullet`,bulletActiveClass:`${Ne}-bullet-active`,modifierClass:`${Ne}-`,currentClass:`${Ne}-current`,totalClass:`${Ne}-total`,hiddenClass:`${Ne}-hidden`,progressbarFillClass:`${Ne}-progressbar-fill`,progressbarOppositeClass:`${Ne}-progressbar-opposite`,clickableClass:`${Ne}-clickable`,lockClass:`${Ne}-lock`,horizontalClass:`${Ne}-horizontal`,verticalClass:`${Ne}-vertical`,paginationDisabledClass:`${Ne}-disabled`}}),g.pagination={el:null,bullets:[]};let Oe,Qe=0;function fe(){return!g.params.pagination.el||!g.pagination.el||Array.isArray(g.pagination.el)&&0===g.pagination.el.length}function Ie(G,he){const{bulletActiveClass:me}=g.params.pagination;G&&(G=G[("prev"===he?"previous":"next")+"ElementSibling"])&&(G.classList.add(`${me}-${he}`),(G=G[("prev"===he?"previous":"next")+"ElementSibling"])&&G.classList.add(`${me}-${he}-${he}`))}function ye(G){const he=G.target.closest(ut(g.params.pagination.bulletClass));if(!he)return;G.preventDefault();const me=(0,je.h)(he)*g.params.slidesPerGroup;if(g.params.loop){if(g.realIndex===me)return;g.slideToLoop(me)}else g.slideTo(me)}function we(){const G=g.rtl,he=g.params.pagination;if(fe())return;let ve,ft,me=g.pagination.el;me=(0,je.m)(me);const Pt=g.params.loop?Math.ceil((g.virtual&&g.params.virtual.enabled?g.virtual.slides.length:g.slides.length)/g.params.slidesPerGroup):g.snapGrid.length;if(g.params.loop?(ft=g.previousRealIndex||0,ve=g.params.slidesPerGroup>1?Math.floor(g.realIndex/g.params.slidesPerGroup):g.realIndex):typeof g.snapIndex<"u"?(ve=g.snapIndex,ft=g.previousSnapIndex):(ft=g.previousIndex||0,ve=g.activeIndex||0),"bullets"===he.type&&g.pagination.bullets&&g.pagination.bullets.length>0){const Et=g.pagination.bullets;let ht,_n,Qt;if(he.dynamicBullets&&(Oe=(0,je.f)(Et[0],g.isHorizontal()?"width":"height",!0),me.forEach(cn=>{cn.style[g.isHorizontal()?"width":"height"]=Oe*(he.dynamicMainBullets+4)+"px"}),he.dynamicMainBullets>1&&void 0!==ft&&(Qe+=ve-(ft||0),Qe>he.dynamicMainBullets-1?Qe=he.dynamicMainBullets-1:Qe<0&&(Qe=0)),ht=Math.max(ve-Qe,0),_n=ht+(Math.min(Et.length,he.dynamicMainBullets)-1),Qt=(_n+ht)/2),Et.forEach(cn=>{const en=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Wt=>`${he.bulletActiveClass}${Wt}`)].map(Wt=>"string"==typeof Wt&&Wt.includes(" ")?Wt.split(" "):Wt).flat();cn.classList.remove(...en)}),me.length>1)Et.forEach(cn=>{const en=(0,je.h)(cn);en===ve?cn.classList.add(...he.bulletActiveClass.split(" ")):g.isElement&&cn.setAttribute("part","bullet"),he.dynamicBullets&&(en>=ht&&en<=_n&&cn.classList.add(...`${he.bulletActiveClass}-main`.split(" ")),en===ht&&Ie(cn,"prev"),en===_n&&Ie(cn,"next"))});else{const cn=Et[ve];if(cn&&cn.classList.add(...he.bulletActiveClass.split(" ")),g.isElement&&Et.forEach((en,Wt)=>{en.setAttribute("part",Wt===ve?"bullet-active":"bullet")}),he.dynamicBullets){const en=Et[ht],Wt=Et[_n];for(let un=ht;un<=_n;un+=1)Et[un]&&Et[un].classList.add(...`${he.bulletActiveClass}-main`.split(" "));Ie(en,"prev"),Ie(Wt,"next")}}if(he.dynamicBullets){const cn=Math.min(Et.length,he.dynamicMainBullets+4),en=(Oe*cn-Oe)/2-Qt*Oe,Wt=G?"right":"left";Et.forEach(un=>{un.style[g.isHorizontal()?Wt:"top"]=`${en}px`})}}me.forEach((Et,ht)=>{if("fraction"===he.type&&(Et.querySelectorAll(ut(he.currentClass)).forEach(_n=>{_n.textContent=he.formatFractionCurrent(ve+1)}),Et.querySelectorAll(ut(he.totalClass)).forEach(_n=>{_n.textContent=he.formatFractionTotal(Pt)})),"progressbar"===he.type){let _n;_n=he.progressbarOpposite?g.isHorizontal()?"vertical":"horizontal":g.isHorizontal()?"horizontal":"vertical";const Qt=(ve+1)/Pt;let cn=1,en=1;"horizontal"===_n?cn=Qt:en=Qt,Et.querySelectorAll(ut(he.progressbarFillClass)).forEach(Wt=>{Wt.style.transform=`translate3d(0,0,0) scaleX(${cn}) scaleY(${en})`,Wt.style.transitionDuration=`${g.params.speed}ms`})}"custom"===he.type&&he.renderCustom?(Et.innerHTML=he.renderCustom(g,ve+1,Pt),0===ht&&Ht("paginationRender",Et)):(0===ht&&Ht("paginationRender",Et),Ht("paginationUpdate",Et)),g.params.watchOverflow&&g.enabled&&Et.classList[g.isLocked?"add":"remove"](he.lockClass)})}function I(){const G=g.params.pagination;if(fe())return;const he=g.virtual&&g.params.virtual.enabled?g.virtual.slides.length:g.grid&&g.params.grid.rows>1?g.slides.length/Math.ceil(g.params.grid.rows):g.slides.length;let me=g.pagination.el;me=(0,je.m)(me);let ve="";if("bullets"===G.type){let ft=g.params.loop?Math.ceil(he/g.params.slidesPerGroup):g.snapGrid.length;g.params.freeMode&&g.params.freeMode.enabled&&ft>he&&(ft=he);for(let bt=0;bt<ft;bt+=1)ve+=G.renderBullet?G.renderBullet.call(g,bt,G.bulletClass):`<${G.bulletElement} ${g.isElement?'part="bullet"':""} class="${G.bulletClass}"></${G.bulletElement}>`}"fraction"===G.type&&(ve=G.renderFraction?G.renderFraction.call(g,G.currentClass,G.totalClass):`<span class="${G.currentClass}"></span> / <span class="${G.totalClass}"></span>`),"progressbar"===G.type&&(ve=G.renderProgressbar?G.renderProgressbar.call(g,G.progressbarFillClass):`<span class="${G.progressbarFillClass}"></span>`),g.pagination.bullets=[],me.forEach(ft=>{"custom"!==G.type&&(ft.innerHTML=ve||""),"bullets"===G.type&&g.pagination.bullets.push(...ft.querySelectorAll(ut(G.bulletClass)))}),"custom"!==G.type&&Ht("paginationRender",me[0])}function L(){g.params.pagination=Ct(g,g.originalParams.pagination,g.params.pagination,{el:"swiper-pagination"});const G=g.params.pagination;if(!G.el)return;let he;"string"==typeof G.el&&g.isElement&&(he=g.el.querySelector(G.el)),!he&&"string"==typeof G.el&&(he=[...document.querySelectorAll(G.el)]),he||(he=G.el),he&&0!==he.length&&(g.params.uniqueNavElements&&"string"==typeof G.el&&Array.isArray(he)&&he.length>1&&(he=[...g.el.querySelectorAll(G.el)],he.length>1&&(he=he.filter(me=>(0,je.a)(me,".swiper")[0]===g.el)[0])),Array.isArray(he)&&1===he.length&&(he=he[0]),Object.assign(g.pagination,{el:he}),he=(0,je.m)(he),he.forEach(me=>{"bullets"===G.type&&G.clickable&&me.classList.add(...(G.clickableClass||"").split(" ")),me.classList.add(G.modifierClass+G.type),me.classList.add(g.isHorizontal()?G.horizontalClass:G.verticalClass),"bullets"===G.type&&G.dynamicBullets&&(me.classList.add(`${G.modifierClass}${G.type}-dynamic`),Qe=0,G.dynamicMainBullets<1&&(G.dynamicMainBullets=1)),"progressbar"===G.type&&G.progressbarOpposite&&me.classList.add(G.progressbarOppositeClass),G.clickable&&me.addEventListener("click",ye),g.enabled||me.classList.add(G.lockClass)}))}function N(){const G=g.params.pagination;if(fe())return;let he=g.pagination.el;he&&(he=(0,je.m)(he),he.forEach(me=>{me.classList.remove(G.hiddenClass),me.classList.remove(G.modifierClass+G.type),me.classList.remove(g.isHorizontal()?G.horizontalClass:G.verticalClass),G.clickable&&(me.classList.remove(...(G.clickableClass||"").split(" ")),me.removeEventListener("click",ye))})),g.pagination.bullets&&g.pagination.bullets.forEach(me=>me.classList.remove(...G.bulletActiveClass.split(" ")))}ct("changeDirection",()=>{if(!g.pagination||!g.pagination.el)return;const G=g.params.pagination;let{el:he}=g.pagination;he=(0,je.m)(he),he.forEach(me=>{me.classList.remove(G.horizontalClass,G.verticalClass),me.classList.add(g.isHorizontal()?G.horizontalClass:G.verticalClass)})}),ct("init",()=>{!1===g.params.pagination.enabled?K():(L(),I(),we())}),ct("activeIndexChange",()=>{typeof g.snapIndex>"u"&&we()}),ct("snapIndexChange",()=>{we()}),ct("snapGridLengthChange",()=>{I(),we()}),ct("destroy",()=>{N()}),ct("enable disable",()=>{let{el:G}=g.pagination;G&&(G=(0,je.m)(G),G.forEach(he=>he.classList[g.enabled?"remove":"add"](g.params.pagination.lockClass)))}),ct("lock unlock",()=>{we()}),ct("click",(G,he)=>{const me=he.target,ve=(0,je.m)(g.pagination.el);if(g.params.pagination.el&&g.params.pagination.hideOnClick&&ve&&ve.length>0&&!me.classList.contains(g.params.pagination.bulletClass)){if(g.navigation&&(g.navigation.nextEl&&me===g.navigation.nextEl||g.navigation.prevEl&&me===g.navigation.prevEl))return;const ft=ve[0].classList.contains(g.params.pagination.hiddenClass);Ht(!0===ft?"paginationShow":"paginationHide"),ve.forEach(bt=>bt.classList.toggle(g.params.pagination.hiddenClass))}});const K=()=>{g.el.classList.add(g.params.pagination.paginationDisabledClass);let{el:G}=g.pagination;G&&(G=(0,je.m)(G),G.forEach(he=>he.classList.add(g.params.pagination.paginationDisabledClass))),N()};Object.assign(g.pagination,{enable:()=>{g.el.classList.remove(g.params.pagination.paginationDisabledClass);let{el:G}=g.pagination;G&&(G=(0,je.m)(G),G.forEach(he=>he.classList.remove(g.params.pagination.paginationDisabledClass))),L(),I(),we()},disable:K,render:I,update:we,init:L,destroy:N})},function dn(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;const Ne=(0,Be.g)();let Ie,ye,we,I,Oe=!1,Qe=null,fe=null;function L(){if(!g.params.scrollbar.el||!g.scrollbar.el)return;const{scrollbar:cn,rtlTranslate:en}=g,{dragEl:Wt,el:un}=cn,kn=g.params.scrollbar;let on=ye,gi=(we-ye)*(g.params.loop?g.progressLoop:g.progress);en?(gi=-gi,gi>0?(on=ye-gi,gi=0):-gi+ye>we&&(on=we+gi)):gi<0?(on=ye+gi,gi=0):gi+ye>we&&(on=we-gi),g.isHorizontal()?(Wt.style.transform=`translate3d(${gi}px, 0, 0)`,Wt.style.width=`${on}px`):(Wt.style.transform=`translate3d(0px, ${gi}px, 0)`,Wt.style.height=`${on}px`),kn.hide&&(clearTimeout(Qe),un.style.opacity=1,Qe=setTimeout(()=>{un.style.opacity=0,un.style.transitionDuration="400ms"},1e3))}function z(){if(!g.params.scrollbar.el||!g.scrollbar.el)return;const{scrollbar:cn}=g,{dragEl:en,el:Wt}=cn;en.style.width="",en.style.height="",we=g.isHorizontal()?Wt.offsetWidth:Wt.offsetHeight,I=g.size/(g.virtualSize+g.params.slidesOffsetBefore-(g.params.centeredSlides?g.snapGrid[0]:0)),ye="auto"===g.params.scrollbar.dragSize?we*I:parseInt(g.params.scrollbar.dragSize,10),g.isHorizontal()?en.style.width=`${ye}px`:en.style.height=`${ye}px`,Wt.style.display=I>=1?"none":"",g.params.scrollbar.hide&&(Wt.style.opacity=0),g.params.watchOverflow&&g.enabled&&cn.el.classList[g.isLocked?"add":"remove"](g.params.scrollbar.lockClass)}function K(cn){return g.isHorizontal()?cn.clientX:cn.clientY}function G(cn){const{scrollbar:en,rtlTranslate:Wt}=g,{el:un}=en;let kn;kn=(K(cn)-(0,je.b)(un)[g.isHorizontal()?"left":"top"]-(null!==Ie?Ie:ye/2))/(we-ye),kn=Math.max(Math.min(kn,1),0),Wt&&(kn=1-kn);const Vt=g.minTranslate()+(g.maxTranslate()-g.minTranslate())*kn;g.updateProgress(Vt),g.setTranslate(Vt),g.updateActiveIndex(),g.updateSlidesClasses()}function he(cn){const en=g.params.scrollbar,{scrollbar:Wt,wrapperEl:un}=g,{el:kn,dragEl:Vt}=Wt;Oe=!0,Ie=cn.target===Vt?K(cn)-cn.target.getBoundingClientRect()[g.isHorizontal()?"left":"top"]:null,cn.preventDefault(),cn.stopPropagation(),un.style.transitionDuration="100ms",Vt.style.transitionDuration="100ms",G(cn),clearTimeout(fe),kn.style.transitionDuration="0ms",en.hide&&(kn.style.opacity=1),g.params.cssMode&&(g.wrapperEl.style["scroll-snap-type"]="none"),Ht("scrollbarDragStart",cn)}function me(cn){const{scrollbar:en,wrapperEl:Wt}=g,{el:un,dragEl:kn}=en;Oe&&(cn.preventDefault&&cn.cancelable?cn.preventDefault():cn.returnValue=!1,G(cn),Wt.style.transitionDuration="0ms",un.style.transitionDuration="0ms",kn.style.transitionDuration="0ms",Ht("scrollbarDragMove",cn))}function ve(cn){const en=g.params.scrollbar,{scrollbar:Wt,wrapperEl:un}=g,{el:kn}=Wt;Oe&&(Oe=!1,g.params.cssMode&&(g.wrapperEl.style["scroll-snap-type"]="",un.style.transitionDuration=""),en.hide&&(clearTimeout(fe),fe=(0,je.n)(()=>{kn.style.opacity=0,kn.style.transitionDuration="400ms"},1e3)),Ht("scrollbarDragEnd",cn),en.snapOnRelease&&g.slideToClosest())}function ft(cn){const{scrollbar:en,params:Wt}=g,un=en.el;if(!un)return;const Vt=!!Wt.passiveListeners&&{passive:!1,capture:!1},on=!!Wt.passiveListeners&&{passive:!0,capture:!1};if(!un)return;const gi="on"===cn?"addEventListener":"removeEventListener";un[gi]("pointerdown",he,Vt),Ne[gi]("pointermove",me,Vt),Ne[gi]("pointerup",ve,on)}function Et(){const{scrollbar:cn,el:en}=g;g.params.scrollbar=Ct(g,g.originalParams.scrollbar,g.params.scrollbar,{el:"swiper-scrollbar"});const Wt=g.params.scrollbar;if(!Wt.el)return;let un,kn;if("string"==typeof Wt.el&&g.isElement&&(un=g.el.querySelector(Wt.el)),un||"string"!=typeof Wt.el)un||(un=Wt.el);else if(un=Ne.querySelectorAll(Wt.el),!un.length)return;g.params.uniqueNavElements&&"string"==typeof Wt.el&&un.length>1&&1===en.querySelectorAll(Wt.el).length&&(un=en.querySelector(Wt.el)),un.length>0&&(un=un[0]),un.classList.add(g.isHorizontal()?Wt.horizontalClass:Wt.verticalClass),un&&(kn=un.querySelector(ut(g.params.scrollbar.dragClass)),kn||(kn=(0,je.c)("div",g.params.scrollbar.dragClass),un.append(kn))),Object.assign(cn,{el:un,dragEl:kn}),Wt.draggable&&function bt(){!g.params.scrollbar.el||!g.scrollbar.el||ft("on")}(),un&&un.classList[g.enabled?"remove":"add"](...(0,je.i)(g.params.scrollbar.lockClass))}function ht(){const cn=g.params.scrollbar,en=g.scrollbar.el;en&&en.classList.remove(...(0,je.i)(g.isHorizontal()?cn.horizontalClass:cn.verticalClass)),function Pt(){!g.params.scrollbar.el||!g.scrollbar.el||ft("off")}()}$t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),g.scrollbar={el:null,dragEl:null},ct("changeDirection",()=>{if(!g.scrollbar||!g.scrollbar.el)return;const cn=g.params.scrollbar;let{el:en}=g.scrollbar;en=(0,je.m)(en),en.forEach(Wt=>{Wt.classList.remove(cn.horizontalClass,cn.verticalClass),Wt.classList.add(g.isHorizontal()?cn.horizontalClass:cn.verticalClass)})}),ct("init",()=>{!1===g.params.scrollbar.enabled?Qt():(Et(),z(),L())}),ct("update resize observerUpdate lock unlock changeDirection",()=>{z()}),ct("setTranslate",()=>{L()}),ct("setTransition",(cn,en)=>{!function N(cn){!g.params.scrollbar.el||!g.scrollbar.el||(g.scrollbar.dragEl.style.transitionDuration=`${cn}ms`)}(en)}),ct("enable disable",()=>{const{el:cn}=g.scrollbar;cn&&cn.classList[g.enabled?"remove":"add"](...(0,je.i)(g.params.scrollbar.lockClass))}),ct("destroy",()=>{ht()});const Qt=()=>{g.el.classList.add(...(0,je.i)(g.params.scrollbar.scrollbarDisabledClass)),g.scrollbar.el&&g.scrollbar.el.classList.add(...(0,je.i)(g.params.scrollbar.scrollbarDisabledClass)),ht()};Object.assign(g.scrollbar,{enable:()=>{g.el.classList.remove(...(0,je.i)(g.params.scrollbar.scrollbarDisabledClass)),g.scrollbar.el&&g.scrollbar.el.classList.remove(...(0,je.i)(g.params.scrollbar.scrollbarDisabledClass)),Et(),z(),L()},disable:Qt,updateSize:z,setTranslate:L,init:Et,destroy:ht})},function zt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({parallax:{enabled:!1}});const Ht="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",Ne=(fe,Ie)=>{const{rtl:ye}=g,we=ye?-1:1,I=fe.getAttribute("data-swiper-parallax")||"0";let L=fe.getAttribute("data-swiper-parallax-x"),N=fe.getAttribute("data-swiper-parallax-y");const z=fe.getAttribute("data-swiper-parallax-scale"),K=fe.getAttribute("data-swiper-parallax-opacity"),G=fe.getAttribute("data-swiper-parallax-rotate");if(L||N?(L=L||"0",N=N||"0"):g.isHorizontal()?(L=I,N="0"):(N=I,L="0"),L=L.indexOf("%")>=0?parseInt(L,10)*Ie*we+"%":L*Ie*we+"px",N=N.indexOf("%")>=0?parseInt(N,10)*Ie+"%":N*Ie+"px",typeof K<"u"&&null!==K){const me=K-(K-1)*(1-Math.abs(Ie));fe.style.opacity=me}let he=`translate3d(${L}, ${N}, 0px)`;typeof z<"u"&&null!==z&&(he+=` scale(${z-(z-1)*(1-Math.abs(Ie))})`),G&&typeof G<"u"&&null!==G&&(he+=` rotate(${G*Ie*-1}deg)`),fe.style.transform=he},Oe=()=>{const{el:fe,slides:Ie,progress:ye,snapGrid:we}=g,L=(0,je.e)(fe,Ht);g.isElement&&L.push(...(0,je.e)(g.hostEl,Ht)),L.forEach(N=>{Ne(N,ye)}),Ie.forEach((N,z)=>{let K=N.progress;g.params.slidesPerGroup>1&&"auto"!==g.params.slidesPerView&&(K+=Math.ceil(z/2)-ye*(we.length-1)),K=Math.min(Math.max(K,-1),1),N.querySelectorAll(`${Ht}, [data-swiper-parallax-rotate]`).forEach(G=>{Ne(G,K)})})};ct("beforeInit",()=>{g.params.parallax.enabled&&(g.params.watchSlidesProgress=!0,g.originalParams.watchSlidesProgress=!0)}),ct("init",()=>{g.params.parallax.enabled&&Oe()}),ct("setTranslate",()=>{g.params.parallax.enabled&&Oe()}),ct("setTransition",(fe,Ie)=>{g.params.parallax.enabled&&function(fe){void 0===fe&&(fe=g.params.speed);const{el:Ie,hostEl:ye}=g,we=[...Ie.querySelectorAll(Ht)];g.isElement&&we.push(...ye.querySelectorAll(Ht)),we.forEach(I=>{let L=parseInt(I.getAttribute("data-swiper-parallax-duration"),10)||fe;0===fe&&(L=0),I.style.transitionDuration=`${L}ms`})}(Ie)})},function jt(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht}=rt;const Ne=(0,Be.a)();$t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),g.zoom={enabled:!1};let fe,Ie,Oe=1,Qe=!1;const ye=[],we={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},I={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},L={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Et,N=1;function z(){return ye.length<2?1:Math.sqrt((ye[1].pageX-ye[0].pageX)**2+(ye[1].pageY-ye[0].pageY)**2)}function K(){const se=g.params.zoom,De=we.imageWrapEl.getAttribute("data-swiper-zoom")||se.maxRatio;return se.limitToOriginalSize&&we.imageEl&&we.imageEl.naturalWidth?Math.min(we.imageEl.naturalWidth/we.imageEl.offsetWidth,De):De}function me(se){const De=function he(){return g.isElement?"swiper-slide":`.${g.params.slideClass}`}();return!!(se.target.matches(De)||g.slides.filter(ee=>ee.contains(se.target)).length>0)}function ft(se){if("mouse"===se.pointerType&&ye.splice(0,ye.length),!me(se))return;const De=g.params.zoom;if(fe=!1,Ie=!1,ye.push(se),!(ye.length<2)){if(fe=!0,we.scaleStart=z(),!we.slideEl){we.slideEl=se.target.closest(`.${g.params.slideClass}, swiper-slide`),we.slideEl||(we.slideEl=g.slides[g.activeIndex]);let ee=we.slideEl.querySelector(`.${De.containerClass}`);if(ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),we.imageEl=ee,we.imageWrapEl=ee?(0,je.a)(we.imageEl,`.${De.containerClass}`)[0]:void 0,!we.imageWrapEl)return void(we.imageEl=void 0);we.maxRatio=K()}if(we.imageEl){const[ee,Ve]=function G(){if(ye.length<2)return{x:null,y:null};const se=we.imageEl.getBoundingClientRect();return[(ye[0].pageX+(ye[1].pageX-ye[0].pageX)/2-se.x-Ne.scrollX)/Oe,(ye[0].pageY+(ye[1].pageY-ye[0].pageY)/2-se.y-Ne.scrollY)/Oe]}();we.originX=ee,we.originY=Ve,we.imageEl.style.transitionDuration="0ms"}Qe=!0}}function bt(se){if(!me(se))return;const De=g.params.zoom,ee=g.zoom,Ve=ye.findIndex(Je=>Je.pointerId===se.pointerId);Ve>=0&&(ye[Ve]=se),!(ye.length<2)&&(Ie=!0,we.scaleMove=z(),we.imageEl&&(ee.scale=we.scaleMove/we.scaleStart*Oe,ee.scale>we.maxRatio&&(ee.scale=we.maxRatio-1+(ee.scale-we.maxRatio+1)**.5),ee.scale<De.minRatio&&(ee.scale=De.minRatio+1-(De.minRatio-ee.scale+1)**.5),we.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`))}function Pt(se){if(!me(se)||"mouse"===se.pointerType&&"pointerout"===se.type)return;const De=g.params.zoom,ee=g.zoom,Ve=ye.findIndex(Je=>Je.pointerId===se.pointerId);Ve>=0&&ye.splice(Ve,1),fe&&Ie&&(fe=!1,Ie=!1,we.imageEl&&(ee.scale=Math.max(Math.min(ee.scale,we.maxRatio),De.minRatio),we.imageEl.style.transitionDuration=`${g.params.speed}ms`,we.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`,Oe=ee.scale,Qe=!1,ee.scale>1&&we.slideEl?we.slideEl.classList.add(`${De.zoomedSlideClass}`):ee.scale<=1&&we.slideEl&&we.slideEl.classList.remove(`${De.zoomedSlideClass}`),1===ee.scale&&(we.originX=0,we.originY=0,we.slideEl=void 0)))}function ht(){g.touchEventsData.preventTouchMoveFromPointerMove=!1}function cn(se){if(!me(se)||!function ve(se){const De=`.${g.params.zoom.containerClass}`;return!!(se.target.matches(De)||[...g.hostEl.querySelectorAll(De)].filter(ee=>ee.contains(se.target)).length>0)}(se))return;const De=g.zoom;if(!we.imageEl||!I.isTouched||!we.slideEl)return;I.isMoved||(I.width=we.imageEl.offsetWidth||we.imageEl.clientWidth,I.height=we.imageEl.offsetHeight||we.imageEl.clientHeight,I.startX=(0,je.j)(we.imageWrapEl,"x")||0,I.startY=(0,je.j)(we.imageWrapEl,"y")||0,we.slideWidth=we.slideEl.offsetWidth,we.slideHeight=we.slideEl.offsetHeight,we.imageWrapEl.style.transitionDuration="0ms");const ee=I.width*De.scale,Ve=I.height*De.scale;if(ee<we.slideWidth&&Ve<we.slideHeight)return void ht();if(I.minX=Math.min(we.slideWidth/2-ee/2,0),I.maxX=-I.minX,I.minY=Math.min(we.slideHeight/2-Ve/2,0),I.maxY=-I.minY,I.touchesCurrent.x=ye.length>0?ye[0].pageX:se.pageX,I.touchesCurrent.y=ye.length>0?ye[0].pageY:se.pageY,Math.max(Math.abs(I.touchesCurrent.x-I.touchesStart.x),Math.abs(I.touchesCurrent.y-I.touchesStart.y))>5&&(g.allowClick=!1),!I.isMoved&&!Qe){if(g.isHorizontal()&&(Math.floor(I.minX)===Math.floor(I.startX)&&I.touchesCurrent.x<I.touchesStart.x||Math.floor(I.maxX)===Math.floor(I.startX)&&I.touchesCurrent.x>I.touchesStart.x))return I.isTouched=!1,void ht();if(!g.isHorizontal()&&(Math.floor(I.minY)===Math.floor(I.startY)&&I.touchesCurrent.y<I.touchesStart.y||Math.floor(I.maxY)===Math.floor(I.startY)&&I.touchesCurrent.y>I.touchesStart.y))return I.isTouched=!1,void ht()}se.cancelable&&se.preventDefault(),se.stopPropagation(),function _n(){clearTimeout(Et),g.touchEventsData.preventTouchMoveFromPointerMove=!0,Et=setTimeout(()=>{ht()})}(),I.isMoved=!0;const rn=(De.scale-Oe)/(we.maxRatio-g.params.zoom.minRatio),{originX:Un,originY:Si}=we;I.currentX=I.touchesCurrent.x-I.touchesStart.x+I.startX+rn*(I.width-2*Un),I.currentY=I.touchesCurrent.y-I.touchesStart.y+I.startY+rn*(I.height-2*Si),I.currentX<I.minX&&(I.currentX=I.minX+1-(I.minX-I.currentX+1)**.8),I.currentX>I.maxX&&(I.currentX=I.maxX-1+(I.currentX-I.maxX+1)**.8),I.currentY<I.minY&&(I.currentY=I.minY+1-(I.minY-I.currentY+1)**.8),I.currentY>I.maxY&&(I.currentY=I.maxY-1+(I.currentY-I.maxY+1)**.8),L.prevPositionX||(L.prevPositionX=I.touchesCurrent.x),L.prevPositionY||(L.prevPositionY=I.touchesCurrent.y),L.prevTime||(L.prevTime=Date.now()),L.x=(I.touchesCurrent.x-L.prevPositionX)/(Date.now()-L.prevTime)/2,L.y=(I.touchesCurrent.y-L.prevPositionY)/(Date.now()-L.prevTime)/2,Math.abs(I.touchesCurrent.x-L.prevPositionX)<2&&(L.x=0),Math.abs(I.touchesCurrent.y-L.prevPositionY)<2&&(L.y=0),L.prevPositionX=I.touchesCurrent.x,L.prevPositionY=I.touchesCurrent.y,L.prevTime=Date.now(),we.imageWrapEl.style.transform=`translate3d(${I.currentX}px, ${I.currentY}px,0)`}function Wt(){const se=g.zoom;we.slideEl&&g.activeIndex!==g.slides.indexOf(we.slideEl)&&(we.imageEl&&(we.imageEl.style.transform="translate3d(0,0,0) scale(1)"),we.imageWrapEl&&(we.imageWrapEl.style.transform="translate3d(0,0,0)"),we.slideEl.classList.remove(`${g.params.zoom.zoomedSlideClass}`),se.scale=1,Oe=1,we.slideEl=void 0,we.imageEl=void 0,we.imageWrapEl=void 0,we.originX=0,we.originY=0)}function un(se){const De=g.zoom,ee=g.params.zoom;if(!we.slideEl){se&&se.target&&(we.slideEl=se.target.closest(`.${g.params.slideClass}, swiper-slide`)),we.slideEl||(we.slideEl=g.params.virtual&&g.params.virtual.enabled&&g.virtual?(0,je.e)(g.slidesEl,`.${g.params.slideActiveClass}`)[0]:g.slides[g.activeIndex]);let Ro=we.slideEl.querySelector(`.${ee.containerClass}`);Ro&&(Ro=Ro.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),we.imageEl=Ro,we.imageWrapEl=Ro?(0,je.a)(we.imageEl,`.${ee.containerClass}`)[0]:void 0}if(!we.imageEl||!we.imageWrapEl)return;let Ve,Je,rn,Un,Si,xr,mr,ks,Xs,Ys,vs,Rs,Js,ur,ro,so,Kr,es;g.params.cssMode&&(g.wrapperEl.style.overflow="hidden",g.wrapperEl.style.touchAction="none"),we.slideEl.classList.add(`${ee.zoomedSlideClass}`),typeof I.touchesStart.x>"u"&&se?(Ve=se.pageX,Je=se.pageY):(Ve=I.touchesStart.x,Je=I.touchesStart.y);const Ji="number"==typeof se?se:null;1===Oe&&Ji&&(Ve=void 0,Je=void 0);const kr=K();De.scale=Ji||kr,Oe=Ji||kr,!se||1===Oe&&Ji?(mr=0,ks=0):(Kr=we.slideEl.offsetWidth,es=we.slideEl.offsetHeight,rn=(0,je.b)(we.slideEl).left+Ne.scrollX,Un=(0,je.b)(we.slideEl).top+Ne.scrollY,Si=rn+Kr/2-Ve,xr=Un+es/2-Je,Xs=we.imageEl.offsetWidth||we.imageEl.clientWidth,Ys=we.imageEl.offsetHeight||we.imageEl.clientHeight,vs=Xs*De.scale,Rs=Ys*De.scale,Js=Math.min(Kr/2-vs/2,0),ur=Math.min(es/2-Rs/2,0),ro=-Js,so=-ur,mr=Si*De.scale,ks=xr*De.scale,mr<Js&&(mr=Js),mr>ro&&(mr=ro),ks<ur&&(ks=ur),ks>so&&(ks=so)),Ji&&1===De.scale&&(we.originX=0,we.originY=0),we.imageWrapEl.style.transitionDuration="300ms",we.imageWrapEl.style.transform=`translate3d(${mr}px, ${ks}px,0)`,we.imageEl.style.transitionDuration="300ms",we.imageEl.style.transform=`translate3d(0,0,0) scale(${De.scale})`}function kn(){const se=g.zoom,De=g.params.zoom;if(!we.slideEl){we.slideEl=g.params.virtual&&g.params.virtual.enabled&&g.virtual?(0,je.e)(g.slidesEl,`.${g.params.slideActiveClass}`)[0]:g.slides[g.activeIndex];let ee=we.slideEl.querySelector(`.${De.containerClass}`);ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),we.imageEl=ee,we.imageWrapEl=ee?(0,je.a)(we.imageEl,`.${De.containerClass}`)[0]:void 0}!we.imageEl||!we.imageWrapEl||(g.params.cssMode&&(g.wrapperEl.style.overflow="",g.wrapperEl.style.touchAction=""),se.scale=1,Oe=1,we.imageWrapEl.style.transitionDuration="300ms",we.imageWrapEl.style.transform="translate3d(0,0,0)",we.imageEl.style.transitionDuration="300ms",we.imageEl.style.transform="translate3d(0,0,0) scale(1)",we.slideEl.classList.remove(`${De.zoomedSlideClass}`),we.slideEl=void 0,we.originX=0,we.originY=0)}function Vt(se){const De=g.zoom;De.scale&&1!==De.scale?kn():un(se)}function on(){return{passiveListener:!!g.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!g.params.passiveListeners||{passive:!1,capture:!0}}}function gi(){const se=g.zoom;if(se.enabled)return;se.enabled=!0;const{passiveListener:De,activeListenerWithCapture:ee}=on();g.wrapperEl.addEventListener("pointerdown",ft,De),g.wrapperEl.addEventListener("pointermove",bt,ee),["pointerup","pointercancel","pointerout"].forEach(Ve=>{g.wrapperEl.addEventListener(Ve,Pt,De)}),g.wrapperEl.addEventListener("pointermove",cn,ee)}function le(){const se=g.zoom;if(!se.enabled)return;se.enabled=!1;const{passiveListener:De,activeListenerWithCapture:ee}=on();g.wrapperEl.removeEventListener("pointerdown",ft,De),g.wrapperEl.removeEventListener("pointermove",bt,ee),["pointerup","pointercancel","pointerout"].forEach(Ve=>{g.wrapperEl.removeEventListener(Ve,Pt,De)}),g.wrapperEl.removeEventListener("pointermove",cn,ee)}Object.defineProperty(g.zoom,"scale",{get:()=>N,set(se){N!==se&&Ht("zoomChange",se,we.imageEl,we.slideEl),N=se}}),ct("init",()=>{g.params.zoom.enabled&&gi()}),ct("destroy",()=>{le()}),ct("touchStart",(se,De)=>{g.zoom.enabled&&function Qt(se){if(!we.imageEl||I.isTouched)return;g.device.android&&se.cancelable&&se.preventDefault(),I.isTouched=!0;const ee=ye.length>0?ye[0]:se;I.touchesStart.x=ee.pageX,I.touchesStart.y=ee.pageY}(De)}),ct("touchEnd",(se,De)=>{g.zoom.enabled&&function en(){const se=g.zoom;if(!we.imageEl)return;if(!I.isTouched||!I.isMoved)return I.isTouched=!1,void(I.isMoved=!1);I.isTouched=!1,I.isMoved=!1;let De=300,ee=300;const Je=I.currentX+L.x*De,Un=I.currentY+L.y*ee;0!==L.x&&(De=Math.abs((Je-I.currentX)/L.x)),0!==L.y&&(ee=Math.abs((Un-I.currentY)/L.y));const Si=Math.max(De,ee);I.currentX=Je,I.currentY=Un;const mr=I.height*se.scale;I.minX=Math.min(we.slideWidth/2-I.width*se.scale/2,0),I.maxX=-I.minX,I.minY=Math.min(we.slideHeight/2-mr/2,0),I.maxY=-I.minY,I.currentX=Math.max(Math.min(I.currentX,I.maxX),I.minX),I.currentY=Math.max(Math.min(I.currentY,I.maxY),I.minY),we.imageWrapEl.style.transitionDuration=`${Si}ms`,we.imageWrapEl.style.transform=`translate3d(${I.currentX}px, ${I.currentY}px,0)`}()}),ct("doubleTap",(se,De)=>{!g.animating&&g.params.zoom.enabled&&g.zoom.enabled&&g.params.zoom.toggle&&Vt(De)}),ct("transitionEnd",()=>{g.zoom.enabled&&g.params.zoom.enabled&&Wt()}),ct("slideChange",()=>{g.zoom.enabled&&g.params.zoom.enabled&&g.params.cssMode&&Wt()}),Object.assign(g.zoom,{enable:gi,disable:le,in:un,out:kn,toggle:Vt})},function vn(rt){let{swiper:g,extendParams:$t,on:ct}=rt;function Ht(Ie,ye){const we=function(){let z,K,G;return(he,me)=>{for(K=-1,z=he.length;z-K>1;)G=z+K>>1,he[G]<=me?K=G:z=G;return z}}();let I,L;return this.x=Ie,this.y=ye,this.lastIndex=Ie.length-1,this.interpolate=function(z){return z?(L=we(this.x,z),I=L-1,(z-this.x[I])*(this.y[L]-this.y[I])/(this.x[L]-this.x[I])+this.y[I]):0},this}function fe(){g.controller.control&&g.controller.spline&&(g.controller.spline=void 0,delete g.controller.spline)}$t({controller:{control:void 0,inverse:!1,by:"slide"}}),g.controller={control:void 0},ct("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof g.params.controller.control||g.params.controller.control instanceof HTMLElement)){const Ie=document.querySelector(g.params.controller.control);if(Ie&&Ie.swiper)g.controller.control=Ie.swiper;else if(Ie){const ye=we=>{g.controller.control=we.detail[0],g.update(),Ie.removeEventListener("init",ye)};Ie.addEventListener("init",ye)}}else g.controller.control=g.params.controller.control}),ct("update",()=>{fe()}),ct("resize",()=>{fe()}),ct("observerUpdate",()=>{fe()}),ct("setTranslate",(Ie,ye,we)=>{!g.controller.control||g.controller.control.destroyed||g.controller.setTranslate(ye,we)}),ct("setTransition",(Ie,ye,we)=>{!g.controller.control||g.controller.control.destroyed||g.controller.setTransition(ye,we)}),Object.assign(g.controller,{setTranslate:function Oe(Ie,ye){const we=g.controller.control;let I,L;const N=g.constructor;function z(K){if(K.destroyed)return;const G=g.rtlTranslate?-g.translate:g.translate;"slide"===g.params.controller.by&&(function Ne(Ie){g.controller.spline=g.params.loop?new Ht(g.slidesGrid,Ie.slidesGrid):new Ht(g.snapGrid,Ie.snapGrid)}(K),L=-g.controller.spline.interpolate(-G)),(!L||"container"===g.params.controller.by)&&(I=(K.maxTranslate()-K.minTranslate())/(g.maxTranslate()-g.minTranslate()),(Number.isNaN(I)||!Number.isFinite(I))&&(I=1),L=(G-g.minTranslate())*I+K.minTranslate()),g.params.controller.inverse&&(L=K.maxTranslate()-L),K.updateProgress(L),K.setTranslate(L,g),K.updateActiveIndex(),K.updateSlidesClasses()}if(Array.isArray(we))for(let K=0;K<we.length;K+=1)we[K]!==ye&&we[K]instanceof N&&z(we[K]);else we instanceof N&&ye!==we&&z(we)},setTransition:function Qe(Ie,ye){const we=g.constructor,I=g.controller.control;let L;function N(z){z.destroyed||(z.setTransition(Ie,g),0!==Ie&&(z.transitionStart(),z.params.autoHeight&&(0,je.n)(()=>{z.updateAutoHeight()}),(0,je.k)(z.wrapperEl,()=>{I&&z.transitionEnd()})))}if(Array.isArray(I))for(L=0;L<I.length;L+=1)I[L]!==ye&&I[L]instanceof we&&N(I[L]);else I instanceof we&&ye!==I&&N(I)}})},function Kt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),g.a11y={clicked:!1};let Ne,Oe,Ht=null,Qe=(new Date).getTime();function fe(Vt){const on=Ht;0!==on.length&&(on.innerHTML="",on.innerHTML=Vt)}function ye(Vt){(Vt=(0,je.m)(Vt)).forEach(on=>{on.setAttribute("tabIndex","0")})}function we(Vt){(Vt=(0,je.m)(Vt)).forEach(on=>{on.setAttribute("tabIndex","-1")})}function I(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("role",on)})}function L(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("aria-roledescription",on)})}function z(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("aria-label",on)})}function he(Vt){(Vt=(0,je.m)(Vt)).forEach(on=>{on.setAttribute("aria-disabled",!0)})}function me(Vt){(Vt=(0,je.m)(Vt)).forEach(on=>{on.setAttribute("aria-disabled",!1)})}function ve(Vt){if(13!==Vt.keyCode&&32!==Vt.keyCode)return;const on=g.params.a11y,gi=Vt.target;if(!g.pagination||!g.pagination.el||gi!==g.pagination.el&&!g.pagination.el.contains(Vt.target)||Vt.target.matches(ut(g.params.pagination.bulletClass))){if(g.navigation&&g.navigation.prevEl&&g.navigation.nextEl){const le=(0,je.m)(g.navigation.prevEl);(0,je.m)(g.navigation.nextEl).includes(gi)&&(g.isEnd&&!g.params.loop||g.slideNext(),fe(g.isEnd?on.lastSlideMessage:on.nextSlideMessage)),le.includes(gi)&&(g.isBeginning&&!g.params.loop||g.slidePrev(),fe(g.isBeginning?on.firstSlideMessage:on.prevSlideMessage))}g.pagination&&gi.matches(ut(g.params.pagination.bulletClass))&&gi.click()}}function bt(){return g.pagination&&g.pagination.bullets&&g.pagination.bullets.length}function Pt(){return bt()&&g.params.pagination.clickable}const ht=(Vt,on,gi)=>{ye(Vt),"BUTTON"!==Vt.tagName&&(I(Vt,"button"),Vt.addEventListener("keydown",ve)),z(Vt,gi),function N(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("aria-controls",on)})}(Vt,on)},_n=Vt=>{Oe&&Oe!==Vt.target&&!Oe.contains(Vt.target)&&(Ne=!0),g.a11y.clicked=!0},Qt=()=>{Ne=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{g.destroyed||(g.a11y.clicked=!1)})})},cn=Vt=>{Qe=(new Date).getTime()},en=Vt=>{if(g.a11y.clicked||(new Date).getTime()-Qe<100)return;const on=Vt.target.closest(`.${g.params.slideClass}, swiper-slide`);if(!on||!g.slides.includes(on))return;Oe=on;const gi=g.slides.indexOf(on)===g.activeIndex,le=g.params.watchSlidesProgress&&g.visibleSlides&&g.visibleSlides.includes(on);gi||le||Vt.sourceCapabilities&&Vt.sourceCapabilities.firesTouchEvents||(g.isHorizontal()?g.el.scrollLeft=0:g.el.scrollTop=0,requestAnimationFrame(()=>{Ne||(g.slideTo(g.slides.indexOf(on),0),Ne=!1)}))},Wt=()=>{const Vt=g.params.a11y;Vt.itemRoleDescriptionMessage&&L(g.slides,Vt.itemRoleDescriptionMessage),Vt.slideRole&&I(g.slides,Vt.slideRole);const on=g.slides.length;Vt.slideLabelMessage&&g.slides.forEach((gi,le)=>{const se=g.params.loop?parseInt(gi.getAttribute("data-swiper-slide-index"),10):le;z(gi,Vt.slideLabelMessage.replace(/\{\{index\}\}/,se+1).replace(/\{\{slidesLength\}\}/,on))})};ct("beforeInit",()=>{Ht=(0,je.c)("span",g.params.a11y.notificationClass),Ht.setAttribute("aria-live","assertive"),Ht.setAttribute("aria-atomic","true")}),ct("afterInit",()=>{g.params.a11y.enabled&&(()=>{const Vt=g.params.a11y;g.el.append(Ht);const on=g.el;Vt.containerRoleDescriptionMessage&&L(on,Vt.containerRoleDescriptionMessage),Vt.containerMessage&&z(on,Vt.containerMessage);const gi=g.wrapperEl,le=Vt.id||gi.getAttribute("id")||`swiper-wrapper-${function Ie(Vt){return void 0===Vt&&(Vt=16),"x".repeat(Vt).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,se=g.params.autoplay&&g.params.autoplay.enabled?"off":"polite";(function K(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("id",on)})})(gi,le),function G(Vt,on){(Vt=(0,je.m)(Vt)).forEach(gi=>{gi.setAttribute("aria-live",on)})}(gi,se),Wt();let{nextEl:De,prevEl:ee}=g.navigation?g.navigation:{};De=(0,je.m)(De),ee=(0,je.m)(ee),De&&De.forEach(Je=>ht(Je,le,Vt.nextSlideMessage)),ee&&ee.forEach(Je=>ht(Je,le,Vt.prevSlideMessage)),Pt()&&(0,je.m)(g.pagination.el).forEach(rn=>{rn.addEventListener("keydown",ve)}),(0,Be.g)().addEventListener("visibilitychange",cn),g.el.addEventListener("focus",en,!0),g.el.addEventListener("focus",en,!0),g.el.addEventListener("pointerdown",_n,!0),g.el.addEventListener("pointerup",Qt,!0)})()}),ct("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{g.params.a11y.enabled&&Wt()}),ct("fromEdge toEdge afterInit lock unlock",()=>{g.params.a11y.enabled&&function ft(){if(g.params.loop||g.params.rewind||!g.navigation)return;const{nextEl:Vt,prevEl:on}=g.navigation;on&&(g.isBeginning?(he(on),we(on)):(me(on),ye(on))),Vt&&(g.isEnd?(he(Vt),we(Vt)):(me(Vt),ye(Vt)))}()}),ct("paginationUpdate",()=>{g.params.a11y.enabled&&function Et(){const Vt=g.params.a11y;bt()&&g.pagination.bullets.forEach(on=>{g.params.pagination.clickable&&(ye(on),g.params.pagination.renderBullet||(I(on,"button"),z(on,Vt.paginationBulletMessage.replace(/\{\{index\}\}/,(0,je.h)(on)+1)))),on.matches(ut(g.params.pagination.bulletActiveClass))?on.setAttribute("aria-current","true"):on.removeAttribute("aria-current")})}()}),ct("destroy",()=>{g.params.a11y.enabled&&function kn(){Ht&&Ht.remove();let{nextEl:Vt,prevEl:on}=g.navigation?g.navigation:{};Vt=(0,je.m)(Vt),on=(0,je.m)(on),Vt&&Vt.forEach(le=>le.removeEventListener("keydown",ve)),on&&on.forEach(le=>le.removeEventListener("keydown",ve)),Pt()&&(0,je.m)(g.pagination.el).forEach(se=>{se.removeEventListener("keydown",ve)}),(0,Be.g)().removeEventListener("visibilitychange",cn),g.el.removeEventListener("focus",en,!0),g.el.removeEventListener("pointerdown",_n,!0),g.el.removeEventListener("pointerup",Qt,!0)}()})},function Xt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let Ht=!1,Ne={};const Oe=L=>L.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),Qe=L=>{const N=(0,Be.a)();let z;z=L?new URL(L):N.location;const K=z.pathname.slice(1).split("/").filter(ve=>""!==ve),G=K.length;return{key:K[G-2],value:K[G-1]}},fe=(L,N)=>{const z=(0,Be.a)();if(!Ht||!g.params.history.enabled)return;let K;K=g.params.url?new URL(g.params.url):z.location;const G=g.virtual&&g.params.virtual.enabled?g.slidesEl.querySelector(`[data-swiper-slide-index="${N}"]`):g.slides[N];let he=Oe(G.getAttribute("data-history"));if(g.params.history.root.length>0){let ve=g.params.history.root;"/"===ve[ve.length-1]&&(ve=ve.slice(0,ve.length-1)),he=`${ve}/${L?`${L}/`:""}${he}`}else K.pathname.includes(L)||(he=`${L?`${L}/`:""}${he}`);g.params.history.keepQuery&&(he+=K.search);const me=z.history.state;me&&me.value===he||(g.params.history.replaceState?z.history.replaceState({value:he},null,he):z.history.pushState({value:he},null,he))},Ie=(L,N,z)=>{if(N)for(let K=0,G=g.slides.length;K<G;K+=1){const he=g.slides[K];if(Oe(he.getAttribute("data-history"))===N){const ve=g.getSlideIndex(he);g.slideTo(ve,L,z)}}else g.slideTo(0,L,z)},ye=()=>{Ne=Qe(g.params.url),Ie(g.params.speed,Ne.value,!1)};ct("init",()=>{g.params.history.enabled&&(()=>{const L=(0,Be.a)();if(g.params.history){if(!L.history||!L.history.pushState)return g.params.history.enabled=!1,void(g.params.hashNavigation.enabled=!0);if(Ht=!0,Ne=Qe(g.params.url),!Ne.key&&!Ne.value)return void(g.params.history.replaceState||L.addEventListener("popstate",ye));Ie(0,Ne.value,g.params.runCallbacksOnInit),g.params.history.replaceState||L.addEventListener("popstate",ye)}})()}),ct("destroy",()=>{g.params.history.enabled&&(()=>{const L=(0,Be.a)();g.params.history.replaceState||L.removeEventListener("popstate",ye)})()}),ct("transitionEnd _freeModeNoMomentumRelease",()=>{Ht&&fe(g.params.history.key,g.activeIndex)}),ct("slideChange",()=>{Ht&&g.params.cssMode&&fe(g.params.history.key,g.activeIndex)})},function nt(rt){let{swiper:g,extendParams:$t,emit:ct,on:Ht}=rt,Ne=!1;const Oe=(0,Be.g)(),Qe=(0,Be.a)();$t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(I,L){if(g.virtual&&g.params.virtual.enabled){const N=g.slides.filter(K=>K.getAttribute("data-hash")===L)[0];return N?parseInt(N.getAttribute("data-swiper-slide-index"),10):0}return g.getSlideIndex((0,je.e)(g.slidesEl,`.${g.params.slideClass}[data-hash="${L}"], swiper-slide[data-hash="${L}"]`)[0])}}});const fe=()=>{ct("hashChange");const I=Oe.location.hash.replace("#",""),L=g.virtual&&g.params.virtual.enabled?g.slidesEl.querySelector(`[data-swiper-slide-index="${g.activeIndex}"]`):g.slides[g.activeIndex];if(I!==(L?L.getAttribute("data-hash"):"")){const z=g.params.hashNavigation.getSlideIndex(g,I);if(typeof z>"u"||Number.isNaN(z))return;g.slideTo(z)}},Ie=()=>{if(!Ne||!g.params.hashNavigation.enabled)return;const I=g.virtual&&g.params.virtual.enabled?g.slidesEl.querySelector(`[data-swiper-slide-index="${g.activeIndex}"]`):g.slides[g.activeIndex],L=I?I.getAttribute("data-hash")||I.getAttribute("data-history"):"";g.params.hashNavigation.replaceState&&Qe.history&&Qe.history.replaceState?(Qe.history.replaceState(null,null,`#${L}`||""),ct("hashSet")):(Oe.location.hash=L||"",ct("hashSet"))};Ht("init",()=>{g.params.hashNavigation.enabled&&(()=>{if(!g.params.hashNavigation.enabled||g.params.history&&g.params.history.enabled)return;Ne=!0;const I=Oe.location.hash.replace("#","");if(I){const N=g.params.hashNavigation.getSlideIndex(g,I);g.slideTo(N||0,0,g.params.runCallbacksOnInit,!0)}g.params.hashNavigation.watchState&&Qe.addEventListener("hashchange",fe)})()}),Ht("destroy",()=>{g.params.hashNavigation.enabled&&g.params.hashNavigation.watchState&&Qe.removeEventListener("hashchange",fe)}),Ht("transitionEnd _freeModeNoMomentumRelease",()=>{Ne&&Ie()}),Ht("slideChange",()=>{Ne&&g.params.cssMode&&Ie()})},function Ut(rt){let{swiper:g,extendParams:$t,on:ct,emit:Ht,params:Ne}=rt;g.autoplay={running:!1,paused:!1,timeLeft:0},$t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let Oe,Qe,ye,I,L,N,z,K,G,he,fe=Ne&&Ne.autoplay?Ne.autoplay.delay:3e3,Ie=Ne&&Ne.autoplay?Ne.autoplay.delay:3e3,we=(new Date).getTime();function me(on){!g||g.destroyed||!g.wrapperEl||on.target===g.wrapperEl&&(g.wrapperEl.removeEventListener("transitionend",me),!(he||on.detail&&on.detail.bySwiperTouchMove)&&_n())}const ve=()=>{if(g.destroyed||!g.autoplay.running)return;g.autoplay.paused?I=!0:I&&(Ie=ye,I=!1);const on=g.autoplay.paused?ye:we+Ie-(new Date).getTime();g.autoplay.timeLeft=on,Ht("autoplayTimeLeft",on,on/fe),Qe=requestAnimationFrame(()=>{ve()})},bt=on=>{if(g.destroyed||!g.autoplay.running)return;cancelAnimationFrame(Qe),ve();let gi=typeof on>"u"?g.params.autoplay.delay:on;fe=g.params.autoplay.delay,Ie=g.params.autoplay.delay;const le=(()=>{let on;return on=g.virtual&&g.params.virtual.enabled?g.slides.filter(le=>le.classList.contains("swiper-slide-active"))[0]:g.slides[g.activeIndex],on?parseInt(on.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(le)&&le>0&&typeof on>"u"&&(gi=le,fe=le,Ie=le),ye=gi;const se=g.params.speed,De=()=>{!g||g.destroyed||(g.params.autoplay.reverseDirection?!g.isBeginning||g.params.loop||g.params.rewind?(g.slidePrev(se,!0,!0),Ht("autoplay")):g.params.autoplay.stopOnLastSlide||(g.slideTo(g.slides.length-1,se,!0,!0),Ht("autoplay")):!g.isEnd||g.params.loop||g.params.rewind?(g.slideNext(se,!0,!0),Ht("autoplay")):g.params.autoplay.stopOnLastSlide||(g.slideTo(0,se,!0,!0),Ht("autoplay")),g.params.cssMode&&(we=(new Date).getTime(),requestAnimationFrame(()=>{bt()})))};return gi>0?(clearTimeout(Oe),Oe=setTimeout(()=>{De()},gi)):requestAnimationFrame(()=>{De()}),gi},Pt=()=>{we=(new Date).getTime(),g.autoplay.running=!0,bt(),Ht("autoplayStart")},Et=()=>{g.autoplay.running=!1,clearTimeout(Oe),cancelAnimationFrame(Qe),Ht("autoplayStop")},ht=(on,gi)=>{if(g.destroyed||!g.autoplay.running)return;clearTimeout(Oe),on||(G=!0);const le=()=>{Ht("autoplayPause"),g.params.autoplay.waitForTransition?g.wrapperEl.addEventListener("transitionend",me):_n()};if(g.autoplay.paused=!0,gi)return K&&(ye=g.params.autoplay.delay),K=!1,void le();ye=(ye||g.params.autoplay.delay)-((new Date).getTime()-we),(!(g.isEnd&&ye<0)||g.params.loop)&&(ye<0&&(ye=0),le())},_n=()=>{g.isEnd&&ye<0&&!g.params.loop||g.destroyed||!g.autoplay.running||(we=(new Date).getTime(),G?(G=!1,bt(ye)):bt(),g.autoplay.paused=!1,Ht("autoplayResume"))},Qt=()=>{if(g.destroyed||!g.autoplay.running)return;const on=(0,Be.g)();"hidden"===on.visibilityState&&(G=!0,ht(!0)),"visible"===on.visibilityState&&_n()},cn=on=>{"mouse"===on.pointerType&&(G=!0,he=!0,!g.animating&&!g.autoplay.paused&&ht(!0))},en=on=>{"mouse"===on.pointerType&&(he=!1,g.autoplay.paused&&_n())};ct("init",()=>{g.params.autoplay.enabled&&(g.params.autoplay.pauseOnMouseEnter&&(g.el.addEventListener("pointerenter",cn),g.el.addEventListener("pointerleave",en)),(0,Be.g)().addEventListener("visibilitychange",Qt),Pt())}),ct("destroy",()=>{g.el.removeEventListener("pointerenter",cn),g.el.removeEventListener("pointerleave",en),(0,Be.g)().removeEventListener("visibilitychange",Qt),g.autoplay.running&&Et()}),ct("_freeModeStaticRelease",()=>{(N||G)&&_n()}),ct("_freeModeNoMomentumRelease",()=>{g.params.autoplay.disableOnInteraction?Et():ht(!0,!0)}),ct("beforeTransitionStart",(on,gi,le)=>{g.destroyed||!g.autoplay.running||(le||!g.params.autoplay.disableOnInteraction?ht(!0,!0):Et())}),ct("sliderFirstMove",()=>{if(!g.destroyed&&g.autoplay.running){if(g.params.autoplay.disableOnInteraction)return void Et();L=!0,N=!1,G=!1,z=setTimeout(()=>{G=!0,N=!0,ht(!0)},200)}}),ct("touchEnd",()=>{if(!g.destroyed&&g.autoplay.running&&L){if(clearTimeout(z),clearTimeout(Oe),g.params.autoplay.disableOnInteraction)return N=!1,void(L=!1);N&&g.params.cssMode&&_n(),N=!1,L=!1}}),ct("slideChange",()=>{g.destroyed||!g.autoplay.running||(K=!0)}),Object.assign(g.autoplay,{start:Pt,stop:Et,pause:ht,resume:_n})},function tn(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let Ht=!1,Ne=!1;function Oe(){const Ie=g.thumbs.swiper;if(!Ie||Ie.destroyed)return;const ye=Ie.clickedIndex,we=Ie.clickedSlide;if(we&&we.classList.contains(g.params.thumbs.slideThumbActiveClass)||typeof ye>"u"||null===ye)return;let I;I=Ie.params.loop?parseInt(Ie.clickedSlide.getAttribute("data-swiper-slide-index"),10):ye,g.params.loop?g.slideToLoop(I):g.slideTo(I)}function Qe(){const{thumbs:Ie}=g.params;if(Ht)return!1;Ht=!0;const ye=g.constructor;if(Ie.swiper instanceof ye)g.thumbs.swiper=Ie.swiper,Object.assign(g.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(g.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),g.thumbs.swiper.update();else if((0,je.l)(Ie.swiper)){const we=Object.assign({},Ie.swiper);Object.assign(we,{watchSlidesProgress:!0,slideToClickedSlide:!1}),g.thumbs.swiper=new ye(we),Ne=!0}return g.thumbs.swiper.el.classList.add(g.params.thumbs.thumbsContainerClass),g.thumbs.swiper.on("tap",Oe),!0}function fe(Ie){const ye=g.thumbs.swiper;if(!ye||ye.destroyed)return;const we="auto"===ye.params.slidesPerView?ye.slidesPerViewDynamic():ye.params.slidesPerView;let I=1;const L=g.params.thumbs.slideThumbActiveClass;if(g.params.slidesPerView>1&&!g.params.centeredSlides&&(I=g.params.slidesPerView),g.params.thumbs.multipleActiveThumbs||(I=1),I=Math.floor(I),ye.slides.forEach(K=>K.classList.remove(L)),ye.params.loop||ye.params.virtual&&ye.params.virtual.enabled)for(let K=0;K<I;K+=1)(0,je.e)(ye.slidesEl,`[data-swiper-slide-index="${g.realIndex+K}"]`).forEach(G=>{G.classList.add(L)});else for(let K=0;K<I;K+=1)ye.slides[g.realIndex+K]&&ye.slides[g.realIndex+K].classList.add(L);const N=g.params.thumbs.autoScrollOffset,z=N&&!ye.params.loop;if(g.realIndex!==ye.realIndex||z){const K=ye.activeIndex;let G,he;if(ye.params.loop){const me=ye.slides.filter(ve=>ve.getAttribute("data-swiper-slide-index")===`${g.realIndex}`)[0];G=ye.slides.indexOf(me),he=g.activeIndex>g.previousIndex?"next":"prev"}else G=g.realIndex,he=G>g.previousIndex?"next":"prev";z&&(G+="next"===he?N:-1*N),ye.visibleSlidesIndexes&&ye.visibleSlidesIndexes.indexOf(G)<0&&(ye.params.centeredSlides&&(G=G>K?G-Math.floor(we/2)+1:G+Math.floor(we/2)-1),ye.slideTo(G,Ie?0:void 0))}}g.thumbs={swiper:null},ct("beforeInit",()=>{const{thumbs:Ie}=g.params;if(Ie&&Ie.swiper)if("string"==typeof Ie.swiper||Ie.swiper instanceof HTMLElement){const ye=(0,Be.g)(),we=()=>{const L="string"==typeof Ie.swiper?ye.querySelector(Ie.swiper):Ie.swiper;if(L&&L.swiper)Ie.swiper=L.swiper,Qe(),fe(!0);else if(L){const N=z=>{Ie.swiper=z.detail[0],L.removeEventListener("init",N),Qe(),fe(!0),Ie.swiper.update(),g.update()};L.addEventListener("init",N)}return L},I=()=>{g.destroyed||we()||requestAnimationFrame(I)};requestAnimationFrame(I)}else Qe(),fe(!0)}),ct("slideChange update resize observerUpdate",()=>{fe()}),ct("setTransition",(Ie,ye)=>{const we=g.thumbs.swiper;!we||we.destroyed||we.setTransition(ye)}),ct("beforeDestroy",()=>{const Ie=g.thumbs.swiper;!Ie||Ie.destroyed||Ne&&Ie.destroy()}),Object.assign(g.thumbs,{init:Qe,update:fe})},function an(rt){let{swiper:g,extendParams:$t,emit:ct,once:Ht}=rt;$t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(g,{freeMode:{onTouchStart:function Ne(){if(g.params.cssMode)return;const fe=g.getTranslate();g.setTranslate(fe),g.setTransition(0),g.touchEventsData.velocities.length=0,g.freeMode.onTouchEnd({currentPos:g.rtl?g.translate:-g.translate})},onTouchMove:function Oe(){if(g.params.cssMode)return;const{touchEventsData:fe,touches:Ie}=g;0===fe.velocities.length&&fe.velocities.push({position:Ie[g.isHorizontal()?"startX":"startY"],time:fe.touchStartTime}),fe.velocities.push({position:Ie[g.isHorizontal()?"currentX":"currentY"],time:(0,je.d)()})},onTouchEnd:function Qe(fe){let{currentPos:Ie}=fe;if(g.params.cssMode)return;const{params:ye,wrapperEl:we,rtlTranslate:I,snapGrid:L,touchEventsData:N}=g,K=(0,je.d)()-N.touchStartTime;if(Ie<-g.minTranslate())g.slideTo(g.activeIndex);else if(Ie>-g.maxTranslate())g.slideTo(g.slides.length<L.length?L.length-1:g.slides.length-1);else{if(ye.freeMode.momentum){if(N.velocities.length>1){const Et=N.velocities.pop(),ht=N.velocities.pop(),Qt=Et.time-ht.time;g.velocity=(Et.position-ht.position)/Qt,g.velocity/=2,Math.abs(g.velocity)<ye.freeMode.minimumVelocity&&(g.velocity=0),(Qt>150||(0,je.d)()-Et.time>300)&&(g.velocity=0)}else g.velocity=0;g.velocity*=ye.freeMode.momentumVelocityRatio,N.velocities.length=0;let G=1e3*ye.freeMode.momentumRatio,me=g.translate+g.velocity*G;I&&(me=-me);let ft,ve=!1;const bt=20*Math.abs(g.velocity)*ye.freeMode.momentumBounceRatio;let Pt;if(me<g.maxTranslate())ye.freeMode.momentumBounce?(me+g.maxTranslate()<-bt&&(me=g.maxTranslate()-bt),ft=g.maxTranslate(),ve=!0,N.allowMomentumBounce=!0):me=g.maxTranslate(),ye.loop&&ye.centeredSlides&&(Pt=!0);else if(me>g.minTranslate())ye.freeMode.momentumBounce?(me-g.minTranslate()>bt&&(me=g.minTranslate()+bt),ft=g.minTranslate(),ve=!0,N.allowMomentumBounce=!0):me=g.minTranslate(),ye.loop&&ye.centeredSlides&&(Pt=!0);else if(ye.freeMode.sticky){let Et;for(let ht=0;ht<L.length;ht+=1)if(L[ht]>-me){Et=ht;break}me=Math.abs(L[Et]-me)<Math.abs(L[Et-1]-me)||"next"===g.swipeDirection?L[Et]:L[Et-1],me=-me}if(Pt&&Ht("transitionEnd",()=>{g.loopFix()}),0!==g.velocity){if(G=I?Math.abs((-me-g.translate)/g.velocity):Math.abs((me-g.translate)/g.velocity),ye.freeMode.sticky){const Et=Math.abs((I?-me:me)-g.translate),ht=g.slidesSizesGrid[g.activeIndex];G=Et<ht?ye.speed:Et<2*ht?1.5*ye.speed:2.5*ye.speed}}else if(ye.freeMode.sticky)return void g.slideToClosest();ye.freeMode.momentumBounce&&ve?(g.updateProgress(ft),g.setTransition(G),g.setTranslate(me),g.transitionStart(!0,g.swipeDirection),g.animating=!0,(0,je.k)(we,()=>{!g||g.destroyed||!N.allowMomentumBounce||(ct("momentumBounce"),g.setTransition(ye.speed),setTimeout(()=>{g.setTranslate(ft),(0,je.k)(we,()=>{!g||g.destroyed||g.transitionEnd()})},0))})):g.velocity?(ct("_freeModeNoMomentumRelease"),g.updateProgress(me),g.setTransition(G),g.setTranslate(me),g.transitionStart(!0,g.swipeDirection),g.animating||(g.animating=!0,(0,je.k)(we,()=>{!g||g.destroyed||g.transitionEnd()}))):g.updateProgress(me),g.updateActiveIndex(),g.updateSlidesClasses()}else{if(ye.freeMode.sticky)return void g.slideToClosest();ye.freeMode&&ct("_freeModeNoMomentumRelease")}(!ye.freeMode.momentum||K>=ye.longSwipesMs)&&(ct("_freeModeStaticRelease"),g.updateProgress(),g.updateActiveIndex(),g.updateSlidesClasses())}}}})},function gt(rt){let Ht,Ne,Oe,Qe,{swiper:g,extendParams:$t,on:ct}=rt;$t({grid:{rows:1,fill:"column"}});const fe=()=>{let z=g.params.spaceBetween;return"string"==typeof z&&z.indexOf("%")>=0?z=parseFloat(z.replace("%",""))/100*g.size:"string"==typeof z&&(z=parseFloat(z)),z};ct("init",()=>{Qe=g.params.grid&&g.params.grid.rows>1}),ct("update",()=>{const{params:z,el:K}=g,G=z.grid&&z.grid.rows>1;Qe&&!G?(K.classList.remove(`${z.containerModifierClass}grid`,`${z.containerModifierClass}grid-column`),Oe=1,g.emitContainerClasses()):!Qe&&G&&(K.classList.add(`${z.containerModifierClass}grid`),"column"===z.grid.fill&&K.classList.add(`${z.containerModifierClass}grid-column`),g.emitContainerClasses()),Qe=G}),g.grid={initSlides:z=>{const{slidesPerView:K}=g.params,{rows:G,fill:he}=g.params.grid,me=g.virtual&&g.params.virtual.enabled?g.virtual.slides.length:z.length;Oe=Math.floor(me/G),Ht=Math.floor(me/G)===me/G?me:Math.ceil(me/G)*G,"auto"!==K&&"row"===he&&(Ht=Math.max(Ht,K*G)),Ne=Ht/G},unsetSlides:()=>{g.slides&&g.slides.forEach(z=>{z.swiperSlideGridSet&&(z.style.height="",z.style[g.getDirectionLabel("margin-top")]="")})},updateSlide:(z,K,G)=>{const{slidesPerGroup:he}=g.params,me=fe(),{rows:ve,fill:ft}=g.params.grid,bt=g.virtual&&g.params.virtual.enabled?g.virtual.slides.length:G.length;let Pt,Et,ht;if("row"===ft&&he>1){const _n=Math.floor(z/(he*ve)),Qt=z-ve*he*_n,cn=0===_n?he:Math.min(Math.ceil((bt-_n*ve*he)/ve),he);ht=Math.floor(Qt/cn),Et=Qt-ht*cn+_n*he,Pt=Et+ht*Ht/ve,K.style.order=Pt}else"column"===ft?(Et=Math.floor(z/ve),ht=z-Et*ve,(Et>Oe||Et===Oe&&ht===ve-1)&&(ht+=1,ht>=ve&&(ht=0,Et+=1))):(ht=Math.floor(z/Ne),Et=z-ht*Ne);K.row=ht,K.column=Et,K.style.height=`calc((100% - ${(ve-1)*me}px) / ${ve})`,K.style[g.getDirectionLabel("margin-top")]=0!==ht?me&&`${me}px`:"",K.swiperSlideGridSet=!0},updateWrapperSize:(z,K)=>{const{centeredSlides:G,roundLengths:he}=g.params,me=fe(),{rows:ve}=g.params.grid;if(g.virtualSize=(z+me)*Ht,g.virtualSize=Math.ceil(g.virtualSize/ve)-me,g.params.cssMode||(g.wrapperEl.style[g.getDirectionLabel("width")]=`${g.virtualSize+me}px`),G){const ft=[];for(let bt=0;bt<K.length;bt+=1){let Pt=K[bt];he&&(Pt=Math.floor(Pt)),K[bt]<g.virtualSize+K[0]&&ft.push(Pt)}K.splice(0,K.length),K.push(...ft)}}}},function Cn(rt){let{swiper:g}=rt;Object.assign(g,{appendSlide:qe.bind(g),prependSlide:Dt.bind(g),addSlide:nn.bind(g),removeSlide:Wn.bind(g),removeAllSlides:si.bind(g)})},function _e(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({fadeEffect:{crossFade:!1}}),Zn({effect:"fade",swiper:g,on:ct,setTranslate:()=>{const{slides:Oe}=g;for(let fe=0;fe<Oe.length;fe+=1){const Ie=g.slides[fe];let we=-Ie.swiperSlideOffset;g.params.virtualTranslate||(we-=g.translate);let I=0;g.isHorizontal()||(I=we,we=0);const L=g.params.fadeEffect.crossFade?Math.max(1-Math.abs(Ie.progress),0):1+Math.min(Math.max(Ie.progress,-1),0),N=pn(0,Ie);N.style.opacity=L,N.style.transform=`translate3d(${we}px, ${I}px, 0px)`}},setTransition:Oe=>{const Qe=g.slides.map(fe=>(0,je.g)(fe));Qe.forEach(fe=>{fe.style.transitionDuration=`${Oe}ms`}),pt({swiper:g,duration:Oe,transformElements:Qe,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!g.params.cssMode})})},function xe(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const Ht=(fe,Ie,ye)=>{let we=fe.querySelector(ye?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),I=fe.querySelector(ye?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");we||(we=(0,je.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(ye?"left":"top")).split(" ")),fe.append(we)),I||(I=(0,je.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(ye?"right":"bottom")).split(" ")),fe.append(I)),we&&(we.style.opacity=Math.max(-Ie,0)),I&&(I.style.opacity=Math.max(Ie,0))};Zn({effect:"cube",swiper:g,on:ct,setTranslate:()=>{const{el:fe,wrapperEl:Ie,slides:ye,width:we,height:I,rtlTranslate:L,size:N,browser:z}=g,K=g.params.cubeEffect,G=g.isHorizontal(),he=g.virtual&&g.params.virtual.enabled;let ve,me=0;K.shadow&&(G?(ve=g.wrapperEl.querySelector(".swiper-cube-shadow"),ve||(ve=(0,je.c)("div","swiper-cube-shadow"),g.wrapperEl.append(ve)),ve.style.height=`${we}px`):(ve=fe.querySelector(".swiper-cube-shadow"),ve||(ve=(0,je.c)("div","swiper-cube-shadow"),fe.append(ve))));for(let bt=0;bt<ye.length;bt+=1){const Pt=ye[bt];let Et=bt;he&&(Et=parseInt(Pt.getAttribute("data-swiper-slide-index"),10));let ht=90*Et,_n=Math.floor(ht/360);L&&(ht=-ht,_n=Math.floor(-ht/360));const Qt=Math.max(Math.min(Pt.progress,1),-1);let cn=0,en=0,Wt=0;Et%4==0?(cn=4*-_n*N,Wt=0):(Et-1)%4==0?(cn=0,Wt=4*-_n*N):(Et-2)%4==0?(cn=N+4*_n*N,Wt=N):(Et-3)%4==0&&(cn=-N,Wt=3*N+4*N*_n),L&&(cn=-cn),G||(en=cn,cn=0);const un=`rotateX(${G?0:-ht}deg) rotateY(${G?ht:0}deg) translate3d(${cn}px, ${en}px, ${Wt}px)`;Qt<=1&&Qt>-1&&(me=90*Et+90*Qt,L&&(me=90*-Et-90*Qt),g.browser&&g.browser.need3dFix&&Math.abs(me)/90%2==1&&(me+=.001)),Pt.style.transform=un,K.slideShadows&&Ht(Pt,Qt,G)}if(Ie.style.transformOrigin=`50% 50% -${N/2}px`,Ie.style["-webkit-transform-origin"]=`50% 50% -${N/2}px`,K.shadow)if(G)ve.style.transform=`translate3d(0px, ${we/2+K.shadowOffset}px, ${-we/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${K.shadowScale})`;else{const bt=Math.abs(me)-90*Math.floor(Math.abs(me)/90),Pt=1.5-(Math.sin(2*bt*Math.PI/360)/2+Math.cos(2*bt*Math.PI/360)/2),ht=K.shadowScale/Pt;ve.style.transform=`scale3d(${K.shadowScale}, 1, ${ht}) translate3d(0px, ${I/2+K.shadowOffset}px, ${-I/2/ht}px) rotateX(-89.99deg)`}const ft=(z.isSafari||z.isWebView)&&z.needPerspectiveFix?-N/2:0;Ie.style.transform=`translate3d(0px,0,${ft}px) rotateX(${g.isHorizontal()?0:me}deg) rotateY(${g.isHorizontal()?-me:0}deg)`,Ie.style.setProperty("--swiper-cube-translate-z",`${ft}px`)},setTransition:fe=>{const{el:Ie,slides:ye}=g;if(ye.forEach(we=>{we.style.transitionDuration=`${fe}ms`,we.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(I=>{I.style.transitionDuration=`${fe}ms`})}),g.params.cubeEffect.shadow&&!g.isHorizontal()){const we=Ie.querySelector(".swiper-cube-shadow");we&&(we.style.transitionDuration=`${fe}ms`)}},recreateShadows:()=>{const fe=g.isHorizontal();g.slides.forEach(Ie=>{const ye=Math.max(Math.min(Ie.progress,1),-1);Ht(Ie,ye,fe)})},getEffectParams:()=>g.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function lt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({flipEffect:{slideShadows:!0,limitRotation:!0}});const Ht=(fe,Ie)=>{let ye=g.isHorizontal()?fe.querySelector(".swiper-slide-shadow-left"):fe.querySelector(".swiper-slide-shadow-top"),we=g.isHorizontal()?fe.querySelector(".swiper-slide-shadow-right"):fe.querySelector(".swiper-slide-shadow-bottom");ye||(ye=Ee("flip",fe,g.isHorizontal()?"left":"top")),we||(we=Ee("flip",fe,g.isHorizontal()?"right":"bottom")),ye&&(ye.style.opacity=Math.max(-Ie,0)),we&&(we.style.opacity=Math.max(Ie,0))};Zn({effect:"flip",swiper:g,on:ct,setTranslate:()=>{const{slides:fe,rtlTranslate:Ie}=g,ye=g.params.flipEffect;for(let we=0;we<fe.length;we+=1){const I=fe[we];let L=I.progress;g.params.flipEffect.limitRotation&&(L=Math.max(Math.min(I.progress,1),-1));const N=I.swiperSlideOffset;let K=-180*L,G=0,he=g.params.cssMode?-N-g.translate:-N,me=0;g.isHorizontal()?Ie&&(K=-K):(me=he,he=0,G=-K,K=0),g.browser&&g.browser.need3dFix&&(Math.abs(K)/90%2==1&&(K+=.001),Math.abs(G)/90%2==1&&(G+=.001)),I.style.zIndex=-Math.abs(Math.round(L))+fe.length,ye.slideShadows&&Ht(I,L);const ve=`translate3d(${he}px, ${me}px, 0px) rotateX(${G}deg) rotateY(${K}deg)`;pn(0,I).style.transform=ve}},setTransition:fe=>{const Ie=g.slides.map(ye=>(0,je.g)(ye));Ie.forEach(ye=>{ye.style.transitionDuration=`${fe}ms`,ye.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(we=>{we.style.transitionDuration=`${fe}ms`})}),pt({swiper:g,duration:fe,transformElements:Ie})},recreateShadows:()=>{g.slides.forEach(fe=>{let Ie=fe.progress;g.params.flipEffect.limitRotation&&(Ie=Math.max(Math.min(fe.progress,1),-1)),Ht(fe,Ie)})},getEffectParams:()=>g.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!g.params.cssMode})})},function It(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Zn({effect:"coverflow",swiper:g,on:ct,setTranslate:()=>{const{width:Oe,height:Qe,slides:fe,slidesSizesGrid:Ie}=g,ye=g.params.coverflowEffect,we=g.isHorizontal(),I=g.translate,L=we?Oe/2-I:Qe/2-I,N=we?ye.rotate:-ye.rotate,z=ye.depth;for(let K=0,G=fe.length;K<G;K+=1){const he=fe[K],me=Ie[K],ft=(L-he.swiperSlideOffset-me/2)/me,bt="function"==typeof ye.modifier?ye.modifier(ft):ft*ye.modifier;let Pt=we?N*bt:0,Et=we?0:N*bt,ht=-z*Math.abs(bt),_n=ye.stretch;"string"==typeof _n&&-1!==_n.indexOf("%")&&(_n=parseFloat(ye.stretch)/100*me);let Qt=we?0:_n*bt,cn=we?_n*bt:0,en=1-(1-ye.scale)*Math.abs(bt);Math.abs(cn)<.001&&(cn=0),Math.abs(Qt)<.001&&(Qt=0),Math.abs(ht)<.001&&(ht=0),Math.abs(Pt)<.001&&(Pt=0),Math.abs(Et)<.001&&(Et=0),Math.abs(en)<.001&&(en=0),g.browser&&g.browser.need3dFix&&(Math.abs(Pt)/90%2==1&&(Pt+=.001),Math.abs(Et)/90%2==1&&(Et+=.001));const Wt=`translate3d(${cn}px,${Qt}px,${ht}px)  rotateX(${Et}deg) rotateY(${Pt}deg) scale(${en})`;if(pn(0,he).style.transform=Wt,he.style.zIndex=1-Math.abs(Math.round(bt)),ye.slideShadows){let kn=he.querySelector(we?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Vt=he.querySelector(we?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");kn||(kn=Ee("coverflow",he,we?"left":"top")),Vt||(Vt=Ee("coverflow",he,we?"right":"bottom")),kn&&(kn.style.opacity=bt>0?bt:0),Vt&&(Vt.style.opacity=-bt>0?-bt:0)}}},setTransition:Oe=>{g.slides.map(fe=>(0,je.g)(fe)).forEach(fe=>{fe.style.transitionDuration=`${Oe}ms`,fe.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(Ie=>{Ie.style.transitionDuration=`${Oe}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function Jt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const Ht=Qe=>"string"==typeof Qe?Qe:`${Qe}px`;Zn({effect:"creative",swiper:g,on:ct,setTranslate:()=>{const{slides:Qe,wrapperEl:fe,slidesSizesGrid:Ie}=g,ye=g.params.creativeEffect,{progressMultiplier:we}=ye,I=g.params.centeredSlides;I&&(fe.style.transform=`translateX(calc(50% - ${Ie[0]/2-g.params.slidesOffsetBefore||0}px))`);for(let L=0;L<Qe.length;L+=1){const N=Qe[L],z=N.progress,K=Math.min(Math.max(N.progress,-ye.limitProgress),ye.limitProgress);let G=K;I||(G=Math.min(Math.max(N.originalProgress,-ye.limitProgress),ye.limitProgress));const he=N.swiperSlideOffset,me=[g.params.cssMode?-he-g.translate:-he,0,0],ve=[0,0,0];let ft=!1;g.isHorizontal()||(me[1]=me[0],me[0]=0);let bt={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};K<0?(bt=ye.next,ft=!0):K>0&&(bt=ye.prev,ft=!0),me.forEach((en,Wt)=>{me[Wt]=`calc(${en}px + (${Ht(bt.translate[Wt])} * ${Math.abs(K*we)}))`}),ve.forEach((en,Wt)=>{let un=bt.rotate[Wt]*Math.abs(K*we);g.browser&&g.browser.need3dFix&&Math.abs(un)/90%2==1&&(un+=.001),ve[Wt]=un}),N.style.zIndex=-Math.abs(Math.round(z))+Qe.length;const Pt=me.join(", "),_n=G<0?1+(1-bt.opacity)*G*we:1-(1-bt.opacity)*G*we,Qt=`translate3d(${Pt}) rotateX(${ve[0]}deg) rotateY(${ve[1]}deg) rotateZ(${ve[2]}deg) ${G<0?`scale(${1+(1-bt.scale)*G*we})`:`scale(${1-(1-bt.scale)*G*we})`}`;if(ft&&bt.shadow||!ft){let en=N.querySelector(".swiper-slide-shadow");!en&&bt.shadow&&(en=Ee("creative",N)),en&&(en.style.opacity=Math.min(Math.max(Math.abs(ye.shadowPerProgress?K*(1/ye.limitProgress):K),0),1))}const cn=pn(0,N);cn.style.transform=Qt,cn.style.opacity=_n,bt.origin&&(cn.style.transformOrigin=bt.origin)}},setTransition:Qe=>{const fe=g.slides.map(Ie=>(0,je.g)(Ie));fe.forEach(Ie=>{Ie.style.transitionDuration=`${Qe}ms`,Ie.querySelectorAll(".swiper-slide-shadow").forEach(ye=>{ye.style.transitionDuration=`${Qe}ms`})}),pt({swiper:g,duration:Qe,transformElements:fe,allSlides:!0})},perspective:()=>g.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!g.params.cssMode})})},function wt(rt){let{swiper:g,extendParams:$t,on:ct}=rt;$t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Zn({effect:"cards",swiper:g,on:ct,setTranslate:()=>{const{slides:Oe,activeIndex:Qe,rtlTranslate:fe}=g,Ie=g.params.cardsEffect,{startTranslate:ye,isTouched:we}=g.touchEventsData,I=fe?-g.translate:g.translate;for(let L=0;L<Oe.length;L+=1){const N=Oe[L],z=N.progress,K=Math.min(Math.max(z,-4),4);let G=N.swiperSlideOffset;g.params.centeredSlides&&!g.params.cssMode&&(g.wrapperEl.style.transform=`translateX(${g.minTranslate()}px)`),g.params.centeredSlides&&g.params.cssMode&&(G-=Oe[0].swiperSlideOffset);let he=g.params.cssMode?-G-g.translate:-G,me=0;const ve=-100*Math.abs(K);let ft=1,bt=-Ie.perSlideRotate*K,Pt=Ie.perSlideOffset-.75*Math.abs(K);const Et=g.virtual&&g.params.virtual.enabled?g.virtual.from+L:L;if((Et===Qe||Et===Qe-1)&&K>0&&K<1&&(we||g.params.cssMode)&&I<ye||(Et===Qe||Et===Qe+1)&&K<0&&K>-1&&(we||g.params.cssMode)&&I>ye){const Wt=(1-Math.abs((Math.abs(K)-.5)/.5))**.5;bt+=-28*K*Wt,ft+=-.5*Wt,Pt+=96*Wt,me=-25*Wt*Math.abs(K)+"%"}if(he=K<0?`calc(${he}px ${fe?"-":"+"} (${Pt*Math.abs(K)}%))`:K>0?`calc(${he}px ${fe?"-":"+"} (-${Pt*Math.abs(K)}%))`:`${he}px`,!g.isHorizontal()){const Wt=me;me=he,he=Wt}const cn=`\n        translate3d(${he}, ${me}, ${ve}px)\n        rotateZ(${Ie.rotate?fe?-bt:bt:0}deg)\n        scale(${K<0?""+(1+(1-ft)*K):""+(1-(1-ft)*K)})\n      `;if(Ie.slideShadows){let Wt=N.querySelector(".swiper-slide-shadow");Wt||(Wt=Ee("cards",N)),Wt&&(Wt.style.opacity=Math.min(Math.max((Math.abs(K)-.5)/.5,0),1))}N.style.zIndex=-Math.abs(Math.round(z))+Oe.length,pn(0,N).style.transform=cn}},setTransition:Oe=>{const Qe=g.slides.map(fe=>(0,je.g)(fe));Qe.forEach(fe=>{fe.style.transitionDuration=`${Oe}ms`,fe.querySelectorAll(".swiper-slide-shadow").forEach(Ie=>{Ie.style.transitionDuration=`${Oe}ms`})}),pt({swiper:g,duration:Oe,transformElements:Qe})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!g.params.cssMode})})}]);const ir=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hi(rt){return"object"==typeof rt&&null!==rt&&rt.constructor&&"Object"===Object.prototype.toString.call(rt).slice(8,-1)&&!rt.__swiper__}function Qi(rt,g){const $t=["__proto__","constructor","prototype"];Object.keys(g).filter(ct=>$t.indexOf(ct)<0).forEach(ct=>{typeof rt[ct]>"u"?rt[ct]=g[ct]:hi(g[ct])&&hi(rt[ct])&&Object.keys(g[ct]).length>0?g[ct].__swiper__?rt[ct]=g[ct]:Qi(rt[ct],g[ct]):rt[ct]=g[ct]})}function Or(rt){return void 0===rt&&(rt=""),rt.replace(/-[a-z]/g,g=>g.toUpperCase().replace("-",""))}const Ot=rt=>{if(parseFloat(rt)===Number(rt))return Number(rt);if("true"===rt||""===rt)return!0;if("false"===rt)return!1;if("null"===rt)return null;if("undefined"!==rt){if("string"==typeof rt&&rt.includes("{")&&rt.includes("}")&&rt.includes('"')){let g;try{g=JSON.parse(rt)}catch{g=rt}return g}return rt}},fn=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function wn(rt,g,$t){const ct={},Ht={};Qi(ct,Nt.d);const Ne=[...ir,"on"],Oe=Ne.map(fe=>fe.replace(/_/,""));Ne.forEach(fe=>{fe=fe.replace("_",""),typeof rt[fe]<"u"&&(Ht[fe]=rt[fe])});const Qe=[...rt.attributes];return"string"==typeof g&&typeof $t<"u"&&Qe.push({name:g,value:hi($t)?{...$t}:$t}),Qe.forEach(fe=>{const Ie=fn.filter(ye=>0===fe.name.indexOf(`${ye}-`))[0];if(Ie){const ye=Or(Ie),we=Or(fe.name.split(`${Ie}-`)[1]);typeof Ht[ye]>"u"&&(Ht[ye]={}),!0===Ht[ye]&&(Ht[ye]={enabled:!0}),Ht[ye][we]=Ot(fe.value)}else{const ye=Or(fe.name);if(!Oe.includes(ye))return;const we=Ot(fe.value);Ht[ye]&&fn.includes(fe.name)&&!hi(we)?(Ht[ye].constructor!==Object&&(Ht[ye]={}),Ht[ye].enabled=!!we):Ht[ye]=we}}),Qi(ct,Ht),ct.navigation?ct.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==ct.navigation?ct.navigation:{}}:!1===ct.navigation&&delete ct.navigation,ct.scrollbar?ct.scrollbar={el:".swiper-scrollbar",...!0!==ct.scrollbar?ct.scrollbar:{}}:!1===ct.scrollbar&&delete ct.scrollbar,ct.pagination?ct.pagination={el:".swiper-pagination",...!0!==ct.pagination?ct.pagination:{}}:!1===ct.pagination&&delete ct.pagination,{params:ct,passedParams:Ht}}const ai=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",vr=typeof window>"u"||typeof HTMLElement>"u"?class Hr{}:HTMLElement,Ci='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Ei=(rt,g)=>{if(typeof CSSStyleSheet<"u"&&rt.adoptedStyleSheets){const $t=new CSSStyleSheet;$t.replaceSync(g),rt.adoptedStyleSheets=[$t]}else{const $t=document.createElement("style");$t.rel="stylesheet",$t.textContent=g,rt.appendChild($t)}};class lr extends vr{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Ci}static get prevButtonSvg(){return Ci.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[ai,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const g=this.slideSlots||0,$t=[...this.querySelectorAll("[slot^=slide-]")].map(ct=>parseInt(ct.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=$t.length?Math.max(...$t)+1:0,this.rendered)if(this.slideSlots>g)for(let ct=g;ct<this.slideSlots;ct+=1){const Ht=document.createElement("swiper-slide");Ht.setAttribute("part",`slide slide-${ct+1}`);const Ne=document.createElement("slot");Ne.setAttribute("name",`slide-${ct+1}`),Ht.appendChild(Ne),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(Ht)}else if(this.slideSlots<g){const ct=this.swiper.slides;for(let Ht=ct.length-1;Ht>=0;Ht-=1)Ht>this.slideSlots&&ct[Ht].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let g=this.cssStyles();this.slideSlots>0&&(g=g.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),g.length&&Ei(this.shadowRoot,g),this.cssLinks().forEach(ct=>{if(this.shadowRoot.querySelector(`link[href="${ct}"]`))return;const Ne=document.createElement("link");Ne.rel="stylesheet",Ne.href=ct,this.shadowRoot.appendChild(Ne)});const $t=document.createElement("div");$t.classList.add("swiper"),$t.part="container",$t.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((ct,Ht)=>`\n        <swiper-slide part="slide slide-${Ht}">\n          <slot name="slide-${Ht}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function Gi(rt){return void 0===rt&&(rt={}),rt.navigation&&typeof rt.navigation.nextEl>"u"&&typeof rt.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function ar(rt){return void 0===rt&&(rt={}),rt.pagination&&typeof rt.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function pr(rt){return void 0===rt&&(rt={}),rt.scrollbar&&typeof rt.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild($t),this.rendered=!0}initialize(){var g=this;if(this.initialized)return;this.initialized=!0;const{params:$t,passedParams:ct}=wn(this);this.swiperParams=$t,this.passedParams=ct,delete this.swiperParams.init,this.render(),this.swiper=new Nt.S(this.shadowRoot.querySelector(".swiper"),{...$t.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...$t,touchEventsTarget:"container",onAny:function(Ht){"observerUpdate"===Ht&&g.calcSlideSlots();const Ne=$t.eventsPrefix?`${$t.eventsPrefix}${Ht.toLowerCase()}`:Ht.toLowerCase();for(var Oe=arguments.length,Qe=new Array(Oe>1?Oe-1:0),fe=1;fe<Oe;fe++)Qe[fe-1]=arguments[fe];const Ie=new CustomEvent(Ne,{detail:Qe,bubbles:"hashChange"!==Ht,cancelable:!0});g.dispatchEvent(Ie)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(g,$t){const{params:ct,passedParams:Ht}=wn(this,g,$t);this.passedParams=Ht,this.swiperParams=ct,(!this.swiper||this.swiper.params[g]!==$t)&&function di(rt){let{swiper:g,slides:$t,passedParams:ct,changedParams:Ht,nextEl:Ne,prevEl:Oe,scrollbarEl:Qe,paginationEl:fe}=rt;const Ie=Ht.filter(ht=>"children"!==ht&&"direction"!==ht&&"wrapperClass"!==ht),{params:ye,pagination:we,navigation:I,scrollbar:L,virtual:N,thumbs:z}=g;let K,G,he,me,ve,ft,bt,Pt;Ht.includes("thumbs")&&ct.thumbs&&ct.thumbs.swiper&&ye.thumbs&&!ye.thumbs.swiper&&(K=!0),Ht.includes("controller")&&ct.controller&&ct.controller.control&&ye.controller&&!ye.controller.control&&(G=!0),Ht.includes("pagination")&&ct.pagination&&(ct.pagination.el||fe)&&(ye.pagination||!1===ye.pagination)&&we&&!we.el&&(he=!0),Ht.includes("scrollbar")&&ct.scrollbar&&(ct.scrollbar.el||Qe)&&(ye.scrollbar||!1===ye.scrollbar)&&L&&!L.el&&(me=!0),Ht.includes("navigation")&&ct.navigation&&(ct.navigation.prevEl||Oe)&&(ct.navigation.nextEl||Ne)&&(ye.navigation||!1===ye.navigation)&&I&&!I.prevEl&&!I.nextEl&&(ve=!0);const Et=ht=>{g[ht]&&(g[ht].destroy(),"navigation"===ht?(g.isElement&&(g[ht].prevEl.remove(),g[ht].nextEl.remove()),ye[ht].prevEl=void 0,ye[ht].nextEl=void 0,g[ht].prevEl=void 0,g[ht].nextEl=void 0):(g.isElement&&g[ht].el.remove(),ye[ht].el=void 0,g[ht].el=void 0))};Ht.includes("loop")&&g.isElement&&(ye.loop&&!ct.loop?ft=!0:!ye.loop&&ct.loop?bt=!0:Pt=!0),Ie.forEach(ht=>{if(hi(ye[ht])&&hi(ct[ht]))Object.assign(ye[ht],ct[ht]),("navigation"===ht||"pagination"===ht||"scrollbar"===ht)&&"enabled"in ct[ht]&&!ct[ht].enabled&&Et(ht);else{const _n=ct[ht];!0!==_n&&!1!==_n||"navigation"!==ht&&"pagination"!==ht&&"scrollbar"!==ht?ye[ht]=ct[ht]:!1===_n&&Et(ht)}}),Ie.includes("controller")&&!G&&g.controller&&g.controller.control&&ye.controller&&ye.controller.control&&(g.controller.control=ye.controller.control),Ht.includes("children")&&$t&&N&&ye.virtual.enabled?(N.slides=$t,N.update(!0)):Ht.includes("virtual")&&N&&ye.virtual.enabled&&($t&&(N.slides=$t),N.update(!0)),Ht.includes("children")&&$t&&ye.loop&&(Pt=!0),K&&z.init()&&z.update(!0),G&&(g.controller.control=ye.controller.control),he&&(g.isElement&&(!fe||"string"==typeof fe)&&(fe=document.createElement("div"),fe.classList.add("swiper-pagination"),fe.part.add("pagination"),g.el.appendChild(fe)),fe&&(ye.pagination.el=fe),we.init(),we.render(),we.update()),me&&(g.isElement&&(!Qe||"string"==typeof Qe)&&(Qe=document.createElement("div"),Qe.classList.add("swiper-scrollbar"),Qe.part.add("scrollbar"),g.el.appendChild(Qe)),Qe&&(ye.scrollbar.el=Qe),L.init(),L.updateSize(),L.setTranslate()),ve&&(g.isElement&&((!Ne||"string"==typeof Ne)&&(Ne=document.createElement("div"),Ne.classList.add("swiper-button-next"),Ne.innerHTML=g.hostEl.constructor.nextButtonSvg,Ne.part.add("button-next"),g.el.appendChild(Ne)),(!Oe||"string"==typeof Oe)&&(Oe=document.createElement("div"),Oe.classList.add("swiper-button-prev"),Oe.innerHTML=g.hostEl.constructor.prevButtonSvg,Oe.part.add("button-prev"),g.el.appendChild(Oe))),Ne&&(ye.navigation.nextEl=Ne),Oe&&(ye.navigation.prevEl=Oe),I.init(),I.update()),Ht.includes("allowSlideNext")&&(g.allowSlideNext=ct.allowSlideNext),Ht.includes("allowSlidePrev")&&(g.allowSlidePrev=ct.allowSlidePrev),Ht.includes("direction")&&g.changeDirection(ct.direction,!1),(ft||Pt)&&g.loopDestroy(),(bt||Pt)&&g.loopCreate(),g.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Or(g)],..."navigation"===g&&Ht[g]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===g&&Ht[g]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===g&&Ht[g]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(g,$t,ct){this.initialized&&("true"===$t&&null===ct&&(ct=!1),this.updateSwiperOnPropChange(g,ct))}static get observedAttributes(){return ir.filter($t=>$t.includes("_")).map($t=>$t.replace(/[A-Z]/g,ct=>`-${ct}`).replace("_","").toLowerCase())}}ir.forEach(rt=>{"init"!==rt&&(rt=rt.replace("_",""),Object.defineProperty(lr.prototype,rt,{configurable:!0,get(){return(this.passedParams||{})[rt]},set(g){this.passedParams||(this.passedParams={}),this.passedParams[rt]=g,this.initialized&&this.updateSwiperOnPropChange(rt,g)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=rt=>{ir.push(...rt)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",lr),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class cs extends vr{constructor(){super(),this.attachShadow({mode:"open"})}render(){const g=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(Ei(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),g){const $t=document.createElement("div");$t.classList.add("swiper-lazy-preloader"),$t.part.add("preloader"),this.shadowRoot.appendChild($t)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let Fr=(()=>{var rt;class g{constructor(){}}return(rt=g).\u0275fac=function(ct){return new(ct||rt)},rt.\u0275cmp=p.VBU({type:rt,selectors:[["app-root"]],decls:2,vars:0,template:function(ct,Ht){1&ct&&(p.j41(0,"ion-app"),p.nrm(1,"ion-router-outlet"),p.k0s())},dependencies:[k.U1,k.Rg]}),g})();const wr=[{path:"home",loadChildren:()=>Promise.resolve().then(pe.bind(pe,4478)).then(rt=>rt.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"tres",loadChildren:()=>Promise.resolve().then(pe.bind(pe,4652)).then(rt=>rt.TresPageModule)},{path:"historia",loadChildren:()=>Promise.resolve().then(pe.bind(pe,3971)).then(rt=>rt.HistoriaPageModule)}];let us=(()=>{var rt;class g{}return(rt=g).\u0275fac=function(ct){return new(ct||rt)},rt.\u0275mod=p.$C({type:rt}),rt.\u0275inj=p.G2t({imports:[Ue.iI.forRoot(wr,{preloadingStrategy:Ue.Kp}),Ue.iI]}),g})();var zi=pe(4478),Ls=pe(3971),yr=pe(4652);let hr=(()=>{var rt;class g{}return(rt=g).\u0275fac=function(ct){return new(ct||rt)},rt.\u0275mod=p.$C({type:rt,bootstrap:[Fr]}),rt.\u0275inj=p.G2t({providers:[{provide:Ue.b,useClass:St.jM}],imports:[b.Bb,k.bv.forRoot(),us,zi.HomePageModule,Ls.HistoriaPageModule,yr.TresPageModule]}),g})();(0,p.SmG)(),b.sG().bootstrapModule(hr).catch(rt=>console.log(rt))},4412:(Bi,xn,pe)=>{"use strict";pe.d(xn,{t:()=>p});var b=pe(1413);class p extends b.B{constructor(St){super(),this._value=St}get value(){return this.getValue()}_subscribe(St){const k=super._subscribe(St);return!k.closed&&St.next(this._value),k}getValue(){const{hasError:St,thrownError:k,_value:Nt}=this;if(St)throw k;return this._throwIfClosed(),Nt}next(St){super.next(this._value=St)}}},1985:(Bi,xn,pe)=>{"use strict";pe.d(xn,{c:()=>je});var b=pe(7707),p=pe(8359),Ue=pe(3494),St=pe(1203),k=pe(1026),Nt=pe(8071),Be=pe(9786);let je=(()=>{class Ct{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Lt=new Ct;return Lt.source=this,Lt.operator=ut,Lt}subscribe(ut,Lt,dn){const zt=function vt(Ct){return Ct&&Ct instanceof b.vU||function sn(Ct){return Ct&&(0,Nt.T)(Ct.next)&&(0,Nt.T)(Ct.error)&&(0,Nt.T)(Ct.complete)}(Ct)&&(0,p.Uv)(Ct)}(ut)?ut:new b.Ms(ut,Lt,dn);return(0,Be.Y)(()=>{const{operator:jt,source:vn}=this;zt.add(jt?jt.call(zt,vn):vn?this._subscribe(zt):this._trySubscribe(zt))}),zt}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Lt){ut.error(Lt)}}forEach(ut,Lt){return new(Lt=Zt(Lt))((dn,zt)=>{const jt=new b.Ms({next:vn=>{try{ut(vn)}catch(Kt){zt(Kt),jt.unsubscribe()}},error:zt,complete:dn});this.subscribe(jt)})}_subscribe(ut){var Lt;return null===(Lt=this.source)||void 0===Lt?void 0:Lt.subscribe(ut)}[Ue.s](){return this}pipe(...ut){return(0,St.m)(ut)(this)}toPromise(ut){return new(ut=Zt(ut))((Lt,dn)=>{let zt;this.subscribe(jt=>zt=jt,jt=>dn(jt),()=>Lt(zt))})}}return Ct.create=Rt=>new Ct(Rt),Ct})();function Zt(Ct){var Rt;return null!==(Rt=null!=Ct?Ct:k.$.Promise)&&void 0!==Rt?Rt:Promise}},1413:(Bi,xn,pe)=>{"use strict";pe.d(xn,{B:()=>Be});var b=pe(1985),p=pe(8359);const St=(0,pe(1853).L)(Zt=>function(){Zt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var k=pe(7908),Nt=pe(9786);let Be=(()=>{class Zt extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(vt){const Ct=new je(this,this);return Ct.operator=vt,Ct}_throwIfClosed(){if(this.closed)throw new St}next(vt){(0,Nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ct of this.currentObservers)Ct.next(vt)}})}error(vt){(0,Nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=vt;const{observers:Ct}=this;for(;Ct.length;)Ct.shift().error(vt)}})}complete(){(0,Nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:vt}=this;for(;vt.length;)vt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var vt;return(null===(vt=this.observers)||void 0===vt?void 0:vt.length)>0}_trySubscribe(vt){return this._throwIfClosed(),super._trySubscribe(vt)}_subscribe(vt){return this._throwIfClosed(),this._checkFinalizedStatuses(vt),this._innerSubscribe(vt)}_innerSubscribe(vt){const{hasError:Ct,isStopped:Rt,observers:ut}=this;return Ct||Rt?p.Kn:(this.currentObservers=null,ut.push(vt),new p.yU(()=>{this.currentObservers=null,(0,k.o)(ut,vt)}))}_checkFinalizedStatuses(vt){const{hasError:Ct,thrownError:Rt,isStopped:ut}=this;Ct?vt.error(Rt):ut&&vt.complete()}asObservable(){const vt=new b.c;return vt.source=this,vt}}return Zt.create=(sn,vt)=>new je(sn,vt),Zt})();class je extends Be{constructor(sn,vt){super(),this.destination=sn,this.source=vt}next(sn){var vt,Ct;null===(Ct=null===(vt=this.destination)||void 0===vt?void 0:vt.next)||void 0===Ct||Ct.call(vt,sn)}error(sn){var vt,Ct;null===(Ct=null===(vt=this.destination)||void 0===vt?void 0:vt.error)||void 0===Ct||Ct.call(vt,sn)}complete(){var sn,vt;null===(vt=null===(sn=this.destination)||void 0===sn?void 0:sn.complete)||void 0===vt||vt.call(sn)}_subscribe(sn){var vt,Ct;return null!==(Ct=null===(vt=this.source)||void 0===vt?void 0:vt.subscribe(sn))&&void 0!==Ct?Ct:p.Kn}}},7707:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Ms:()=>dn,vU:()=>Ct});var b=pe(8071),p=pe(8359),Ue=pe(1026),St=pe(5334),k=pe(5343);const Nt=Zt("C",void 0,void 0);function Zt(Xt,nt,Ut){return{kind:Xt,value:nt,error:Ut}}var sn=pe(9270),vt=pe(9786);class Ct extends p.yU{constructor(nt){super(),this.isStopped=!1,nt?(this.destination=nt,(0,p.Uv)(nt)&&nt.add(this)):this.destination=Kt}static create(nt,Ut,tn){return new dn(nt,Ut,tn)}next(nt){this.isStopped?vn(function je(Xt){return Zt("N",Xt,void 0)}(nt),this):this._next(nt)}error(nt){this.isStopped?vn(function Be(Xt){return Zt("E",void 0,Xt)}(nt),this):(this.isStopped=!0,this._error(nt))}complete(){this.isStopped?vn(Nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(nt){this.destination.next(nt)}_error(nt){try{this.destination.error(nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function ut(Xt,nt){return Rt.call(Xt,nt)}class Lt{constructor(nt){this.partialObserver=nt}next(nt){const{partialObserver:Ut}=this;if(Ut.next)try{Ut.next(nt)}catch(tn){zt(tn)}}error(nt){const{partialObserver:Ut}=this;if(Ut.error)try{Ut.error(nt)}catch(tn){zt(tn)}else zt(nt)}complete(){const{partialObserver:nt}=this;if(nt.complete)try{nt.complete()}catch(Ut){zt(Ut)}}}class dn extends Ct{constructor(nt,Ut,tn){let an;if(super(),(0,b.T)(nt)||!nt)an={next:null!=nt?nt:void 0,error:null!=Ut?Ut:void 0,complete:null!=tn?tn:void 0};else{let gt;this&&Ue.$.useDeprecatedNextContext?(gt=Object.create(nt),gt.unsubscribe=()=>this.unsubscribe(),an={next:nt.next&&ut(nt.next,gt),error:nt.error&&ut(nt.error,gt),complete:nt.complete&&ut(nt.complete,gt)}):an=nt}this.destination=new Lt(an)}}function zt(Xt){Ue.$.useDeprecatedSynchronousErrorHandling?(0,vt.l)(Xt):(0,St.m)(Xt)}function vn(Xt,nt){const{onStoppedNotification:Ut}=Ue.$;Ut&&sn.f.setTimeout(()=>Ut(Xt,nt))}const Kt={closed:!0,next:k.l,error:function jt(Xt){throw Xt},complete:k.l}},8359:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Kn:()=>Nt,yU:()=>k,Uv:()=>Be});var b=pe(8071);const Ue=(0,pe(1853).L)(Zt=>function(vt){Zt(this),this.message=vt?`${vt.length} errors occurred during unsubscription:\n${vt.map((Ct,Rt)=>`${Rt+1}) ${Ct.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=vt});var St=pe(7908);class k{constructor(sn){this.initialTeardown=sn,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let sn;if(!this.closed){this.closed=!0;const{_parentage:vt}=this;if(vt)if(this._parentage=null,Array.isArray(vt))for(const ut of vt)ut.remove(this);else vt.remove(this);const{initialTeardown:Ct}=this;if((0,b.T)(Ct))try{Ct()}catch(ut){sn=ut instanceof Ue?ut.errors:[ut]}const{_finalizers:Rt}=this;if(Rt){this._finalizers=null;for(const ut of Rt)try{je(ut)}catch(Lt){sn=null!=sn?sn:[],Lt instanceof Ue?sn=[...sn,...Lt.errors]:sn.push(Lt)}}if(sn)throw new Ue(sn)}}add(sn){var vt;if(sn&&sn!==this)if(this.closed)je(sn);else{if(sn instanceof k){if(sn.closed||sn._hasParent(this))return;sn._addParent(this)}(this._finalizers=null!==(vt=this._finalizers)&&void 0!==vt?vt:[]).push(sn)}}_hasParent(sn){const{_parentage:vt}=this;return vt===sn||Array.isArray(vt)&&vt.includes(sn)}_addParent(sn){const{_parentage:vt}=this;this._parentage=Array.isArray(vt)?(vt.push(sn),vt):vt?[vt,sn]:sn}_removeParent(sn){const{_parentage:vt}=this;vt===sn?this._parentage=null:Array.isArray(vt)&&(0,St.o)(vt,sn)}remove(sn){const{_finalizers:vt}=this;vt&&(0,St.o)(vt,sn),sn instanceof k&&sn._removeParent(this)}}k.EMPTY=(()=>{const Zt=new k;return Zt.closed=!0,Zt})();const Nt=k.EMPTY;function Be(Zt){return Zt instanceof k||Zt&&"closed"in Zt&&(0,b.T)(Zt.remove)&&(0,b.T)(Zt.add)&&(0,b.T)(Zt.unsubscribe)}function je(Zt){(0,b.T)(Zt)?Zt():Zt.unsubscribe()}},1026:(Bi,xn,pe)=>{"use strict";pe.d(xn,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Bi,xn,pe)=>{"use strict";pe.d(xn,{z:()=>sn});var b=pe(1985),p=pe(3073),Ue=pe(6648),St=pe(3669),k=pe(6450),Nt=pe(3794),Be=pe(8496),je=pe(4360),Zt=pe(5225);function sn(...Rt){const ut=(0,Nt.lI)(Rt),Lt=(0,Nt.ms)(Rt),{args:dn,keys:zt}=(0,p.D)(Rt);if(0===dn.length)return(0,Ue.H)([],ut);const jt=new b.c(function vt(Rt,ut,Lt=St.D){return dn=>{Ct(ut,()=>{const{length:zt}=Rt,jt=new Array(zt);let vn=zt,Kt=zt;for(let Xt=0;Xt<zt;Xt++)Ct(ut,()=>{const nt=(0,Ue.H)(Rt[Xt],ut);let Ut=!1;nt.subscribe((0,je._)(dn,tn=>{jt[Xt]=tn,Ut||(Ut=!0,Kt--),Kt||dn.next(Lt(jt.slice()))},()=>{--vn||dn.complete()}))},dn)},dn)}}(dn,ut,zt?vn=>(0,Be.e)(zt,vn):St.D));return Lt?jt.pipe((0,k.I)(Lt)):jt}function Ct(Rt,ut,Lt){Rt?(0,Zt.N)(Lt,Rt,ut):ut()}},6648:(Bi,xn,pe)=>{"use strict";pe.d(xn,{H:()=>tn});var b=pe(8750),p=pe(5225),Ue=pe(9974),St=pe(4360);function k(an,gt=0){return(0,Ue.N)((qe,Dt)=>{qe.subscribe((0,St._)(Dt,nn=>(0,p.N)(Dt,an,()=>Dt.next(nn),gt),()=>(0,p.N)(Dt,an,()=>Dt.complete(),gt),nn=>(0,p.N)(Dt,an,()=>Dt.error(nn),gt)))})}function Nt(an,gt=0){return(0,Ue.N)((qe,Dt)=>{Dt.add(an.schedule(()=>qe.subscribe(Dt),gt))})}var Zt=pe(1985),vt=pe(4761),Ct=pe(8071);function ut(an,gt){if(!an)throw new Error("Iterable cannot be null");return new Zt.c(qe=>{(0,p.N)(qe,gt,()=>{const Dt=an[Symbol.asyncIterator]();(0,p.N)(qe,gt,()=>{Dt.next().then(nn=>{nn.done?qe.complete():qe.next(nn.value)})},0,!0)})})}var Lt=pe(5055),dn=pe(9858),zt=pe(7441),jt=pe(5397),vn=pe(7953),Kt=pe(591),Xt=pe(5196);function tn(an,gt){return gt?function Ut(an,gt){if(null!=an){if((0,Lt.l)(an))return function Be(an,gt){return(0,b.Tg)(an).pipe(Nt(gt),k(gt))}(an,gt);if((0,zt.X)(an))return function sn(an,gt){return new Zt.c(qe=>{let Dt=0;return gt.schedule(function(){Dt===an.length?qe.complete():(qe.next(an[Dt++]),qe.closed||this.schedule())})})}(an,gt);if((0,dn.y)(an))return function je(an,gt){return(0,b.Tg)(an).pipe(Nt(gt),k(gt))}(an,gt);if((0,vn.T)(an))return ut(an,gt);if((0,jt.x)(an))return function Rt(an,gt){return new Zt.c(qe=>{let Dt;return(0,p.N)(qe,gt,()=>{Dt=an[vt.l](),(0,p.N)(qe,gt,()=>{let nn,Wn;try{({value:nn,done:Wn}=Dt.next())}catch(si){return void qe.error(si)}Wn?qe.complete():qe.next(nn)},0,!0)}),()=>(0,Ct.T)(null==Dt?void 0:Dt.return)&&Dt.return()})}(an,gt);if((0,Xt.U)(an))return function nt(an,gt){return ut((0,Xt.C)(an),gt)}(an,gt)}throw(0,Kt.L)(an)}(an,gt):(0,b.Tg)(an)}},3726:(Bi,xn,pe)=>{"use strict";pe.d(xn,{R:()=>sn});var b=pe(8750),p=pe(1985),Ue=pe(1397),St=pe(7441),k=pe(8071),Nt=pe(6450);const Be=["addListener","removeListener"],je=["addEventListener","removeEventListener"],Zt=["on","off"];function sn(Lt,dn,zt,jt){if((0,k.T)(zt)&&(jt=zt,zt=void 0),jt)return sn(Lt,dn,zt).pipe((0,Nt.I)(jt));const[vn,Kt]=function ut(Lt){return(0,k.T)(Lt.addEventListener)&&(0,k.T)(Lt.removeEventListener)}(Lt)?je.map(Xt=>nt=>Lt[Xt](dn,nt,zt)):function Ct(Lt){return(0,k.T)(Lt.addListener)&&(0,k.T)(Lt.removeListener)}(Lt)?Be.map(vt(Lt,dn)):function Rt(Lt){return(0,k.T)(Lt.on)&&(0,k.T)(Lt.off)}(Lt)?Zt.map(vt(Lt,dn)):[];if(!vn&&(0,St.X)(Lt))return(0,Ue.Z)(Xt=>sn(Xt,dn,zt))((0,b.Tg)(Lt));if(!vn)throw new TypeError("Invalid event target");return new p.c(Xt=>{const nt=(...Ut)=>Xt.next(1<Ut.length?Ut:Ut[0]);return vn(nt),()=>Kt(nt)})}function vt(Lt,dn){return zt=>jt=>Lt[zt](dn,jt)}},8750:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Tg:()=>Rt});var b=pe(1635),p=pe(7441),Ue=pe(9858),St=pe(1985),k=pe(5055),Nt=pe(7953),Be=pe(591),je=pe(5397),Zt=pe(5196),sn=pe(8071),vt=pe(5334),Ct=pe(3494);function Rt(Xt){if(Xt instanceof St.c)return Xt;if(null!=Xt){if((0,k.l)(Xt))return function ut(Xt){return new St.c(nt=>{const Ut=Xt[Ct.s]();if((0,sn.T)(Ut.subscribe))return Ut.subscribe(nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xt);if((0,p.X)(Xt))return function Lt(Xt){return new St.c(nt=>{for(let Ut=0;Ut<Xt.length&&!nt.closed;Ut++)nt.next(Xt[Ut]);nt.complete()})}(Xt);if((0,Ue.y)(Xt))return function dn(Xt){return new St.c(nt=>{Xt.then(Ut=>{nt.closed||(nt.next(Ut),nt.complete())},Ut=>nt.error(Ut)).then(null,vt.m)})}(Xt);if((0,Nt.T)(Xt))return jt(Xt);if((0,je.x)(Xt))return function zt(Xt){return new St.c(nt=>{for(const Ut of Xt)if(nt.next(Ut),nt.closed)return;nt.complete()})}(Xt);if((0,Zt.U)(Xt))return function vn(Xt){return jt((0,Zt.C)(Xt))}(Xt)}throw(0,Be.L)(Xt)}function jt(Xt){return new St.c(nt=>{(function Kt(Xt,nt){var Ut,tn,an,gt;return(0,b.sH)(this,void 0,void 0,function*(){try{for(Ut=(0,b.xN)(Xt);!(tn=yield Ut.next()).done;)if(nt.next(tn.value),nt.closed)return}catch(qe){an={error:qe}}finally{try{tn&&!tn.done&&(gt=Ut.return)&&(yield gt.call(Ut))}finally{if(an)throw an.error}}nt.complete()})})(Xt,nt).catch(Ut=>nt.error(Ut))})}},7673:(Bi,xn,pe)=>{"use strict";pe.d(xn,{of:()=>Ue});var b=pe(3794),p=pe(6648);function Ue(...St){const k=(0,b.lI)(St);return(0,p.H)(St,k)}},4360:(Bi,xn,pe)=>{"use strict";pe.d(xn,{_:()=>p});var b=pe(7707);function p(St,k,Nt,Be,je){return new Ue(St,k,Nt,Be,je)}class Ue extends b.vU{constructor(k,Nt,Be,je,Zt,sn){super(k),this.onFinalize=Zt,this.shouldUnsubscribe=sn,this._next=Nt?function(vt){try{Nt(vt)}catch(Ct){k.error(Ct)}}:super._next,this._error=je?function(vt){try{je(vt)}catch(Ct){k.error(Ct)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(vt){k.error(vt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var k;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Nt}=this;super.unsubscribe(),!Nt&&(null===(k=this.onFinalize)||void 0===k||k.call(this))}}}},5964:(Bi,xn,pe)=>{"use strict";pe.d(xn,{p:()=>Ue});var b=pe(9974),p=pe(4360);function Ue(St,k){return(0,b.N)((Nt,Be)=>{let je=0;Nt.subscribe((0,p._)(Be,Zt=>St.call(k,Zt,je++)&&Be.next(Zt)))})}},6354:(Bi,xn,pe)=>{"use strict";pe.d(xn,{T:()=>Ue});var b=pe(9974),p=pe(4360);function Ue(St,k){return(0,b.N)((Nt,Be)=>{let je=0;Nt.subscribe((0,p._)(Be,Zt=>{Be.next(St.call(k,Zt,je++))}))})}},1397:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Z:()=>je});var b=pe(6354),p=pe(8750),Ue=pe(9974),St=pe(5225),k=pe(4360),Be=pe(8071);function je(Zt,sn,vt=1/0){return(0,Be.T)(sn)?je((Ct,Rt)=>(0,b.T)((ut,Lt)=>sn(Ct,ut,Rt,Lt))((0,p.Tg)(Zt(Ct,Rt))),vt):("number"==typeof sn&&(vt=sn),(0,Ue.N)((Ct,Rt)=>function Nt(Zt,sn,vt,Ct,Rt,ut,Lt,dn){const zt=[];let jt=0,vn=0,Kt=!1;const Xt=()=>{Kt&&!zt.length&&!jt&&sn.complete()},nt=tn=>jt<Ct?Ut(tn):zt.push(tn),Ut=tn=>{ut&&sn.next(tn),jt++;let an=!1;(0,p.Tg)(vt(tn,vn++)).subscribe((0,k._)(sn,gt=>{null==Rt||Rt(gt),ut?nt(gt):sn.next(gt)},()=>{an=!0},void 0,()=>{if(an)try{for(jt--;zt.length&&jt<Ct;){const gt=zt.shift();Lt?(0,St.N)(sn,Lt,()=>Ut(gt)):Ut(gt)}Xt()}catch(gt){sn.error(gt)}}))};return Zt.subscribe((0,k._)(sn,nt,()=>{Kt=!0,Xt()})),()=>{null==dn||dn()}}(Ct,Rt,Zt,vt)))}},5558:(Bi,xn,pe)=>{"use strict";pe.d(xn,{n:()=>St});var b=pe(8750),p=pe(9974),Ue=pe(4360);function St(k,Nt){return(0,p.N)((Be,je)=>{let Zt=null,sn=0,vt=!1;const Ct=()=>vt&&!Zt&&je.complete();Be.subscribe((0,Ue._)(je,Rt=>{null==Zt||Zt.unsubscribe();let ut=0;const Lt=sn++;(0,b.Tg)(k(Rt,Lt)).subscribe(Zt=(0,Ue._)(je,dn=>je.next(Nt?Nt(Rt,dn,Lt,ut++):dn),()=>{Zt=null,Ct()}))},()=>{vt=!0,Ct()}))})}},9270:(Bi,xn,pe)=>{"use strict";pe.d(xn,{f:()=>b});const b={setTimeout(p,Ue,...St){const{delegate:k}=b;return null!=k&&k.setTimeout?k.setTimeout(p,Ue,...St):setTimeout(p,Ue,...St)},clearTimeout(p){const{delegate:Ue}=b;return((null==Ue?void 0:Ue.clearTimeout)||clearTimeout)(p)},delegate:void 0}},4761:(Bi,xn,pe)=>{"use strict";pe.d(xn,{l:()=>p});const p=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bi,xn,pe)=>{"use strict";pe.d(xn,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Bi,xn,pe)=>{"use strict";pe.d(xn,{ms:()=>St,lI:()=>k});var b=pe(8071);function Ue(Be){return Be[Be.length-1]}function St(Be){return(0,b.T)(Ue(Be))?Be.pop():void 0}function k(Be){return function p(Be){return Be&&(0,b.T)(Be.schedule)}(Ue(Be))?Be.pop():void 0}},3073:(Bi,xn,pe)=>{"use strict";pe.d(xn,{D:()=>k});const{isArray:b}=Array,{getPrototypeOf:p,prototype:Ue,keys:St}=Object;function k(Be){if(1===Be.length){const je=Be[0];if(b(je))return{args:je,keys:null};if(function Nt(Be){return Be&&"object"==typeof Be&&p(Be)===Ue}(je)){const Zt=St(je);return{args:Zt.map(sn=>je[sn]),keys:Zt}}}return{args:Be,keys:null}}},7908:(Bi,xn,pe)=>{"use strict";function b(p,Ue){if(p){const St=p.indexOf(Ue);0<=St&&p.splice(St,1)}}pe.d(xn,{o:()=>b})},1853:(Bi,xn,pe)=>{"use strict";function b(p){const St=p(k=>{Error.call(k),k.stack=(new Error).stack});return St.prototype=Object.create(Error.prototype),St.prototype.constructor=St,St}pe.d(xn,{L:()=>b})},8496:(Bi,xn,pe)=>{"use strict";function b(p,Ue){return p.reduce((St,k,Nt)=>(St[k]=Ue[Nt],St),{})}pe.d(xn,{e:()=>b})},9786:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Y:()=>Ue,l:()=>St});var b=pe(1026);let p=null;function Ue(k){if(b.$.useDeprecatedSynchronousErrorHandling){const Nt=!p;if(Nt&&(p={errorThrown:!1,error:null}),k(),Nt){const{errorThrown:Be,error:je}=p;if(p=null,Be)throw je}}else k()}function St(k){b.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=k)}},5225:(Bi,xn,pe)=>{"use strict";function b(p,Ue,St,k=0,Nt=!1){const Be=Ue.schedule(function(){St(),Nt?p.add(this.schedule(null,k)):this.unsubscribe()},k);if(p.add(Be),!Nt)return Be}pe.d(xn,{N:()=>b})},3669:(Bi,xn,pe)=>{"use strict";function b(p){return p}pe.d(xn,{D:()=>b})},7441:(Bi,xn,pe)=>{"use strict";pe.d(xn,{X:()=>b});const b=p=>p&&"number"==typeof p.length&&"function"!=typeof p},7953:(Bi,xn,pe)=>{"use strict";pe.d(xn,{T:()=>p});var b=pe(8071);function p(Ue){return Symbol.asyncIterator&&(0,b.T)(null==Ue?void 0:Ue[Symbol.asyncIterator])}},8071:(Bi,xn,pe)=>{"use strict";function b(p){return"function"==typeof p}pe.d(xn,{T:()=>b})},5055:(Bi,xn,pe)=>{"use strict";pe.d(xn,{l:()=>Ue});var b=pe(3494),p=pe(8071);function Ue(St){return(0,p.T)(St[b.s])}},5397:(Bi,xn,pe)=>{"use strict";pe.d(xn,{x:()=>Ue});var b=pe(4761),p=pe(8071);function Ue(St){return(0,p.T)(null==St?void 0:St[b.l])}},9858:(Bi,xn,pe)=>{"use strict";pe.d(xn,{y:()=>p});var b=pe(8071);function p(Ue){return(0,b.T)(null==Ue?void 0:Ue.then)}},5196:(Bi,xn,pe)=>{"use strict";pe.d(xn,{C:()=>Ue,U:()=>St});var b=pe(1635),p=pe(8071);function Ue(k){return(0,b.AQ)(this,arguments,function*(){const Be=k.getReader();try{for(;;){const{value:je,done:Zt}=yield(0,b.N3)(Be.read());if(Zt)return yield(0,b.N3)(void 0);yield yield(0,b.N3)(je)}}finally{Be.releaseLock()}})}function St(k){return(0,p.T)(null==k?void 0:k.getReader)}},9974:(Bi,xn,pe)=>{"use strict";pe.d(xn,{N:()=>Ue,S:()=>p});var b=pe(8071);function p(St){return(0,b.T)(null==St?void 0:St.lift)}function Ue(St){return k=>{if(p(k))return k.lift(function(Nt){try{return St(Nt,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Bi,xn,pe)=>{"use strict";pe.d(xn,{I:()=>St});var b=pe(6354);const{isArray:p}=Array;function St(k){return(0,b.T)(Nt=>function Ue(k,Nt){return p(Nt)?k(...Nt):k(Nt)}(k,Nt))}},5343:(Bi,xn,pe)=>{"use strict";function b(){}pe.d(xn,{l:()=>b})},1203:(Bi,xn,pe)=>{"use strict";pe.d(xn,{F:()=>p,m:()=>Ue});var b=pe(3669);function p(...St){return Ue(St)}function Ue(St){return 0===St.length?b.D:1===St.length?St[0]:function(Nt){return St.reduce((Be,je)=>je(Be),Nt)}}},5334:(Bi,xn,pe)=>{"use strict";pe.d(xn,{m:()=>Ue});var b=pe(1026),p=pe(9270);function Ue(St){p.f.setTimeout(()=>{const{onUnhandledError:k}=b.$;if(!k)throw St;k(St)})}},591:(Bi,xn,pe)=>{"use strict";function b(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}pe.d(xn,{L:()=>b})},8996:(Bi,xn,pe)=>{var b={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function p(Ue){if(!pe.o(b,Ue))return Promise.resolve().then(()=>{var Nt=new Error("Cannot find module '"+Ue+"'");throw Nt.code="MODULE_NOT_FOUND",Nt});var St=b[Ue],k=St[0];return Promise.all(St.slice(1).map(pe.e)).then(()=>pe(k))}p.keys=()=>Object.keys(b),p.id=8996,Bi.exports=p},177:(Bi,xn,pe)=>{"use strict";pe.d(xn,{AJ:()=>Pn,MD:()=>At,N0:()=>ho,QT:()=>Ue,Sm:()=>dn,T3:()=>kr,VF:()=>k,Vy:()=>Pi,Xr:()=>lo,ZD:()=>St,_b:()=>le,aZ:()=>jt,bT:()=>mr,fw:()=>zt,hb:()=>ut,hj:()=>Zt,qQ:()=>Be});var b=pe(4438);let p=null;function Ue(){return p}function St(O){var J;null!==(J=p)&&void 0!==J||(p=O)}class k{}const Be=new b.nKC("");let je=(()=>{var O;class J{historyGo(q){throw new Error("")}}return(O=J).\u0275fac=function(q){return new(q||O)},O.\u0275prov=b.jDH({token:O,factory:()=>(0,b.WQX)(sn),providedIn:"platform"}),J})();const Zt=new b.nKC("");let sn=(()=>{var O;class J extends je{constructor(){super(),this._doc=(0,b.WQX)(Be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ue().getBaseHref(this._doc)}onPopState(q){const Pe=Ue().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("popstate",q,!1),()=>Pe.removeEventListener("popstate",q)}onHashChange(q){const Pe=Ue().getGlobalEventTarget(this._doc,"window");return Pe.addEventListener("hashchange",q,!1),()=>Pe.removeEventListener("hashchange",q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(q){this._location.pathname=q}pushState(q,Pe,at){this._history.pushState(q,Pe,at)}replaceState(q,Pe,at){this._history.replaceState(q,Pe,at)}forward(){this._history.forward()}back(){this._history.back()}historyGo(q=0){this._history.go(q)}getState(){return this._history.state}}return(O=J).\u0275fac=function(q){return new(q||O)},O.\u0275prov=b.jDH({token:O,factory:()=>new O,providedIn:"platform"}),J})();function vt(O,J){if(0==O.length)return J;if(0==J.length)return O;let We=0;return O.endsWith("/")&&We++,J.startsWith("/")&&We++,2==We?O+J.substring(1):1==We?O+J:O+"/"+J}function Ct(O){const J=O.match(/#|\?|$/),We=J&&J.index||O.length;return O.slice(0,We-("/"===O[We-1]?1:0))+O.slice(We)}function Rt(O){return O&&"?"!==O[0]?"?"+O:O}let ut=(()=>{var O;class J{historyGo(q){throw new Error("")}}return(O=J).\u0275fac=function(q){return new(q||O)},O.\u0275prov=b.jDH({token:O,factory:()=>(0,b.WQX)(dn),providedIn:"root"}),J})();const Lt=new b.nKC("");let dn=(()=>{var O;class J extends ut{constructor(q,Pe){var at,bn,ni;super(),this._platformLocation=q,this._removeListenerFns=[],this._baseHref=null!==(at=null!==(bn=null!=Pe?Pe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==bn?bn:null===(ni=(0,b.WQX)(Be).location)||void 0===ni?void 0:ni.origin)&&void 0!==at?at:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}prepareExternalUrl(q){return vt(this._baseHref,q)}path(q=!1){const Pe=this._platformLocation.pathname+Rt(this._platformLocation.search),at=this._platformLocation.hash;return at&&q?`${Pe}${at}`:Pe}pushState(q,Pe,at,bn){const ni=this.prepareExternalUrl(at+Rt(bn));this._platformLocation.pushState(q,Pe,ni)}replaceState(q,Pe,at,bn){const ni=this.prepareExternalUrl(at+Rt(bn));this._platformLocation.replaceState(q,Pe,ni)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Pe,at;null===(Pe=(at=this._platformLocation).historyGo)||void 0===Pe||Pe.call(at,q)}}return(O=J).\u0275fac=function(q){return new(q||O)(b.KVO(je),b.KVO(Lt,8))},O.\u0275prov=b.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),J})(),zt=(()=>{var O;class J extends ut{constructor(q,Pe){super(),this._platformLocation=q,this._baseHref="",this._removeListenerFns=[],null!=Pe&&(this._baseHref=Pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){var Pe;const at=null!==(Pe=this._platformLocation.hash)&&void 0!==Pe?Pe:"#";return at.length>0?at.substring(1):at}prepareExternalUrl(q){const Pe=vt(this._baseHref,q);return Pe.length>0?"#"+Pe:Pe}pushState(q,Pe,at,bn){let ni=this.prepareExternalUrl(at+Rt(bn));0==ni.length&&(ni=this._platformLocation.pathname),this._platformLocation.pushState(q,Pe,ni)}replaceState(q,Pe,at,bn){let ni=this.prepareExternalUrl(at+Rt(bn));0==ni.length&&(ni=this._platformLocation.pathname),this._platformLocation.replaceState(q,Pe,ni)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){var Pe,at;null===(Pe=(at=this._platformLocation).historyGo)||void 0===Pe||Pe.call(at,q)}}return(O=J).\u0275fac=function(q){return new(q||O)(b.KVO(je),b.KVO(Lt,8))},O.\u0275prov=b.jDH({token:O,factory:O.\u0275fac}),J})(),jt=(()=>{var O;class J{constructor(q){this._subject=new b.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=q;const Pe=this._locationStrategy.getBaseHref();this._basePath=function nt(O){if(new RegExp("^(https?:)?//").test(O)){const[,We]=O.split(/\/\/[^\/]+/);return We}return O}(Ct(Xt(Pe))),this._locationStrategy.onPopState(at=>{this._subject.emit({url:this.path(!0),pop:!0,state:at.state,type:at.type})})}ngOnDestroy(){var q;null===(q=this._urlChangeSubscription)||void 0===q||q.unsubscribe(),this._urlChangeListeners=[]}path(q=!1){return this.normalize(this._locationStrategy.path(q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(q,Pe=""){return this.path()==this.normalize(q+Rt(Pe))}normalize(q){return J.stripTrailingSlash(function Kt(O,J){if(!O||!J.startsWith(O))return J;const We=J.substring(O.length);return""===We||["/",";","?","#"].includes(We[0])?We:J}(this._basePath,Xt(q)))}prepareExternalUrl(q){return q&&"/"!==q[0]&&(q="/"+q),this._locationStrategy.prepareExternalUrl(q)}go(q,Pe="",at=null){this._locationStrategy.pushState(at,"",q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Rt(Pe)),at)}replaceState(q,Pe="",at=null){this._locationStrategy.replaceState(at,"",q,Pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(q+Rt(Pe)),at)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(q=0){var Pe,at;null===(Pe=(at=this._locationStrategy).historyGo)||void 0===Pe||Pe.call(at,q)}onUrlChange(q){var Pe;return this._urlChangeListeners.push(q),null!==(Pe=this._urlChangeSubscription)&&void 0!==Pe||(this._urlChangeSubscription=this.subscribe(at=>{this._notifyUrlChangeListeners(at.url,at.state)})),()=>{const at=this._urlChangeListeners.indexOf(q);var bn;this._urlChangeListeners.splice(at,1),0===this._urlChangeListeners.length&&(null===(bn=this._urlChangeSubscription)||void 0===bn||bn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(q="",Pe){this._urlChangeListeners.forEach(at=>at(q,Pe))}subscribe(q,Pe,at){return this._subject.subscribe({next:q,error:Pe,complete:at})}}return(O=J).normalizeQueryParams=Rt,O.joinWithSlash=vt,O.stripTrailingSlash=Ct,O.\u0275fac=function(q){return new(q||O)(b.KVO(ut))},O.\u0275prov=b.jDH({token:O,factory:()=>function vn(){return new jt((0,b.KVO)(ut))}(),providedIn:"root"}),J})();function Xt(O){return O.replace(/\/index.html$/,"")}function le(O,J){J=encodeURIComponent(J);for(const We of O.split(";")){const q=We.indexOf("="),[Pe,at]=-1==q?[We,""]:[We.slice(0,q),We.slice(q+1)];if(Pe.trim()===J)return decodeURIComponent(at)}return null}let mr=(()=>{var O;class J{constructor(q,Pe){this._viewContainer=q,this._context=new ks,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Pe}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Xs("ngIfThen",q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Xs("ngIfElse",q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(q,Pe){return!0}}return(O=J).\u0275fac=function(q){return new(q||O)(b.rXU(b.c1b),b.rXU(b.C4Q))},O.\u0275dir=b.FsC({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),J})();class ks{constructor(){this.$implicit=null,this.ngIf=null}}function Xs(O,J){if(J&&!J.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,b.Tbb)(J)}'.`)}let kr=(()=>{var O;class J{constructor(q){this._viewContainerRef=q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(q){if(this._shouldRecreateView(q)){var Pe;const at=this._viewContainerRef;if(this._viewRef&&at.remove(at.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const bn=this._createContextForwardProxy();this._viewRef=at.createEmbeddedView(this.ngTemplateOutlet,bn,{injector:null!==(Pe=this.ngTemplateOutletInjector)&&void 0!==Pe?Pe:void 0})}}_shouldRecreateView(q){return!!q.ngTemplateOutlet||!!q.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(q,Pe,at)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Pe,at),get:(q,Pe,at)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Pe,at)}})}}return(O=J).\u0275fac=function(q){return new(q||O)(b.rXU(b.c1b))},O.\u0275dir=b.FsC({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.OA$]}),J})(),At=(()=>{var O;class J{}return(O=J).\u0275fac=function(q){return new(q||O)},O.\u0275mod=b.$C({type:O}),O.\u0275inj=b.G2t({}),J})();const Pn="browser",Hn="server";function Pi(O){return O===Hn}let lo=(()=>{var O;class J{}return(O=J).\u0275prov=(0,b.jDH)({token:O,providedIn:"root",factory:()=>function _i(O){return O===Pn}((0,b.WQX)(b.Agw))?new Zr((0,b.WQX)(Be),window):new ts}),J})();class Zr{constructor(J,We){this.document=J,this.window=We,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(J){this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){const We=function Us(O,J){const We=O.getElementById(J)||O.getElementsByName(J)[0];if(We)return We;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const q=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let Pe=q.currentNode;for(;Pe;){const at=Pe.shadowRoot;if(at){const bn=at.getElementById(J)||at.querySelector(`[name="${J}"]`);if(bn)return bn}Pe=q.nextNode()}}return null}(this.document,J);We&&(this.scrollToElement(We),We.focus())}setHistoryScrollRestoration(J){this.window.history.scrollRestoration=J}scrollToElement(J){const We=J.getBoundingClientRect(),q=We.left+this.window.pageXOffset,Pe=We.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo(q-at[0],Pe-at[1])}}class ts{setOffset(J){}getScrollPosition(){return[0,0]}scrollToPosition(J){}scrollToAnchor(J){}setHistoryScrollRestoration(J){}}class ho{}},4438:(Bi,xn,pe)=>{"use strict";pe.d(xn,{iLQ:()=>Ex,sZ2:()=>Ch,hnV:()=>tC,Hbi:()=>sI,o8S:()=>zd,BIS:()=>z_,gRc:()=>pC,Ql9:()=>RD,Ocv:()=>BD,Z63:()=>wo,aKT:()=>bh,uvJ:()=>co,zcH:()=>vc,bkB:()=>yc,$GK:()=>Rr,nKC:()=>ee,zZn:()=>cl,_q3:()=>Rx,MKu:()=>Px,xe9:()=>zy,Co$:()=>fl,Vns:()=>Ku,SKi:()=>qo,Xx1:()=>_i,Agw:()=>sm,PLl:()=>Lv,sFG:()=>ju,_9s:()=>H0,czy:()=>Vh,kdw:()=>cr,C4Q:()=>Hu,NYb:()=>SD,giA:()=>JM,RxE:()=>WM,c1b:()=>mp,gXe:()=>Wa,mal:()=>ag,L39:()=>NI,a0P:()=>HI,Ol2:()=>Sg,w6W:()=>Nd,oH4:()=>uC,SmG:()=>GD,Rfq:()=>Ht,WQX:()=>Ke,QuC:()=>la,fpN:()=>rI,HJs:()=>$I,N4e:()=>Fa,O8t:()=>FI,H3F:()=>XM,H8p:()=>Os,KH2:()=>Dp,TgB:()=>Fd,wOt:()=>Ot,WHO:()=>ZM,e01:()=>QM,H5H:()=>ix,Zy3:()=>fn,mq5:()=>aS,JZv:()=>zi,LfX:()=>un,plB:()=>qu,jNT:()=>wx,zjR:()=>eC,TL$:()=>Nv,Tbb:()=>rt,Vt3:()=>wg,Mj6:()=>ia,GFd:()=>vy,OA$:()=>Bt,Jv_:()=>EM,aNF:()=>SM,R7$:()=>Pm,BMQ:()=>To,AVh:()=>Kw,wni:()=>YS,VBU:()=>Ju,FsC:()=>qa,jDH:()=>Qt,G2t:()=>en,$C:()=>uu,EJ8:()=>Ka,rXU:()=>Lu,nrm:()=>tx,eu8:()=>nx,bVm:()=>Py,qex:()=>Ry,k0s:()=>Iy,j41:()=>Dy,RV6:()=>rS,xGo:()=>dv,KVO:()=>te,kS0:()=>yh,QTQ:()=>qh,bIt:()=>ox,lsd:()=>JS,XpG:()=>US,SdG:()=>VS,NAR:()=>BS,Y8G:()=>Xw,mGM:()=>QS,Njj:()=>pc,eBV:()=>oh,n$t:()=>c0,DNE:()=>Bd,EFF:()=>cM,GBs:()=>ZS}),pe(467);let Ue=null,k=1;const Nt=Symbol("SIGNAL");function Be(t){const i=Ue;return Ue=t,i}function ut(t){if((!tn(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==k)){if(!t.producerMustRecompute(t)&&!Kt(t))return t.dirty=!1,void(t.lastCleanEpoch=k);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=k}}function Kt(t){an(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],a=t.producerLastReadVersion[i];if(a!==s.version||(ut(s),a!==s.version))return!0}return!1}function Ut(t,i){if(function gt(t){var i,s;null!==(i=t.liveConsumerNode)&&void 0!==i||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}(t),an(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ut(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[i],u=t.liveConsumerNode[i];an(u),u.producerIndexOfThis[a]=i}}function tn(t){var i,s;return t.consumerIsAlwaysLive||(null!==(i=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==i?i:0)>0}function an(t){var i,s,a;null!==(i=t.producerNode)&&void 0!==i||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let Zn=null;var ar=pe(1413),pr=pe(8359),gr=pe(4412),Or=pe(6354);const di="https://g.co/ng/security#xss";class Ot extends Error{constructor(i,s){super(fn(i,s)),this.code=i}}function fn(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}function Ci(t){return{toString:t}.toString()}const lr="__parameters__";function wr(t,i,s){return Ci(()=>{const a=function Fr(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const y=new u(...h);return E.annotation=y,E;function E(D,Z,ae){const Se=D.hasOwnProperty(lr)?D[lr]:Object.defineProperty(D,lr,{value:[]})[lr];for(;Se.length<=ae;)Se.push(null);return(Se[ae]=Se[ae]||[]).push(y),D}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}const zi=globalThis;function hr(t){for(let i in t)if(t[i]===hr)return i;throw Error("Could not find renamed property on target object.")}function Fs(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function g(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const ct=hr({__forward_ref__:hr});function Ht(t){return t.__forward_ref__=Ht,t.toString=function(){return rt(this())},t}function Ne(t){return Oe(t)?t():t}function Oe(t){return"function"==typeof t&&t.hasOwnProperty(ct)&&t.__forward_ref__===Ht}function Qt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wt(t){return kn(t,gi)||kn(t,se)}function un(t){return null!==Wt(t)}function kn(t,i){return t.hasOwnProperty(i)?t[i]:null}function on(t){return t&&(t.hasOwnProperty(le)||t.hasOwnProperty(De))?t[le]:null}const gi=hr({\u0275prov:hr}),le=hr({\u0275inj:hr}),se=hr({ngInjectableDef:hr}),De=hr({ngInjectorDef:hr});class ee{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Qt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vs(t){return t&&!!t.\u0275providers}const Rs=hr({\u0275cmp:hr}),Js=hr({\u0275dir:hr}),ur=hr({\u0275pipe:hr}),ro=hr({\u0275mod:hr}),so=hr({\u0275fac:hr}),Kr=hr({__NG_ELEMENT_ID__:hr}),es=hr({__NG_ENV_ID__:hr});function Ji(t){return"string"==typeof t?t:null==t?"":String(t)}function ya(t,i){throw new Ot(-201,!1)}var Rr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Rr||{});let Cs;function ja(){return Cs}function br(t){const i=Cs;return Cs=t,i}function fa(t,i,s){const a=Wt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Rr.Optional?null:void 0!==i?i:void ya()}const Mr={},ha="__NG_DI_FLAG__",bo="ngTempTokenPath",ce=/\n/gm,j="__source";let ze;function or(t){const i=ze;return ze=t,i}function qs(t,i=Rr.Default){if(void 0===ze)throw new Ot(-203,!1);return null===ze?fa(t,void 0,i):ze.get(t,i&Rr.Optional?null:void 0,i)}function te(t,i=Rr.Default){return(ja()||qs)(Ne(t),i)}function Ke(t,i=Rr.Default){return te(t,mt(i))}function mt(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function xt(t){const i=[];for(let s=0;s<t.length;s++){const a=Ne(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ot(900,!1);let u,h=Rr.Default;for(let y=0;y<a.length;y++){const E=a[y],D=Pn(E);"number"==typeof D?-1===D?u=E.token:h|=D:u=E}i.push(te(u,h))}else i.push(te(a))}return i}function At(t,i){return t[ha]=i,t.prototype[ha]=i,t}function Pn(t){return t[ha]}const _i=At(wr("Optional"),8),cr=At(wr("SkipSelf"),4);function is(t,i){return t.hasOwnProperty(so)?t[so]:null}function Us(t,i){t.forEach(s=>Array.isArray(s)?Us(s,i):i(s))}function ts(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function ho(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Vo(t,i,s){let a=Qo(t,i);return a>=0?t[1|a]=s:(a=~a,function $l(t,i,s,a){let u=t.length;if(u==i)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>i;)t[u]=t[u-2],u--;t[i]=s,t[i+1]=a}}(t,a,i,s)),a}function Il(t,i){const s=Qo(t,i);if(s>=0)return t[1|s]}function Qo(t,i){return function ac(t,i,s){let a=0,u=t.length>>s;for(;u!==a;){const h=a+(u-a>>1),y=t[h<<s];if(i===y)return h<<s;y>i?u=h:a=h+1}return~(u<<s)}(t,i,1)}const _a={},ds=[],wo=new ee(""),Da=new ee("",-1),rl=new ee("");class sl{get(i,s=Mr){if(s===Mr){const a=new Error(`NullInjectorError: No provider for ${rt(i)}!`);throw a.name="NullInjectorError",a}return s}}var Po=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Po||{}),Wa=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Wa||{}),ia=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ia||{});function kc(t,i,s){let a=t.length;for(;;){const u=t.indexOf(i,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||t.charCodeAt(u+h)<=32)return u}s=u+1}}function Gl(t,i,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const h=s[a++],y=s[a++],E=s[a++];t.setAttribute(i,y,E,h)}else{const h=u,y=s[++a];Rl(h)?t.setProperty(i,h,y):t.setAttribute(i,h,y),a++}}return a}function Uc(t){return 3===t||4===t||6===t}function Rl(t){return 64===t.charCodeAt(0)}function ol(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||Bc(t,s,u,null,-1===s||2===s?i[++a]:null)}}return t}function Bc(t,i,s,a,u){let h=0,y=t.length;if(-1===i)y=-1;else for(;h<t.length;){const E=t[h++];if("number"==typeof E){if(E===i){y=-1;break}if(E>i){y=h-1;break}}}for(;h<t.length;){const E=t[h];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==u&&(t[h+1]=u));if(a===t[h+1])return void(t[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==y&&(t.splice(y,0,i),h=y+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==u&&t.splice(h++,0,u)}const jl="ng-template";function go(t,i,s,a){let u=0;if(a){for(;u<i.length&&"string"==typeof i[u];u+=2)if("class"===i[u]&&-1!==kc(i[u+1].toLowerCase(),s,0))return!0}else if(ra(t))return!1;if(u=i.indexOf(1,u),u>-1){let h;for(;++u<i.length&&"string"==typeof(h=i[u]);)if(h.toLowerCase()===s)return!0}return!1}function ra(t){return 4===t.type&&t.value!==jl}function ie(t,i,s){return i===(4!==t.type||s?t.value:jl)}function X(t,i,s){let a=4;const u=t.attrs,h=null!==u?function qi(t){for(let i=0;i<t.length;i++)if(Uc(t[i]))return i;return t.length}(u):0;let y=!1;for(let E=0;E<i.length;E++){const D=i[E];if("number"!=typeof D){if(!y)if(4&a){if(a=2|1&a,""!==D&&!ie(t,D,s)||""===D&&1===i.length){if(Re(a))return!1;y=!0}}else if(8&a){if(null===u||!go(t,u,D,s)){if(Re(a))return!1;y=!0}}else{const Z=i[++E],ae=ne(D,u,ra(t),s);if(-1===ae){if(Re(a))return!1;y=!0;continue}if(""!==Z){let Se;if(Se=ae>h?"":u[ae+1].toLowerCase(),2&a&&Z!==Se){if(Re(a))return!1;y=!0}}}}else{if(!y&&!Re(a)&&!Re(D))return!1;if(y&&Re(D))continue;y=!1,a=D|1&a}}return Re(a)||y}function Re(t){return!(1&t)}function ne(t,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let h=!1;for(;u<i.length;){const y=i[u];if(y===t)return u;if(3===y||6===y)h=!0;else{if(1===y||2===y){let E=i[++u];for(;"string"==typeof E;)E=i[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=h?1:2}return-1}return function ji(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,t)}function Ye(t,i,s=!1){for(let a=0;a<i.length;a++)if(X(t,i[a],s))return!0;return!1}function sa(t,i){e:for(let s=0;s<i.length;s++){const a=i[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Xa(t,i){return t?":not("+i.trim()+")":i}function La(t){let i=t[0],s=1,a=2,u="",h=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const E=t[++s];u+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?u+="."+y:4&a&&(u+=" "+y);else""!==u&&!Re(y)&&(i+=Xa(h,u),u=""),a=y,h=h||!Re(a);s++}return""!==u&&(i+=Xa(h,u)),i}function Ju(t){return Ci(()=>{var i;const s=lc(t),a={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Po.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(i=t.signals)&&void 0!==i&&i,data:t.data||{},encapsulation:t.encapsulation||Wa.Emulated,styles:t.styles||ds,_:null,schemas:t.schemas||null,tView:null,id:""};$s(a);const u=t.dependencies;return a.directiveDefs=Cr(u,!1),a.pipeDefs=Cr(u,!0),a.id=function Gn(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of s)i=Math.imul(31,i)+u.charCodeAt(0)|0;return i+=2147483648,"c"+i}(a),a})}function $d(t){return Qr(t)||oo(t)}function ed(t){return null!==t}function uu(t){return Ci(()=>({type:t.type,bootstrap:t.bootstrap||ds,declarations:t.declarations||ds,imports:t.imports||ds,exports:t.exports||ds,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vc(t,i){if(null==t)return _a;const s={};for(const u in t)if(t.hasOwnProperty(u)){const h=t[u];let y,E,D=ia.None;var a;Array.isArray(h)?(D=h[0],y=h[1],E=null!==(a=h[2])&&void 0!==a?a:y):(y=h,E=h),i?(s[y]=D!==ia.None?[u,D]:u,i[y]=E):s[y]=u}return s}function qa(t){return Ci(()=>{const i=lc(t);return $s(i),i})}function Ka(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qr(t){return t[Rs]||null}function oo(t){return t[Js]||null}function xo(t){return t[ur]||null}function la(t){const i=Qr(t)||oo(t)||xo(t);return null!==i&&i.standalone}function Mo(t,i){const s=t[ro]||null;if(!s&&!0===i)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return s}function lc(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||_a,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ds,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vc(t.inputs,i),outputs:Vc(t.outputs),debugInfo:null}}function $s(t){var i;null===(i=t.features)||void 0===i||i.forEach(s=>s(t))}function Cr(t,i){if(!t)return null;const s=i?xo:$d;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(ed)}function Ya(...t){return{\u0275providers:Pl(0,t),\u0275fromNgModule:!0}}function Pl(t,...i){const s=[],a=new Set;let u;const h=y=>{s.push(y)};return Us(i,y=>{const E=y;Lo(E,h,[],a)&&(u||(u=[]),u.push(E))}),void 0!==u&&Wl(u,h),s}function Wl(t,i){for(let s=0;s<t.length;s++){const{ngModule:a,providers:u}=t[s];zc(u,h=>{i(h,a)})}}function Lo(t,i,s,a){if(!(t=Ne(t)))return!1;let u=null,h=on(t);const y=!h&&Qr(t);if(h||y){if(y&&!y.standalone)return!1;u=t}else{const D=t.ngModule;if(h=on(D),!h)return!1;u=D}const E=a.has(u);if(y){if(E)return!1;if(a.add(u),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const Z of D)Lo(Z,i,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!E){let Z;a.add(u);try{Us(h.imports,ae=>{Lo(ae,i,s,a)&&(Z||(Z=[]),Z.push(ae))})}finally{}void 0!==Z&&Wl(Z,i)}if(!E){const Z=is(u)||(()=>new u);i({provide:u,useFactory:Z,deps:ds},u),i({provide:rl,useValue:u,multi:!0},u),i({provide:wo,useValue:()=>te(u),multi:!0},u)}const D=h.providers;if(null!=D&&!E){const Z=t;zc(D,ae=>{i(ae,Z)})}}}return u!==t&&void 0!==t.providers}function zc(t,i){for(let s of t)vs(s)&&(s=s.\u0275providers),Array.isArray(s)?zc(s,i):i(s)}const du=hr({provide:String,useValue:hr});function cc(t){return null!==t&&"object"==typeof t&&du in t}function Ra(t){return"function"==typeof t}const Os=new ee(""),Za={},dc={};let al;function eo(){return void 0===al&&(al=new sl),al}class co{}class ba extends co{get destroyed(){return this._destroyed}constructor(i,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ol(i,y=>this.processProvider(y)),this.records.set(Da,ll(void 0,this)),u.has("environment")&&this.records.set(co,ll(void 0,this));const h=this.records.get(Os);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(rl,ds,Rr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=Be(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Be(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=or(this),a=br(void 0);try{return i()}finally{or(s),br(a)}}get(i,s=Mr,a=Rr.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(es))return i[es](this);a=mt(a);const h=or(this),y=br(void 0);try{if(!(a&Rr.SkipSelf)){let D=this.records.get(i);if(void 0===D){const Z=function ql(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(i)&&Wt(i);D=Z&&this.injectableDefInScope(Z)?ll(Xl(i),Za):null,this.records.set(i,D)}if(null!=D)return this.hydrate(i,D)}return(a&Rr.Self?eo():this.parent).get(i,s=a&Rr.Optional&&s===Mr?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[bo]=E[bo]||[]).unshift(rt(i)),h)throw E;return function Hn(t,i,s,a){const u=t[bo];throw i[j]&&u.unshift(i[j]),t.message=function $n(t,i,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=rt(i);if(Array.isArray(i))u=i.map(rt).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let E=i[y];h.push(y+":"+("string"==typeof E?JSON.stringify(E):rt(E)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(ce,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[bo]=null,t}(E,i,"R3InjectorError",this.source)}throw E}finally{br(y),or(h)}}resolveInjectorInitializers(){const i=Be(null),s=or(this),a=br(void 0);try{const h=this.get(wo,ds,Rr.Self);for(const y of h)y()}finally{or(s),br(a),Be(i)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(rt(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(i){let s=Ra(i=Ne(i))?i:Ne(i&&i.provide);const a=function zo(t){return cc(t)?ll(void 0,t.useValue):ll(js(t),Za)}(i);if(!Ra(i)&&!0===i.multi){let u=this.records.get(s);u||(u=ll(void 0,Za,!0),u.factory=()=>xt(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,a)}hydrate(i,s){const a=Be(null);try{return s.value===Za&&(s.value=dc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function fc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{Be(a)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ne(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Xl(t){const i=Wt(t),s=null!==i?i.factory:is(t);if(null!==s)return s;if(t instanceof ee)throw new Ot(204,!1);if(t instanceof Function)return function td(t){if(t.length>0)throw new Ot(204,!1);const s=function Vt(t){return t&&(t[gi]||t[se])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ot(204,!1)}function js(t,i,s){let a;if(Ra(t)){const u=Ne(t);return is(u)||Xl(u)}if(cc(t))a=()=>Ne(t.useValue);else if(function xl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...xt(t.deps||[]));else if(function uc(t){return!(!t||!t.useExisting)}(t))a=()=>te(Ne(t.useExisting));else{const u=Ne(t&&(t.useClass||t.provide));if(!function Co(t){return!!t.deps}(t))return is(u)||Xl(u);a=()=>new u(...xt(t.deps))}return a}function ll(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function Ol(t,i){for(const s of t)Array.isArray(s)?Ol(s,i):s&&vs(s)?Ol(s.\u0275providers,i):i(s)}function Fa(t,i){t instanceof ba&&t.assertNotDestroyed();const a=or(t),u=br(void 0);try{return i()}finally{or(a),br(u)}}function Ao(){return void 0!==ja()||null!=function Tt(){return ze}()}const fs=0,ri=1,tr=2,_s=3,no=4,Jr=5,io=6,Ho=7,Bs=8,Yr=9,pa=10,Nr=11,Qa=12,El=13,dr=14,Ks=15,vo=16,Hc=17,Ce=18,ma=19,Kl=20,$o=21,Nl=22,Jo=23,Dr=25,Xe=1,M=7,F=9,Q=10;var oe=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(oe||{});function ge(t){return Array.isArray(t)&&"object"==typeof t[Xe]}function $e(t){return Array.isArray(t)&&!0===t[Xe]}function et(t){return!!(4&t.flags)}function ot(t){return t.componentOffset>-1}function Yt(t){return!(1&~t.flags)}function mn(t){return!!t.template}function En(t){return!!(512&t[tr])}class be{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ke(t,i,s,a){null!==i?i.applyValueToInputSignal(i,a):t[s]=a}function Bt(){return Ln}function Ln(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ni),Gt}function Gt(){const t=Eo(this),i=null==t?void 0:t.current;if(i){const s=t.previous;if(s===_a)t.previous=i;else for(let a in i)s[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Ni(t,i,s,a,u){const h=this.declaredInputs[a],y=Eo(t)||function Zs(t,i){return t[Fi]=i}(t,{previous:_a,current:null}),E=y.current||(y.current={}),D=y.previous,Z=D[h];E[h]=new be(Z&&Z.currentValue,s,D===_a),ke(t,i,u,s)}Bt.ngInherit=!0;const Fi="__ngSimpleChanges__";function Eo(t){return t[Fi]||null}const wa=function(t,i,s){};let pu=!1;function Ps(t){for(;Array.isArray(t);)t=t[fs];return t}function yo(t,i){return Ps(i[t.index])}function Wo(t,i){return t.data[i]}function Ja(t,i){const s=i[t];return ge(s)?s:s[fs]}function id(t){return!(128&~t[tr])}function ka(t,i){return null==i?null:t[i]}function gu(t){t[Hc]=0}function rd(t){1024&t[tr]||(t[tr]|=1024,id(t)&&Gc(t))}function sd(t){var i;return!!(9216&t[tr]||null!==(i=t[Jo])&&void 0!==i&&i.dirty)}function od(t){var i;if(null===(i=t[pa].changeDetectionScheduler)||void 0===i||i.notify(1),sd(t))Gc(t);else if(64&t[tr])if(function fr(){return pu}())t[tr]|=1024,Gc(t);else{var s;null===(s=t[pa].changeDetectionScheduler)||void 0===s||s.notify()}}function Gc(t){var i;null===(i=t[pa].changeDetectionScheduler)||void 0===i||i.notify();let s=jc(t);for(;null!==s&&!(8192&s[tr])&&(s[tr]|=8192,id(s));)s=jc(s)}function vu(t,i){if(!(256&~t[tr]))throw new Ot(911,!1);null===t[$o]&&(t[$o]=[]),t[$o].push(i)}function jc(t){const i=t[_s];return $e(i)?i[_s]:i}const Wr={lFrame:Kg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yu(){return Wr.bindingsEnabled}function Ll(){return null!==Wr.skipHydrationRootTNode}function Xn(){return Wr.lFrame.lView}function ns(){return Wr.lFrame.tView}function oh(t){return Wr.lFrame.contextLView=t,t[Bs]}function pc(t){return Wr.lFrame.contextLView=null,t}function uo(){let t=Lp();for(;null!==t&&64===t.type;)t=t.parent;return t}function Lp(){return Wr.lFrame.currentTNode}function Ba(t,i){const s=Wr.lFrame;s.currentTNode=t,s.isParent=i}function Wc(){return Wr.lFrame.isParent}function Fp(){Wr.lFrame.isParent=!1}function xa(){return Wr.lFrame.bindingIndex++}function Jy(t,i){const s=Wr.lFrame;s.bindingIndex=s.bindingRootIndex=t,Up(i)}function Up(t){Wr.lFrame.currentDirectiveIndex=t}function Vp(){return Wr.lFrame.currentQueryIndex}function uh(t){Wr.lFrame.currentQueryIndex=t}function e_(t){const i=t[ri];return 2===i.type?i.declTNode:1===i.type?t[Jr]:null}function Xg(t,i,s){if(s&Rr.SkipSelf){let u=i,h=t;for(;!(u=u.parent,null!==u||s&Rr.Host||(u=e_(h),null===u||(h=h[dr],10&u.type))););if(null===u)return!1;i=u,t=h}const a=Wr.lFrame=qg();return a.currentTNode=i,a.lView=t,!0}function zp(t){const i=qg(),s=t[ri];Wr.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function qg(){const t=Wr.lFrame,i=null===t?null:t.child;return null===i?Kg(t):i}function Kg(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Yg(){const t=Wr.lFrame;return Wr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zg=Yg;function Hp(){const t=Yg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pa(){return Wr.lFrame.selectedIndex}function _u(t){Wr.lFrame.selectedIndex=t}function So(){const t=Wr.lFrame;return Wo(t.tView,t.selectedIndex)}let Jg=!0;function qd(){return Jg}function Zl(t){Jg=t}function dh(t,i){for(let Z=i.directiveStart,ae=i.directiveEnd;Z<ae;Z++){const st=t.data[Z].type.prototype,{ngAfterContentInit:Mt,ngAfterContentChecked:ln,ngAfterViewInit:Nn,ngAfterViewChecked:ii,ngOnDestroy:ui}=st;var s,a,u,h,y,E,D;Mt&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-Z,Mt),ln&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(Z,ln),(null!==(u=t.contentCheckHooks)&&void 0!==u?u:t.contentCheckHooks=[]).push(Z,ln)),Nn&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-Z,Nn),ii&&((null!==(y=t.viewHooks)&&void 0!==y?y:t.viewHooks=[]).push(Z,ii),(null!==(E=t.viewCheckHooks)&&void 0!==E?E:t.viewCheckHooks=[]).push(Z,ii)),null!=ui&&(null!==(D=t.destroyHooks)&&void 0!==D?D:t.destroyHooks=[]).push(Z,ui)}}function fh(t,i,s){ev(t,i,3,s)}function hh(t,i,s,a){(3&t[tr])===s&&ev(t,i,s,a)}function $p(t,i){let s=t[tr];(3&s)===i&&(s&=16383,s+=1,t[tr]=s)}function ev(t,i,s,a){const h=null!=a?a:-1,y=i.length-1;let E=0;for(let D=void 0!==a?65535&t[Hc]:0;D<y;D++)if("number"==typeof i[D+1]){if(E=i[D],null!=a&&E>=a)break}else i[D]<0&&(t[Hc]+=65536),(E<h||-1==h)&&(a_(t,s,i,D),t[Hc]=(4294901760&t[Hc])+D+2),D++}function tv(t,i){wa(4,t,i);const s=Be(null);try{i.call(t)}finally{Be(s),wa(5,t,i)}}function a_(t,i,s,a){const u=s[a]<0,h=s[a+1],E=t[u?-s[a]:s[a]];u?t[tr]>>14<t[Hc]>>16&&(3&t[tr])===i&&(t[tr]+=16384,tv(E,h)):tv(E,h)}const ad=-1;class Kd{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function jp(t){return t!==ad}function Yd(t){return 32767&t}function Zd(t,i){let s=function f_(t){return t>>16}(t),a=i;for(;s>0;)a=a[dr],s--;return a}let Wp=!0;function ph(t){const i=Wp;return Wp=t,i}const nv=255,iv=5;let h_=0;const Ql={};function mh(t,i){const s=rv(t,i);if(-1!==s)return s;const a=i[ri];a.firstCreatePass&&(t.injectorIndex=i.length,Xp(a.data,t),Xp(i,null),Xp(a.blueprint,null));const u=gh(t,i),h=t.injectorIndex;if(jp(u)){const y=Yd(u),E=Zd(u,i),D=E[ri].data;for(let Z=0;Z<8;Z++)i[h+Z]=E[y+Z]|D[y+Z]}return i[h+8]=u,h}function Xp(t,i){t.push(0,0,0,0,0,0,0,0,i)}function rv(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function gh(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){if(a=fv(u),null===a)return ad;if(s++,u=u[dr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ad}function qp(t,i,s){!function p_(t,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Kr)&&(a=s[Kr]),null==a&&(a=s[Kr]=h_++);const u=a&nv;i.data[t+(u>>iv)]|=1<<u}(t,i,s)}function sv(t,i,s){if(s&Rr.Optional||void 0!==t)return t;ya()}function ov(t,i,s,a){if(s&Rr.Optional&&void 0===a&&(a=null),!(s&(Rr.Self|Rr.Host))){const u=t[Yr],h=br(void 0);try{return u?u.get(i,a,s&Rr.Optional):fa(i,a,s&Rr.Optional)}finally{br(h)}}return sv(a,0,s)}function av(t,i,s,a=Rr.Default,u){if(null!==t){if(2048&i[tr]&&!(a&Rr.Self)){const y=function __(t,i,s,a,u){let h=t,y=i;for(;null!==h&&null!==y&&2048&y[tr]&&!(512&y[tr]);){const E=lv(h,y,s,a|Rr.Self,Ql);if(E!==Ql)return E;let D=h.parent;if(!D){const Z=y[Kl];if(Z){const ae=Z.get(s,Ql,a);if(ae!==Ql)return ae}D=fv(y),y=y[dr]}h=D}return u}(t,i,s,a,Ql);if(y!==Ql)return y}const h=lv(t,i,s,a,Ql);if(h!==Ql)return h}return ov(i,s,a,u)}function lv(t,i,s,a,u){const h=function v_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Kr)?t[Kr]:void 0;return"number"==typeof i?i>=0?i&nv:y_:i}(s);if("function"==typeof h){if(!Xg(i,t,a))return a&Rr.Host?sv(u,0,a):ov(i,s,a,u);try{let y;if(y=h(a),null!=y||a&Rr.Optional)return y;ya()}finally{Zg()}}else if("number"==typeof h){let y=null,E=rv(t,i),D=ad,Z=a&Rr.Host?i[Ks][Jr]:null;for((-1===E||a&Rr.SkipSelf)&&(D=-1===E?gh(t,i):i[E+8],D!==ad&&uv(a,!1)?(y=i[ri],E=Yd(D),i=Zd(D,i)):E=-1);-1!==E;){const ae=i[ri];if(cv(h,E,ae.data)){const Se=g_(E,i,s,y,a,Z);if(Se!==Ql)return Se}D=i[E+8],D!==ad&&uv(a,i[ri].data[E+8]===Z)&&cv(h,E,i)?(y=ae,E=Yd(D),i=Zd(D,i)):E=-1}}return u}function g_(t,i,s,a,u,h){const y=i[ri],E=y.data[t+8],ae=vh(E,y,s,null==a?ot(E)&&Wp:a!=y&&!!(3&E.type),u&Rr.Host&&h===E);return null!==ae?bu(i,y,ae,E):Ql}function vh(t,i,s,a,u){const h=t.providerIndexes,y=i.data,E=1048575&h,D=t.directiveStart,ae=h>>20,st=u?E+ae:t.directiveEnd;for(let Mt=a?E:E+ae;Mt<st;Mt++){const ln=y[Mt];if(Mt<D&&s===ln||Mt>=D&&ln.type===s)return Mt}if(u){const Mt=y[D];if(Mt&&mn(Mt)&&Mt.type===s)return D}return null}function bu(t,i,s,a){let u=t[s];const h=i.data;if(function l_(t){return t instanceof Kd}(u)){const y=u;y.resolving&&function na(t,i){throw i&&i.join(" > "),new Ot(-200,t)}(function kr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ji(t)}(h[s]));const E=ph(y.canSeeViewProviders);y.resolving=!0;const Z=y.injectImpl?br(y.injectImpl):null;Xg(t,a,Rr.Default);try{u=t[s]=y.factory(void 0,h,t,a),i.firstCreatePass&&s>=a.directiveStart&&function o_(t,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){var y,E;const Se=Ln(i);(null!==(y=s.preOrderHooks)&&void 0!==y?y:s.preOrderHooks=[]).push(t,Se),(null!==(E=s.preOrderCheckHooks)&&void 0!==E?E:s.preOrderCheckHooks=[]).push(t,Se)}var D,Z,ae;u&&(null!==(D=s.preOrderHooks)&&void 0!==D?D:s.preOrderHooks=[]).push(0-t,u),h&&((null!==(Z=s.preOrderHooks)&&void 0!==Z?Z:s.preOrderHooks=[]).push(t,h),(null!==(ae=s.preOrderCheckHooks)&&void 0!==ae?ae:s.preOrderCheckHooks=[]).push(t,h))}(s,h[s],i)}finally{null!==Z&&br(Z),ph(E),y.resolving=!1,Zg()}}return u}function cv(t,i,s){return!!(s[i+(t>>iv)]&1<<t)}function uv(t,i){return!(t&Rr.Self||t&Rr.Host&&i)}class ua{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return av(this._tNode,this._lView,i,mt(a),s)}}function y_(){return new ua(uo(),Xn())}function dv(t){return Ci(()=>{const i=t.prototype.constructor,s=i[so]||Kp(i),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const h=u[so]||Kp(u);if(h&&h!==s)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function Kp(t){return Oe(t)?()=>{const i=Kp(Ne(t));return i&&i()}:is(t)}function fv(t){const i=t[ri],s=i.type;return 2===s?i.declTNode:1===s?t[Jr]:null}function yh(t){return function m_(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(Uc(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===i)return s[u+1];u+=2}}}return null}(uo(),t)}function vv(t,i=null,s=null,a){const u=yv(t,i,s,a);return u.resolveInjectorInitializers(),u}function yv(t,i=null,s=null,a,u=new Set){const h=[s||ds,Ya(t)];return a=a||("object"==typeof t?void 0:rt(t)),new ba(h,i||eo(),a||null,u)}let cl=(()=>{var t;class i{static create(a,u){if(Array.isArray(a))return vv({name:""},u,a,"");{var h;const y=null!==(h=a.name)&&void 0!==h?h:"";return vv({name:y},a.parent,a.providers,y)}}}return(t=i).THROW_IF_NOT_FOUND=Mr,t.NULL=new sl,t.\u0275prov=Qt({token:t,providedIn:"any",factory:()=>te(Da)}),t.__NG_ELEMENT_ID__=-1,i})();function Zp(t){return t.ngOriginalError}class vc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Zp(i);for(;s&&Zp(s);)s=Zp(s);return s||null}}const bv=new ee("",{providedIn:"root",factory:()=>Ke(vc).handleError.bind(void 0)});let ud=(()=>{var t;class i{}return(t=i).__NG_ELEMENT_ID__=T_,t.__NG_ENV_ID__=s=>s,i})();class A_ extends ud{constructor(i){super(),this._lView=i}onDestroy(i){return vu(this._lView,i),()=>function rh(t,i){if(null===t[$o])return;const s=t[$o].indexOf(i);-1!==s&&t[$o].splice(s,1)}(this._lView,i)}}function T_(){return new A_(Xn())}function jx(){return Qd(uo(),Xn())}function Qd(t,i){return new bh(yo(t,i))}let bh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=jx,i})();function D_(t){return t instanceof bh?t.nativeElement:t}function xv(t){return i=>{setTimeout(t,void 0,i)}}const yc=class Wx extends ar.B{constructor(i=!1){var s;super(),this.destroyRef=void 0,this.__isAsync=i,Ao()&&(this.destroyRef=null!==(s=Ke(ud,{optional:!0}))&&void 0!==s?s:void 0)}emit(i){const s=Be(null);try{super.next(i)}finally{Be(s)}}subscribe(i,s,a){let u=i,h=s||(()=>null),y=a;if(i&&"object"==typeof i){var E,D,Z;const Se=i;u=null===(E=Se.next)||void 0===E?void 0:E.bind(Se),h=null===(D=Se.error)||void 0===D?void 0:D.bind(Se),y=null===(Z=Se.complete)||void 0===Z?void 0:Z.bind(Se)}this.__isAsync&&(h=xv(h),u&&(u=xv(u)),y&&(y=xv(y)));const ae=super.subscribe({next:u,error:h,complete:y});return i instanceof pr.yU&&i.add(ae),ae}};function Xx(){return this._results[Symbol.iterator]()}class Ev{get changes(){var i;return null!==(i=this._changes)&&void 0!==i?i:this._changes=new yc}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=Ev.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Xx)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const a=function Zr(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function lo(t,i,s){if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],h=i[a];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(this._results,a,s))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){var i;this.dirty=!0,null===(i=this._onDirty)||void 0===i||i.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Qp(t){return!(128&~t.flags)}const Sv=new Map;let Kx=0;const Cv="__ngContext__";function za(t,i){ge(i)?(t[Cv]=i[ma],function Zx(t){Sv.set(t[ma],t)}(i)):t[Cv]=i}function Av(t){return Dv(t[Qa])}function Tv(t){return Dv(t[no])}function Dv(t){for(;null!==t&&!$e(t);)t=t[no];return t}let rm;function Nv(t){rm=t}const Ch=new ee("",{providedIn:"root",factory:()=>V_}),V_="ng",Lv=new ee(""),sm=new ee("",{providedIn:"platform",factory:()=>"unknown"}),z_=new ee("",{providedIn:"root",factory:()=>{var t;return(null===(t=function _c(){if(void 0!==rm)return rm;if(typeof document<"u")return document;throw new Ot(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let Uv=()=>null;function am(t,i,s=!1){return Uv(t,i,s)}const $v=new ee("",{providedIn:"root",factory:()=>!1});let Oh;function Xv(t){var i;return(null===(i=function fm(){if(void 0===Oh&&(Oh=null,zi.trustedTypes))try{Oh=zi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Oh}())||void 0===i?void 0:i.createScriptURL(t))||t}class qv{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${di})`}}function bc(t){return t instanceof qv?t.changingThisBreaksApplicationSecurity:t}function cf(t,i){const s=function ib(t){return t instanceof qv&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${di})`)}return s===i}const Zv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var hd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hd||{});function vm(t){const i=Ml();return i?i.sanitize(hd.URL,t)||"":cf(t,"URL")?bc(t):function Lh(t){return(t=String(t)).match(Zv)?t:"unsafe:"+t}(Ji(t))}function ym(t){const i=Ml();if(i)return Xv(i.sanitize(hd.RESOURCE_URL,t)||"");if(cf(t,"ResourceURL"))return Xv(bc(t));throw new Ot(904,!1)}function c0(t,i,s){return function bb(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?ym:vm}(i,s)(t)}function Ml(){const t=Xn();return t&&t[pa].sanitizer}const wb=/^>|^->|<!--|-->|--!>|<!-$/g,_m=/(<|>)/g,xb="\u200b$1\u200b";function Ha(t){return t instanceof Function?t():t}var Vh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vh||{});let zh;function gd(t,i){return zh(t,i)}function Iu(t,i,s,a,u){if(null!=a){let h,y=!1;$e(a)?h=a:ge(a)&&(y=!0,a=a[fs]);const E=Ps(a);0===t&&null!==s?null==u?Ou(i,s,E):Pu(i,s,E,u||null,!0):1===t&&null!==s?Pu(i,s,E,u||null,!0):2===t?function Zc(t,i,s){const a=bf(t,i);a&&function y0(t,i,s,a){t.removeChild(i,s,a)}(t,a,i,s)}(i,E,y):3===t&&i.destroyNode(E),null!=h&&function b0(t,i,s,a,u){const h=s[M];h!==Ps(s)&&Iu(i,t,a,h,u);for(let E=Q;E<s.length;E++){const D=s[E];Qc(D[ri],D,t,i,a,h)}}(i,t,h,s,u)}}function gf(t,i){return t.createComment(function u0(t){return t.replace(wb,i=>i.replace(_m,xb))}(i))}function ec(t,i,s){return t.createElement(i,s)}function vf(t,i){var s;null===(s=i[pa].changeDetectionScheduler)||void 0===s||s.notify(1),Qc(t,i,i[Nr],2,null,null)}function yf(t,i){const s=t[F],a=s.indexOf(i);s.splice(a,1)}function _d(t,i){if(t.length<=Q)return;const s=Q+i,a=t[s];if(a){const u=a[vo];null!==u&&u!==t&&yf(u,a),i>0&&(t[s-1][no]=a[no]);const h=ho(t,Q+i);!function p0(t,i){vf(t,i),i[fs]=null,i[Jr]=null}(a[ri],a);const y=h[Ce];null!==y&&y.detachView(h[ri]),a[_s]=null,a[no]=null,a[tr]&=-129}return a}function Hh(t,i){if(!(256&i[tr])){const s=i[Nr];s.destroyNode&&Qc(t,i,s,3,null,null),function vd(t){let i=t[Qa];if(!i)return Ru(t[ri],t);for(;i;){let s=null;if(ge(i))s=i[Qa];else{const a=i[Q];a&&(s=a)}if(!s){for(;i&&!i[no]&&i!==t;)ge(i)&&Ru(i[ri],i),i=i[_s];null===i&&(i=t),ge(i)&&Ru(i[ri],i),s=i&&i[no]}i=s}}(i)}}function Ru(t,i){if(256&i[tr])return;const s=Be(null);try{i[tr]&=-129,i[tr]|=256,i[Jo]&&function Xt(t){if(an(t),tn(t))for(let i=0;i<t.producerNode.length;i++)Ut(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[Jo]),function g0(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof Kd)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const E=u[h[y]],D=h[y+1];wa(4,E,D);try{D.call(E)}finally{wa(5,E,D)}}else{wa(4,u,h);try{h.call(u)}finally{wa(5,u,h)}}}}}(t,i),function _f(t,i){const s=t.cleanup,a=i[Ho];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+3];y>=0?a[y]():a[-y].unsubscribe(),h+=2}else s[h].call(a[s[h+1]]);null!==a&&(i[Ho]=null);const u=i[$o];if(null!==u){i[$o]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(t,i),1===i[ri].type&&i[Nr].destroy();const a=i[vo];if(null!==a&&$e(i[_s])){a!==i[_s]&&yf(a,i);const u=i[Ce];null!==u&&u.detachView(t)}!function Qx(t){Sv.delete(t[ma])}(i)}finally{Be(s)}}function Tm(t,i,s){return function v0(t,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[fs];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=t.data[a.directiveStart+u];if(h===Wa.None||h===Wa.Emulated)return null}return yo(a,s)}}(t,i.parent,s)}function Pu(t,i,s,a,u){t.insertBefore(i,s,a,u)}function Ou(t,i,s){t.appendChild(i,s)}function Sc(t,i,s,a,u){null!==a?Pu(t,i,s,a,u):Ou(t,i,s)}function bf(t,i){return t.parentNode(i)}function wf(t,i,s){return bd(t,i,s)}let xf,bd=function Yc(t,i,s){return 40&t.type?yo(t,s):null};function Nu(t,i,s,a){const u=Tm(t,a,i),h=i[Nr],E=wf(a.parent||i[Jr],a,i);if(null!=u)if(Array.isArray(s))for(let D=0;D<s.length;D++)Sc(h,u,s[D],E,!1);else Sc(h,u,s,E,!1);void 0!==xf&&xf(h,a,i,s,u)}function Ef(t,i){if(null!==i){const s=i.type;if(3&s)return yo(i,t);if(4&s)return Sa(-1,t[i.index]);if(8&s){const a=i.child;if(null!==a)return Ef(t,a);{const u=t[i.index];return $e(u)?Sa(-1,u):Ps(u)}}if(32&s)return gd(i,t)()||Ps(t[i.index]);{const a=_0(t,i);return null!==a?Array.isArray(a)?a[0]:Ef(jc(t[Ks]),a):Ef(t,i.next)}}return null}function _0(t,i){return null!==i?t[Ks][Jr].projection[i.projection]:null}function Sa(t,i){const s=Q+t+1;if(s<i.length){const a=i[s],u=a[ri].firstChild;if(null!==u)return Ef(a,u)}return i[M]}function $h(t,i,s,a,u,h,y){for(;null!=s;){const E=a[s.index],D=s.type;if(y&&0===i&&(E&&za(Ps(E),a),s.flags|=2),32&~s.flags)if(8&D)$h(t,i,s.child,a,u,h,!1),Iu(i,t,u,E,h);else if(32&D){const Z=gd(s,a);let ae;for(;ae=Z();)Iu(i,t,u,ae,h);Iu(i,t,u,E,h)}else 16&D?jh(t,i,a,s,u,h):Iu(i,t,u,E,h);s=y?s.projectionNext:s.next}}function Qc(t,i,s,a,u,h){$h(s,a,t.firstChild,i,u,h,!1)}function jh(t,i,s,a,u,h){const y=s[Ks],D=y[Jr].projection[a.projection];if(Array.isArray(D))for(let Z=0;Z<D.length;Z++)Iu(i,t,u,D[Z],h);else{let Z=D;const ae=y[_s];Qp(a)&&(Z.flags|=128),$h(t,i,Z,ae,u,h,!0)}}function Im(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function Rm(t,i,s){const{mergedAttrs:a,classes:u,styles:h}=s;null!==a&&Gl(t,i,a),null!==u&&Im(t,i,u),null!==h&&function Wh(t,i,s){t.setAttribute(i,"style",s)}(t,i,h)}const zr={};function Pm(t=1){Xh(ns(),Xn(),Pa()+t,!1)}function Xh(t,i,s,a){if(!a)if(3&~i[tr]){const h=t.preOrderHooks;null!==h&&hh(i,h,0,s)}else{const h=t.preOrderCheckHooks;null!==h&&fh(i,h,s)}_u(s)}function Lu(t,i=Rr.Default){const s=Xn();return null===s?te(t,i):av(uo(),s,Ne(t),i)}function qh(){throw new Error("invalid")}function Mf(t,i,s,a,u,h){const y=Be(null);try{let E=null;u&ia.SignalBased&&(E=i[a][Nt]),null!==E&&void 0!==E.transformFn&&(h=E.transformFn(h)),u&ia.HasDecoratorInputTransform&&(h=t.inputTransforms[a].call(i,h)),null!==t.setInput?t.setInput(i,E,h,s,a):ke(i,E,a,h)}finally{Be(y)}}function Cf(t,i,s,a,u,h,y,E,D,Z,ae){const Se=i.blueprint.slice();return Se[fs]=u,Se[tr]=204|a,(null!==Z||t&&2048&t[tr])&&(Se[tr]|=2048),gu(Se),Se[_s]=Se[dr]=t,Se[Bs]=s,Se[pa]=y||t&&t[pa],Se[Nr]=E||t&&t[Nr],Se[Yr]=D||t&&t[Yr]||null,Se[Jr]=h,Se[ma]=function Yx(){return Kx++}(),Se[io]=ae,Se[Kl]=Z,Se[Ks]=2==i.type?t[Ks]:Se,Se}function Fu(t,i,s,a,u){let h=t.data[i];if(null===h)h=function w0(t,i,s,a,u){const h=Lp(),y=Wc(),D=t.data[i]=function M0(t,i,s,a,u,h){let y=i?i.injectorIndex:-1,E=0;return Ll()&&(E|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,i,a,u);return null===t.firstChild&&(t.firstChild=D),null!==h&&(y?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D,D.prev=h)),D}(t,i,s,a,u),function ch(){return Wr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const y=function Xo(){const t=Wr.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Ba(h,!0),h}function Yh(t,i,s,a){if(0===s)return-1;const u=i.length;for(let h=0;h<s;h++)i.push(a),t.blueprint.push(a),t.data.push(null);return u}function Zh(t,i,s,a,u){const h=Pa(),y=2&a;try{_u(-1),y&&i.length>Dr&&Xh(t,i,Dr,!1),wa(y?2:0,u),s(a,u)}finally{_u(h),wa(y?3:1,u)}}function x0(t,i,s){if(et(i)){const a=Be(null);try{const h=i.directiveEnd;for(let y=i.directiveStart;y<h;y++){const E=t.data[y];E.contentQueries&&E.contentQueries(1,s[y],y)}}finally{Be(a)}}}function E0(t,i,s){yu()&&(function Ub(t,i,s,a){const u=s.directiveStart,h=s.directiveEnd;ot(s)&&function Bm(t,i,s){const a=yo(i,t),u=kl(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const E=xd(t,Cf(t,u,null,y,a,i,null,t[pa].rendererFactory.createRenderer(a,s),null,null,null));t[i.index]=E}(i,s,t.data[u+s.componentOffset]),t.firstCreatePass||mh(s,i),za(a,i);const y=s.initialInputs;for(let E=u;E<h;E++){const D=t.data[E],Z=bu(i,t,E,s);za(Z,i),null!==y&&Uu(0,E-u,Z,D,0,y),mn(D)&&(Ja(s.index,i)[Bs]=bu(i,t,E,s))}}(t,i,s,yo(s,i)),!(64&~s.flags)&&km(t,i,s))}function S0(t,i,s=yo){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],E=-1===y?s(i,t):t[y];t[u++]=E}}}function kl(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Af(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Af(t,i,s,a,u,h,y,E,D,Z,ae){const Se=Dr+a,st=Se+u,Mt=function Pb(t,i){const s=[];for(let a=0;a<i;a++)s.push(a<t?null:zr);return s}(Se,st),ln="function"==typeof Z?Z():Z;return Mt[ri]={type:t,blueprint:Mt,template:s,queries:null,viewQuery:E,declTNode:i,data:Mt.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:st,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ln,incompleteFirstPass:!1,ssrId:ae}}let Jh=()=>null;function C0(t,i,s,a,u){for(let y in i){var h;if(!i.hasOwnProperty(y))continue;const E=i[y];if(void 0===E)continue;null!==(h=a)&&void 0!==h||(a={});let D,Z=ia.None;Array.isArray(E)?(D=E[0],Z=E[1]):D=E;let ae=y;if(null!==u){if(!u.hasOwnProperty(y))continue;ae=u[y]}0===t?A0(a,s,ae,D,Z):A0(a,s,ae,D)}return a}function A0(t,i,s,a,u){let h;t.hasOwnProperty(s)?(h=t[s]).push(i,a):h=t[s]=[i,a],void 0!==u&&h.push(u)}function ku(t,i,s,a){if(yu()){const u=null===a?null:{"":-1},h=function I0(t,i){const s=t.directiveRegistry;let a=null,u=null;if(s)for(let y=0;y<s.length;y++){const E=s[y];if(Ye(i,E.selectors,!1))if(a||(a=[]),mn(E))if(null!==E.findHostDirectiveDefs){const D=[];u=u||new Map,E.findHostDirectiveDefs(E,D,u),a.unshift(...D,E),wd(t,i,D.length)}else a.unshift(E),wd(t,i,0);else{var h;u=u||new Map,null===(h=E.findHostDirectiveDefs)||void 0===h||h.call(E,E,a,u),a.push(E)}}return null===a?null:[a,u]}(t,s);let y,E;null===h?y=E=null:[y,E]=h,null!==y&&Fm(t,i,s,y,u,E),u&&function Bb(t,i,s){if(i){const a=t.localNames=[];for(let u=0;u<i.length;u+=2){const h=s[i[u+1]];if(null==h)throw new Ot(-301,!1);a.push(i[u],h)}}}(s,a,u)}s.mergedAttrs=ol(s.mergedAttrs,s.attrs)}function Fm(t,i,s,a,u,h){for(let Se=0;Se<a.length;Se++)qp(mh(s,i),t,a[Se].type);!function tp(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,a.length);for(let Se=0;Se<a.length;Se++){const st=a[Se];st.providersResolver&&st.providersResolver(st)}let y=!1,E=!1,D=Yh(t,i,a.length,null);for(let Se=0;Se<a.length;Se++){const st=a[Se];s.mergedAttrs=ol(s.mergedAttrs,st.hostAttrs),Um(t,s,i,D,st),ep(D,st,u),null!==st.contentQueries&&(s.flags|=4),(null!==st.hostBindings||null!==st.hostAttrs||0!==st.hostVars)&&(s.flags|=64);const Mt=st.type.prototype;var Z,ae;!y&&(Mt.ngOnChanges||Mt.ngOnInit||Mt.ngDoCheck)&&((null!==(Z=t.preOrderHooks)&&void 0!==Z?Z:t.preOrderHooks=[]).push(s.index),y=!0),E||!Mt.ngOnChanges&&!Mt.ngDoCheck||((null!==(ae=t.preOrderCheckHooks)&&void 0!==ae?ae:t.preOrderCheckHooks=[]).push(s.index),E=!0),D++}!function Nb(t,i,s){const u=i.directiveEnd,h=t.data,y=i.attrs,E=[];let D=null,Z=null;for(let ae=i.directiveStart;ae<u;ae++){const Se=h[ae],st=s?s.get(Se):null,ln=st?st.outputs:null;D=C0(0,Se.inputs,ae,D,st?st.inputs:null),Z=C0(1,Se.outputs,ae,Z,ln);const Nn=null===D||null===y||ra(i)?null:Vm(D,ae,y);E.push(Nn)}null!==D&&(D.hasOwnProperty("class")&&(i.flags|=8),D.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=E,i.inputs=D,i.outputs=Z}(t,s,h)}function km(t,i,s){const a=s.directiveStart,u=s.directiveEnd,h=s.index,y=function Xd(){return Wr.lFrame.currentDirectiveIndex}();try{_u(h);for(let E=a;E<u;E++){const D=t.data[E],Z=i[E];Up(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&D0(D,Z)}}finally{_u(-1),Up(y)}}function D0(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function wd(t,i,s){var a;i.componentOffset=s,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(i.index)}function ep(t,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=t;mn(i)&&(s[""]=t)}}function Um(t,i,s,a,u){t.data[a]=u;const h=u.factory||(u.factory=is(u.type)),y=new Kd(h,mn(u),Lu);t.blueprint[a]=y,s[a]=y,function kb(t,i,s,a,u){const h=u.hostBindings;if(h){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const E=~i.index;(function T0(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(y)!=E&&y.push(E),y.push(s,a,h)}}(t,i,a,Yh(t,s,u.hostVars,zr),u)}function nl(t,i,s,a,u,h){const y=yo(t,i);!function Df(t,i,s,a,u,h,y){if(null==h)t.removeAttribute(i,u,s);else{const E=null==y?Ji(h):y(h,a||"",u);t.setAttribute(i,u,E,s)}}(i[Nr],y,h,t.value,s,a,u)}function Uu(t,i,s,a,u,h){const y=h[i];if(null!==y)for(let E=0;E<y.length;)Mf(a,s,y[E++],y[E++],y[E++],y[E++])}function Vm(t,i,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const y=t[h];for(let E=0;E<y.length;E+=3)if(y[E]===i){a.push(h,y[E+1],y[E+2],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function If(t,i,s,a){return[t,!0,0,i,null,a,null,s,null,null]}function Rf(t,i){const s=t.contentQueries;if(null!==s){const a=Be(null);try{for(let u=0;u<s.length;u+=2){const y=s[u+1];if(-1!==y){const E=t.data[y];uh(s[u]),E.contentQueries(2,i[y],y)}}}finally{Be(a)}}}function xd(t,i){return t[Qa]?t[El][no]=i:t[Qa]=i,t[El]=i,i}function Ed(t,i,s){uh(0);const a=Be(null);try{i(t,s)}finally{Be(a)}}function Bu(t){return t[Ho]||(t[Ho]=[])}function R0(t){return t.cleanup||(t.cleanup=[])}function tc(t,i){const s=t[Yr],a=s?s.get(vc,null):null;a&&a.handleError(i)}function Vu(t,i,s,a,u){for(let h=0;h<s.length;){const y=s[h++],E=s[h++],D=s[h++];Mf(t.data[y],i[y],a,E,D,u)}}function Vb(t,i){const s=Ja(i,t),a=s[ri];!function zb(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(a,s);const u=s[fs];null!==u&&null===s[io]&&(s[io]=am(u,s[Yr])),Hm(a,s,s[Bs])}function Hm(t,i,s){zp(i);try{var a;const u=t.viewQuery;null!==u&&Ed(1,u,s);const h=t.template;null!==h&&Zh(t,i,h,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),null===(a=i[Ce])||void 0===a||a.finishViewCreation(t),t.staticContentQueries&&Rf(t,i),t.staticViewQueries&&Ed(2,t.viewQuery,s);const y=t.components;null!==y&&function Hb(t,i){for(let s=0;s<i.length;s++)Vb(t,i[s])}(i,y)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{i[tr]&=-5,Hp()}}function Sd(t,i){return!i||null===i.firstChild||Qp(t)}function Of(t,i,s,a=!0){const u=i[ri];if(function yd(t,i,s,a){const u=Q+a,h=s.length;a>0&&(s[u-1][no]=i),a<h-Q?(i[no]=s[u],ts(s,Q+a,i)):(s.push(i),i[no]=null),i[_s]=s;const y=i[vo];null!==y&&s!==y&&function m0(t,i){const s=t[F];i[Ks]!==i[_s][_s][Ks]&&(t[tr]|=oe.HasTransplantedViews),null===s?t[F]=[i]:s.push(i)}(y,i);const E=i[Ce];null!==E&&E.insertView(t),od(i),i[tr]|=128}(u,i,t,s),a){const y=Sa(s,t),E=i[Nr],D=bf(E,t[M]);null!==D&&function Rb(t,i,s,a,u,h){a[fs]=u,a[Jr]=i,Qc(t,a,s,1,u,h)}(u,t[Jr],E,i,D,y)}const h=i[io];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Nf(t,i,s,a,u=!1){for(;null!==s;){const h=i[s.index];null!==h&&a.push(Ps(h)),$e(h)&&np(h,a);const y=s.type;if(8&y)Nf(t,i,s.child,a);else if(32&y){const E=gd(s,i);let D;for(;D=E();)a.push(D)}else if(16&y){const E=_0(i,s);if(Array.isArray(E))a.push(...E);else{const D=jc(i[Ks]);Nf(D[ri],D,E,a,!0)}}s=u?s.projectionNext:s.next}return a}function np(t,i){for(let s=Q;s<t.length;s++){const a=t[s],u=a[ri].firstChild;null!==u&&Nf(a[ri],a,u,i)}t[M]!==t[fs]&&i.push(t[M])}let O0=[];const ip={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gc(t.lView)},consumerOnSignalRead(){this.lView[Jo]=this}},Gm=100;function zu(t,i=!0,s=0){const a=t[pa],u=a.rendererFactory;var y;null===(y=u.begin)||void 0===y||y.call(u);try{!function rp(t,i){Wm(t,i);let s=0;for(;sd(t);){if(s===Gm)throw new Ot(103,!1);s++,Wm(t,1)}}(t,s)}catch(Z){throw i&&tc(t,Z),Z}finally{var E,D;null===(E=u.end)||void 0===E||E.call(u),null===(D=a.inlineEffectRunner)||void 0===D||D.flush()}}function Lf(t,i,s,a){var u;const h=i[tr];if(!(256&~h))return;null===(u=i[pa].inlineEffectRunner)||void 0===u||u.flush(),zp(i);let E=null,D=null;(function Gb(t){return 2!==t.type})(t)&&(D=function Md(t){var i;return null!==(i=t[Jo])&&void 0!==i?i:function $b(t){var i;const s=null!==(i=O0.pop())&&void 0!==i?i:Object.create(ip);return s.lView=t,s}(t)}(i),E=function jt(t){return t&&(t.nextProducerIndex=0),Be(t)}(D));try{gu(i),function gc(t){return Wr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Zh(t,i,s,2,a);const Z=!(3&~h);if(Z){const st=t.preOrderCheckHooks;null!==st&&fh(i,st,null)}else{const st=t.preOrderHooks;null!==st&&hh(i,st,0,null),$p(i,0)}if(function N0(t){for(let i=Av(t);null!==i;i=Tv(i)){if(!(i[tr]&oe.HasTransplantedViews))continue;const s=i[F];for(let a=0;a<s.length;a++){rd(s[a])}}}(i),jm(i,0),null!==t.contentQueries&&Rf(t,i),Z){const st=t.contentCheckHooks;null!==st&&fh(i,st)}else{const st=t.contentHooks;null!==st&&hh(i,st,1),$p(i,1)}!function Kh(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)_u(~u);else{const h=u,y=s[++a],E=s[++a];Jy(y,h),E(2,i[h])}}}finally{_u(-1)}}(t,i);const ae=t.components;null!==ae&&nc(i,ae,0);const Se=t.viewQuery;if(null!==Se&&Ed(2,Se,a),Z){const st=t.viewCheckHooks;null!==st&&fh(i,st)}else{const st=t.viewHooks;null!==st&&hh(i,st,2),$p(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Nl]){for(const st of i[Nl])st();i[Nl]=null}i[tr]&=-73}catch(Z){throw Gc(i),Z}finally{null!==D&&(function vn(t,i){if(Be(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(tn(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Ut(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(D,E),function Fo(t){t.lView[Jo]!==t&&(t.lView=null,O0.push(t))}(D)),Hp()}}function jm(t,i){for(let s=Av(t);null!==s;s=Tv(s))for(let a=Q;a<s.length;a++)sp(s[a],i)}function Ff(t,i,s){sp(Ja(i,t),s)}function sp(t,i){id(t)&&Wm(t,i)}function Wm(t,i){const a=t[ri],u=t[tr],h=t[Jo];let y=!!(0===i&&16&u);if(y||(y=!!(64&u&&0===i)),y||(y=!!(1024&u)),y||(y=!(null==h||!h.dirty||!Kt(h))),h&&(h.dirty=!1),t[tr]&=-9217,y)Lf(a,t,a.template,t[Bs]);else if(8192&u){jm(t,1);const E=a.components;null!==E&&nc(t,E,1)}}function nc(t,i,s){for(let a=0;a<i.length;a++)Ff(t,i[a],s)}function Cd(t){var i;for(null===(i=t[pa].changeDetectionScheduler)||void 0===i||i.notify();t;){t[tr]|=64;const s=jc(t);if(En(t)&&!s)return t;t=s}return null}class Ad{get rootNodes(){const i=this._lView,s=i[ri];return Nf(s,i,s.firstChild,[])}constructor(i,s,a=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bs]}set context(i){this._lView[Bs]=i}get destroyed(){return!(256&~this._lView[tr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[_s];if($e(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(_d(i,a),ho(s,a))}this._attachedToViewContainer=!1}Hh(this._lView[ri],this._lView)}onDestroy(i){vu(this._lView,i)}markForCheck(){Cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[tr]&=-129}reattach(){od(this._lView),this._lView[tr]|=128}detectChanges(){this._lView[tr]|=1024,zu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vf(this._lView[ri],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=i,od(this._lView)}}let Hu=(()=>{class i{}return i.__NG_ELEMENT_ID__=Xm,i})();const jb=Hu,Wb=class extends jb{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var i;return(null===(i=this._declarationTContainer.tView)||void 0===i?void 0:i.ssrId)||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,a){const u=function Pf(t,i,s,a){const u=Be(null);try{var h,y,E;const D=i.tView,Se=Cf(t,D,s,4096&t[tr]?4096:16,null,i,null,null,null!==(h=null==a?void 0:a.injector)&&void 0!==h?h:null,null!==(y=null==a?void 0:a.embeddedViewInjector)&&void 0!==y?y:null,null!==(E=null==a?void 0:a.dehydratedView)&&void 0!==E?E:null);Se[vo]=t[i.index];const Mt=t[Ce];return null!==Mt&&(Se[Ce]=Mt.createEmbeddedView(D)),Hm(D,Se,s),Se}finally{Be(u)}}(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:a});return new Ad(u)}};function Xm(){return $u(uo(),Xn())}function $u(t,i){return 4&t.type?new Wb(i,t,Qd(t,i)):null}class Ul{}class nw{}class Bl{}class CE{resolveComponentFactory(i){throw function ME(t){const i=Error(`No component factory found for ${rt(t)}.`);return i.ngComponent=t,i}(i)}}let ig=(()=>{class i{}return i.NULL=new CE,i})();class H0{}let ju=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function $0(){const t=Xn(),s=Ja(uo().index,t);return(ge(s)?s:t)[Nr]}(),i})(),rg=(()=>{var t;class i{}return(t=i).\u0275prov=Qt({token:t,providedIn:"root",factory:()=>null}),i})();const lp={},cp=new Set;function rc(t){var i,s;cp.has(t)||(cp.add(t),null===(i=performance)||void 0===i||null===(s=i.mark)||void 0===s||s.call(i,"mark_feature_usage",{detail:{feature:t}}))}function sg(...t){}class qo{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function G0(){const t="function"==typeof zi.requestAnimationFrame;let i=zi[t?"requestAnimationFrame":"setTimeout"],s=zi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Rd(t){const i=()=>{!function ow(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dp(t),t.isCheckStableRunning=!0,Al(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,y,E)=>{if(function og(t){var i;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(i=t[0].data)||void 0===i?void 0:i.__ignore_ng_zone__)}(E))return s.invokeTask(u,h,y,E);try{return j0(t),s.invokeTask(u,h,y,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&i(),W0(t)}},onInvoke:(s,a,u,h,y,E,D)=>{try{return j0(t),s.invoke(u,h,y,E,D)}finally{t.shouldCoalesceRunChangeDetection&&i(),W0(t)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,dp(t),Al(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qo.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(qo.isInAngularZone())throw new Ot(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+u,i,sw,sg,sg);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const sw={};function Al(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function j0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function W0(t){t._nesting--,Al(t)}class X0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}var Xu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xu||{});const q0={destroy(){}};function ag(t,i){var s,a,u;!i&&function it(t){if(!Ao())throw new Ot(-203,!1)}();const h=null!==(s=null==i?void 0:i.injector)&&void 0!==s?s:Ke(cl);if(!function Cl(t){return"browser"===(null!=t?t:Ke(cl)).get(sm)}(h))return q0;rc("NgAfterNextRender");const y=h.get(iu),E=null!==(a=y.handler)&&void 0!==a?a:y.handler=new Y0,D=null!==(u=null==i?void 0:i.phase)&&void 0!==u?u:Xu.MixedReadWrite,Z=()=>{E.unregister(Se),ae()},ae=h.get(ud).onDestroy(Z),Se=Fa(h,()=>new lg(D,()=>{Z(),t()}));return E.register(Se),{destroy:Z}}class lg{constructor(i,s){var a;this.phase=i,this.callbackFn=s,this.zone=Ke(qo),this.errorHandler=Ke(vc,{optional:!0}),null===(a=Ke(Ul,{optional:!0}))||void 0===a||a.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){var i;null===(i=this.errorHandler)||void 0===i||i.handleError(s)}}}class Y0{constructor(){this.executingCallbacks=!1,this.buckets={[Xu.EarlyRead]:new Set,[Xu.Write]:new Set,[Xu.MixedReadWrite]:new Set,[Xu.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const s of i)s.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let iu=(()=>{var t;class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var a;this.executeInternalCallbacks(),null===(a=this.handler)||void 0===a||a.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=i).\u0275prov=Qt({token:t,providedIn:"root",factory:()=>new t}),i})();function qu(t){return!!Mo(t)}function ug(t,i,s){let a=s?t.styles:null,u=s?t.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const E=i[y];"number"==typeof E?h=E:1==h?u=g(u,E):2==h&&(a=g(a,E+": "+i[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}class Z0 extends ig{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Qr(i);return new zl(s,this.ngModule)}}function su(t){const i=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const a=t[s];void 0!==a&&i.push({propName:Array.isArray(a)?a[0]:a,templateName:s})}return i}class pp{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=mt(a);const u=this.injector.get(i,lp,a);return u!==lp||s===lp?u:this.parentInjector.get(i,s,a)}}class zl extends Bl{get inputs(){const i=this.componentDef,s=i.inputTransforms,a=su(i.inputs);if(null!==s)for(const u of a)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return a}get outputs(){return su(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Ia(t){return t.map(La).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,u){const h=Be(null);try{var E;let D=(u=u||this.ngModule)instanceof co?u:null===(E=u)||void 0===E?void 0:E.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const Z=D?new pp(i,D):i,ae=Z.get(H0,null);if(null===ae)throw new Ot(407,!1);const Se=Z.get(rg,null),ln={rendererFactory:ae,sanitizer:Se,inlineEffectRunner:null,afterRenderEventManager:Z.get(iu,null),changeDetectionScheduler:Z.get(Ul,null)},Nn=ae.createRenderer(null,this.componentDef),ii=this.componentDef.selectors[0][0]||"div",ui=a?function Om(t,i,s,a){const h=a.get($v,!1)||s===Wa.ShadowDom,y=t.selectRootElement(i,h);return function Qh(t){Jh(t)}(y),y}(Nn,a,this.componentDef.encapsulation,Z):ec(Nn,ii,function Q0(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ii));let qn=512;this.componentDef.signals?qn|=4096:this.componentDef.onPush||(qn|=16);let qr=null;null!==ui&&(qr=am(ui,Z,!0));const Ms=Af(0,null,null,1,0,null,null,null,null,null,null),Qs=Cf(null,Ms,null,qn,null,null,ln,Nn,Z,null,qr);let Ga,oc;zp(Qs);try{const Lc=this.componentDef;let nh,Lx=null;Lc.findHostDirectiveDefs?(nh=[],Lx=new Map,Lc.findHostDirectiveDefs(Lc,nh,Lx),nh.push(Lc)):nh=[Lc];const GI=function DE(t,i){const s=t[ri],a=Dr;return t[a]=i,Fu(s,a,2,"#host",null)}(Qs,ui),jI=function cw(t,i,s,a,u,h,y){const E=u[ri];!function dg(t,i,s,a){for(const u of t)i.mergedAttrs=ol(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(ug(i,i.mergedAttrs,!0),null!==s&&Rm(a,s,i))}(a,t,i,y);let D=null;null!==i&&(D=am(i,u[Yr]));const Z=h.rendererFactory.createRenderer(i,s);let ae=16;s.signals?ae=4096:s.onPush&&(ae=64);const Se=Cf(u,kl(s),null,ae,u[t.index],t,h,Z,null,null,D);return E.firstCreatePass&&wd(E,t,a.length-1),xd(u,Se),u[t.index]=Se}(GI,ui,Lc,nh,Qs,ln,Nn);oc=Wo(Ms,Dr),ui&&function fg(t,i,s,a){if(a)Gl(t,s,["ng-version","17.3.10"]);else{const{attrs:u,classes:h}=function _l(t){const i=[],s=[];let a=1,u=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===u?""!==h&&i.push(h,t[++a]):8===u&&s.push(h);else{if(!Re(u))break;u=h}a++}return{attrs:i,classes:s}}(i.selectors[0]);u&&Gl(t,s,u),h&&h.length>0&&Im(t,s,h.join(" "))}}(Nn,Lc,ui,a),void 0!==s&&function dw(t,i,s){const a=t.projection=[];for(let u=0;u<i.length;u++){const h=s[u];a.push(null!=h?Array.from(h):null)}}(oc,this.ngContentSelectors,s),Ga=function uw(t,i,s,a,u,h){const y=uo(),E=u[ri],D=yo(y,u);Fm(E,u,y,s,null,a);for(let ae=0;ae<s.length;ae++)za(bu(u,E,y.directiveStart+ae,y),u);km(E,u,y),D&&za(D,u);const Z=bu(u,E,y.directiveStart+y.componentOffset,y);if(t[Bs]=u[Bs]=Z,null!==h)for(const ae of h)ae(Z,i);return x0(E,y,u),Z}(jI,Lc,nh,Lx,Qs,[fw]),Hm(Ms,Qs,null)}finally{Hp()}return new TE(this.componentType,Ga,Qd(oc,Qs),Qs,oc)}finally{Be(h)}}}class TE extends nw{constructor(i,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Ad(u,void 0,!1),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const y=this._rootLView;Vu(y[ri],y,u,i,s),this.previousInputValues.set(i,s),Cd(Ja(this._tNode.index,y))}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function fw(){const t=uo();dh(Xn()[ri],t)}let mp=(()=>{class i{}return i.__NG_ELEMENT_ID__=hw,i})();function hw(){return _o(uo(),Xn())}const pw=mp,J0=class extends pw{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const i=gh(this._hostTNode,this._hostLView);if(jp(i)){const s=Zd(i,this._hostLView),a=Yd(i);return new ua(s[ri].data[a+8],s)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=ey(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Q}createEmbeddedView(i,s,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const E=i.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(E,u,Sd(this._hostTNode,null)),E}createComponent(i,s,a,u,h){var y,D;const Z=i&&!function bn(t){return"function"==typeof t}(i);let ae;if(Z)ae=s;else{const ui=s||{};ae=ui.index,a=ui.injector,u=ui.projectableNodes,h=ui.environmentInjector||ui.ngModuleRef}const Se=Z?i:new zl(Qr(i)),st=a||this.parentInjector;if(!h&&null==Se.ngModule){const qn=(Z?st:this.parentInjector).get(co,null);qn&&(h=qn)}const Mt=Qr(null!==(y=Se.componentType)&&void 0!==y?y:{}),ln=(null==Mt?void 0:Mt.id,null),Nn=null!==(D=null==ln?void 0:ln.firstChild)&&void 0!==D?D:null,ii=Se.create(st,u,Nn,h);return this.insertImpl(ii.hostView,ae,Sd(this._hostTNode,ln)),ii}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,a){const u=i._lView;if(function jg(t){return $e(t[_s])}(u)){const E=this.indexOf(i);if(-1!==E)this.detach(E);else{const D=u[_s],Z=new J0(D,D[Jr],D[_s]);Z.detach(Z.indexOf(i))}}const h=this._adjustIndex(s),y=this._lContainer;return Of(y,u,h,a),i.attachToViewContainerRef(),ts(hg(y),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=ey(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=_d(this._lContainer,s);a&&(ho(hg(this._lContainer),s),Hh(a[ri],a))}detach(i){const s=this._adjustIndex(i,-1),a=_d(this._lContainer,s);return a&&null!=ho(hg(this._lContainer),s)?new Ad(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function ey(t){return t[8]}function hg(t){return t[8]||(t[8]=[])}function _o(t,i){let s;const a=i[t.index];return $e(a)?s=a:(s=If(a,i,null,t),i[t.index]=s,xd(i,s)),ty(s,i,t,a),new J0(s,t,i)}let ty=function mg(t,i,s,a){if(t[M])return;let u;u=8&s.type?Ps(a):function IE(t,i){const s=t[Nr],a=s.createComment(""),u=yo(i,t);return Pu(s,bf(s,u),a,function Dm(t,i){return t.nextSibling(i)}(s,u),!1),a}(i,s),t[M]=u},pg=()=>!1;class ny{constructor(i){this.queryList=i,this.matches=null}clone(){return new ny(this.queryList)}setDirty(){this.queryList.setDirty()}}class gp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);u.push(this.queries[y.indexInDeclarationView].clone())}return new gp(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==bp(i,s).matches&&this.queries[s].setDirty()}}class vw{constructor(i,s,a=null){this.flags=s,this.read=a,this.predicate="string"==typeof i?function yp(t){return t.split(",").map(i=>i.trim())}(i):i}}class vp{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,u);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new vp(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Wf{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Wf(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(i,s,iy(s,h)),this.matchTNodeWithReadOption(i,s,vh(s,i,h,!1,!1))}else a===Hu?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,vh(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===bh||u===mp||u===Hu&&4&s.type)this.addMatch(s.index,-2);else{const h=vh(s,i,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function iy(t,i){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function ry(t,i,s,a){return-1===s?function OE(t,i){return 11&t.type?Qd(t,i):4&t.type?$u(t,i):null}(i,t):-2===s?function NE(t,i,s){return s===bh?Qd(i,t):s===Hu?$u(i,t):s===mp?_o(i,t):void 0}(t,i,a):bu(t,t[ri],s,i)}function gg(t,i,s,a){const u=i[Ce].queries[a];if(null===u.matches){const h=t.data,y=s.matches,E=[];for(let D=0;null!==y&&D<y.length;D+=2){const Z=y[D];E.push(Z<0?null:ry(i,h[Z],y[D+1],s.metadata.read))}u.matches=E}return u.matches}function Od(t,i,s,a){const u=t.queries.getByIndex(s),h=u.matches;if(null!==h){const y=gg(t,i,u,s);for(let E=0;E<h.length;E+=2){const D=h[E];if(D>0)a.push(y[E/2]);else{const Z=h[E+1],ae=i[-D];for(let Se=Q;Se<ae.length;Se++){const st=ae[Se];st[vo]===st[_s]&&Od(st[ri],st,Z,a)}if(null!==ae[F]){const Se=ae[F];for(let st=0;st<Se.length;st++){const Mt=Se[st];Od(Mt[ri],Mt,Z,a)}}}}}return a}function vg(t,i,s){var a;const u=new Ev(!(4&~s));return function Ob(t,i,s,a){const u=Bu(i);u.push(s),t.firstCreatePass&&R0(t).push(a,u.length-1)}(t,i,u,u.destroy),(null!==(a=i[Ce])&&void 0!==a?a:i[Ce]=new gp).queries.push(new ny(u))-1}function _p(t,i,s){null===t.queries&&(t.queries=new vp),t.queries.track(new Wf(i,s))}function bp(t,i){return t.queries.getByIndex(i)}function _w(t,i){const s=t[ri],a=bp(s,i);return a.crossesNgTemplate?Od(s,t,i,[]):gg(s,t,a,i)}function wg(t){let i=function fy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;i;){let u;if(mn(t))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ot(903,!1);u=i.\u0275dir}if(u){if(s){a.push(u);const y=t;y.inputs=Mp(t.inputs),y.inputTransforms=Mp(t.inputTransforms),y.declaredInputs=Mp(t.declaredInputs),y.outputs=Mp(t.outputs);const E=u.hostBindings;E&&kw(t,E);const D=u.viewQuery,Z=u.contentQueries;if(D&&Lw(t,D),Z&&Fw(t,Z),Ow(t,u),Fs(t.outputs,u.outputs),mn(u)&&u.data.animation){const ae=t.data;ae.animation=(ae.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let y=0;y<h.length;y++){const E=h[y];E&&E.ngInherit&&E(t),E===wg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Nw(t){let i=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=i+=u.hostVars,u.hostAttrs=ol(u.hostAttrs,s=ol(s,u.hostAttrs))}}(a)}function Ow(t,i){for(const a in i.inputs){if(!i.inputs.hasOwnProperty(a)||t.inputs.hasOwnProperty(a))continue;const u=i.inputs[a];if(void 0!==u&&(t.inputs[a]=u,t.declaredInputs[a]=i.declaredInputs[a],null!==i.inputTransforms)){var s;const h=Array.isArray(u)?u[0]:u;if(!i.inputTransforms.hasOwnProperty(h))continue;null!==(s=t.inputTransforms)&&void 0!==s||(t.inputTransforms={}),t.inputTransforms[h]=i.inputTransforms[h]}}}function Mp(t){return t===_a?{}:t===ds?[]:t}function Lw(t,i){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function Fw(t,i){const s=t.contentQueries;t.contentQueries=s?(a,u,h)=>{i(a,u,h),s(a,u,h)}:i}function kw(t,i){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}function vy(t){const i=t.inputConfig,s={};for(const a in i)if(i.hasOwnProperty(a)){const u=i[a];Array.isArray(u)&&u[3]&&(s[a]=u[3])}t.inputTransforms=s}class Ku{}class fl{}function Nd(t,i){return new Cp(t,null!=i?i:null,[])}class Cp extends Ku{constructor(i,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Z0(this);const u=Mo(i);this._bootstrapComponents=Ha(u.bootstrap),this._r3Injector=yv(i,s,[{provide:Ku,useValue:this},{provide:ig,useValue:this.componentFactoryResolver},...a],rt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Zf extends fl{constructor(i){super(),this.moduleType=i}create(i){return new Cp(this.moduleType,i,[])}}class Ic extends Ku{constructor(i){super(),this.componentFactoryResolver=new Z0(this),this.instance=null;const s=new ba([...i.providers,{provide:Ku,useValue:this},{provide:ig,useValue:this.componentFactoryResolver}],i.parent||eo(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Sg(t,i,s=null){return new Ic({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let Fd=(()=>{var t;class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function kd(t){return!!Cg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Cg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Bd(t,i,s,a,u,h,y,E){const D=Xn(),Z=ns(),ae=t+Dr,Se=Z.firstCreatePass?function jw(t,i,s,a,u,h,y,E,D){const Z=i.consts,ae=Fu(i,t,4,y||null,ka(Z,E));ku(i,s,ae,ka(Z,D)),dh(i,ae);const Se=ae.tView=Af(2,ae,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Z,null);return null!==i.queries&&(i.queries.template(i,ae),Se.queries=i.queries.embeddedTView(ae)),ae}(ae,Z,D,i,s,a,u,h,y):Z.data[ae];Ba(Se,!1);const st=_y(Z,D,Se,t);qd()&&Nu(Z,D,st,Se),za(st,D);const Mt=If(st,D,st,Se);return D[ae]=Mt,xd(D,Mt),function mw(t,i,s){return pg(t,i,s)}(Mt,Se,D),Yt(Se)&&E0(Z,D,Se),null!=y&&S0(D,Se,E),Bd}let _y=function by(t,i,s,a){return Zl(!0),i[Nr].createComment("")};function To(t,i,s,a){const u=Xn();return ko(u,xa(),i)&&(ns(),nl(So(),u,t,i,s,a)),To}function On(t,i){return t<<17|i<<2}function Dn(t){return t>>17&32767}function Sr(t){return 2|t}function Br(t){return(131068&t)>>2}function ms(t,i){return-131069&t|i<<2}function Is(t){return 1|t}function ao(t,i,s,a){const u=t[s+1],h=null===i;let y=a?Dn(u):Br(u),E=!1;for(;0!==y&&(!1===E||h);){const Z=t[y+1];ws(t[y],i)&&(E=!0,t[y+1]=a?Is(Z):Sr(Z)),y=a?Dn(Z):Br(Z)}E&&(t[s+1]=a?Sr(u):Is(u))}function ws(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Qo(t,i)>=0}function Xw(t,i,s){const a=Xn();return ko(a,xa(),i)&&function tl(t,i,s,a,u,h,y,E){const D=yo(i,s);let ae,Z=i.inputs;!E&&null!=Z&&(ae=Z[a])?(Vu(t,s,ae,a,u),ot(i)&&function Lb(t,i){const s=Ja(i,t);16&s[tr]||(s[tr]|=64)}(s,i.index)):3&i.type&&(a=function Tf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=y?y(u,i.value||"",a):u,h.setProperty(D,a,u))}(ns(),So(),a,t,i,a[Nr],s,!1),Xw}function qw(t,i,s,a,u){const y=u?"class":"style";Vu(t,s,i.inputs[y],y,a)}function Kw(t,i){return function Oc(t,i,s,a){const u=Xn(),h=ns(),y=function Sl(t){const i=Wr.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}(2);h.firstUpdatePass&&function qE(t,i,s,a){const u=t.data;if(null===u[s+1]){const h=u[Pa()],y=function XE(t,i){return i>=t.expandoStartIndex}(t,s);(function QE(t,i){return!!(t.flags&(i?8:16))})(h,a)&&null===i&&!y&&(i=!1),i=function lA(t,i,s,a){const u=function Bp(t){const i=Wr.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let h=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=Rg(s=Yw(null,t,i,s,a),i.attrs,a),h=null);else{const y=i.directiveStylingLast;if(-1===y||t[y]!==u)if(s=Yw(u,t,i,s,a),null===h){let D=function cA(t,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==Br(a))return t[Dn(a)]}(t,i,a);void 0!==D&&Array.isArray(D)&&(D=Yw(null,t,i,D[1],a),D=Rg(D,i.attrs,a),function uA(t,i,s,a){t[Dn(s?i.classBindings:i.styleBindings)]=a}(t,i,a,D))}else h=function dA(t,i,s){let a;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)a=Rg(a,t[h].hostAttrs,s);return Rg(a,i.attrs,s)}(t,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),s}(u,h,i,a),function gl(t,i,s,a,u,h){let y=h?i.classBindings:i.styleBindings,E=Dn(y),D=Br(y);t[a]=s;let ae,Z=!1;if(Array.isArray(s)?(ae=s[1],(null===ae||Qo(s,ae)>0)&&(Z=!0)):ae=s,u)if(0!==D){const st=Dn(t[E+1]);t[a+1]=On(st,E),0!==st&&(t[st+1]=ms(t[st+1],a)),t[E+1]=function Er(t,i){return 131071&t|i<<17}(t[E+1],a)}else t[a+1]=On(E,0),0!==E&&(t[E+1]=ms(t[E+1],a)),E=a;else t[a+1]=On(D,0),0===E?E=a:t[D+1]=ms(t[D+1],a),D=a;Z&&(t[a+1]=Sr(t[a+1])),ao(t,ae,a,!0),ao(t,ae,a,!1),function Rc(t,i,s,a,u){const h=u?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof i&&Qo(h,i)>=0&&(s[a+1]=Is(s[a+1]))}(i,ae,t,a,h),y=On(E,D),h?i.classBindings=y:i.styleBindings=y}(u,h,i,s,y,a)}}(h,t,y,a),i!==zr&&ko(u,y,i)&&function YE(t,i,s,a,u,h,y,E){if(!(3&i.type))return;const D=t.data,Z=D[E+1],ae=function Ds(t){return!(1&~t)}(Z)?ZE(D,i,s,u,Br(Z),y):void 0;Ty(ae)||(Ty(h)||function Zi(t){return!(2&~t)}(Z)&&(h=ZE(D,null,s,u,E,y)),function Jc(t,i,s,a,u){if(i)u?t.addClass(s,a):t.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Vh.DashCase;null==u?t.removeStyle(s,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Vh.Important),t.setStyle(s,a,u,h))}}(a,y,function Yl(t,i){return Ps(i[t])}(Pa(),s),u,h))}(h,h.data[Pa()],u,u[Nr],t,u[y+1]=function mA(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=rt(bc(t)))),t}(i,s),a,y)}(t,i,null,!0),Kw}function Yw(t,i,s,a,u){let h=null;const y=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<y&&(h=i[E],a=Rg(a,h.hostAttrs,u),h!==t);)E++;return null!==t&&(s.directiveStylingLast=E),a}function Rg(t,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?u=y:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vo(t,y,!!s||i[++h]))}return void 0===t?null:t}function ZE(t,i,s,a,u,h){const y=null===i;let E;for(;u>0;){const D=t[u],Z=Array.isArray(D),ae=Z?D[1]:D,Se=null===ae;let st=s[u+1];st===zr&&(st=Se?ds:void 0);let Mt=Se?Il(st,a):ae===a?st:void 0;if(Z&&!Ty(Mt)&&(Mt=Il(D,a)),Ty(Mt)&&(E=Mt,y))return E;const ln=t[u+1];u=y?Dn(ln):Br(ln)}if(null!==i){let D=h?i.residualClasses:i.residualStyles;null!=D&&(E=Il(D,a))}return E}function Ty(t){return void 0!==t}function Dy(t,i,s,a){const u=Xn(),h=ns(),y=Dr+t,E=u[Nr],D=h.firstCreatePass?function UA(t,i,s,a,u,h){const y=i.consts,D=Fu(i,t,2,a,ka(y,u));return ku(i,s,D,ka(y,h)),null!==D.attrs&&ug(D,D.attrs,!1),null!==D.mergedAttrs&&ug(D,D.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,D),D}(y,h,u,i,s,a):h.data[y],Z=nS(h,u,D,E,i,t);u[y]=Z;const ae=Yt(D);return Ba(D,!0),Rm(E,Z,D),!function Qf(t){return!(32&~t.flags)}(D)&&qd()&&Nu(h,u,Z,D),0===function oa(){return Wr.lFrame.elementDepthCount}()&&za(Z,u),function Ky(){Wr.lFrame.elementDepthCount++}(),ae&&(E0(h,u,D),x0(h,D,u)),null!==a&&S0(u,D),Dy}function Iy(){let t=uo();Wc()?Fp():(t=t.parent,Ba(t,!1));const i=t;(function Ua(t){return Wr.skipHydrationRootTNode===t})(i)&&function Qy(){Wr.skipHydrationRootTNode=null}(),function sh(){Wr.lFrame.elementDepthCount--}();const s=ns();return s.firstCreatePass&&(dh(s,t),et(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function u_(t){return!!(8&t.flags)}(i)&&qw(s,i,Xn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function d_(t){return!!(16&t.flags)}(i)&&qw(s,i,Xn(),i.stylesWithoutHost,!1),Iy}function tx(t,i,s,a){return Dy(t,i,s,a),Iy(),tx}let nS=(t,i,s,a,u,h)=>(Zl(!0),ec(a,u,function Qg(){return Wr.lFrame.currentNamespace}()));function Ry(t,i,s){const a=Xn(),u=ns(),h=t+Dr,y=u.firstCreatePass?function zA(t,i,s,a,u){const h=i.consts,y=ka(h,a),E=Fu(i,t,8,"ng-container",y);return null!==y&&ug(E,y,!0),ku(i,s,E,ka(h,u)),null!==i.queries&&i.queries.elementStart(i,E),E}(h,u,a,i,s):u.data[h];Ba(y,!0);const E=iS(u,a,y,t);return a[h]=E,qd()&&Nu(u,a,E,y),za(E,a),Yt(y)&&(E0(u,a,y),x0(u,y,a)),null!=s&&S0(a,y),Ry}function Py(){let t=uo();const i=ns();return Wc()?Fp():(t=t.parent,Ba(t,!1)),i.firstCreatePass&&(dh(i,t),et(t)&&i.queries.elementEnd(t)),Py}function nx(t,i,s){return Ry(t,i,s),Py(),nx}let iS=(t,i,s,a)=>(Zl(!0),gf(i[Nr],""));function rS(){return Xn()}const eh=void 0;var jA=["en",[["a","p"],["AM","PM"],eh],[["AM","PM"],eh,eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GA(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Tp={};function ix(t){const i=function WA(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=lS(i);if(s)return s;const a=i.split("-")[0];if(s=lS(a),s)return s;if("en"===a)return jA;throw new Ot(701,!1)}function aS(t){return ix(t)[Dp.PluralCase]}function lS(t){return t in Tp||(Tp[t]=zi.ng&&zi.ng.common&&zi.ng.common.locales&&zi.ng.common.locales[t]),Tp[t]}var Dp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Dp||{});const Ip="en-US";let cS=Ip;function ox(t,i,s,a){const u=Xn(),h=ns(),y=uo();return function ax(t,i,s,a,u,h,y){const E=Yt(a),Z=t.firstCreatePass&&R0(t),ae=i[Bs],Se=Bu(i);let st=!0;if(3&a.type||y){const Nn=yo(a,i),ii=y?y(Nn):Nn,ui=Se.length,qn=y?Ms=>y(Ps(Ms[a.index])):a.index;let qr=null;if(!y&&E&&(qr=function HT(t,i,s,a){const u=t.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const y=u[h];if(y===s&&u[h+1]===a){const E=i[Ho],D=u[h+2];return E.length>D?E[D]:null}"string"==typeof y&&(h+=2)}return null}(t,i,u,a.index)),null!==qr)(qr.__ngLastListenerFn__||qr).__ngNextListenerFn__=h,qr.__ngLastListenerFn__=h,st=!1;else{h=kS(a,i,ae,h,!1);const Ms=s.listen(ii,u,h);Se.push(h,Ms),Z&&Z.push(u,qn,ui,ui+1)}}else h=kS(a,i,ae,h,!1);const Mt=a.outputs;let ln;if(st&&null!==Mt&&(ln=Mt[u])){const Nn=ln.length;if(Nn)for(let ii=0;ii<Nn;ii+=2){const Qs=i[ln[ii]][ln[ii+1]].subscribe(h),Ga=Se.length;Se.push(h,Qs),Z&&Z.push(u,a.index,Ga,-(Ga+1))}}}(h,u,u[Nr],y,t,i,a),ox}function FS(t,i,s,a){const u=Be(null);try{return wa(6,i,s),!1!==s(a)}catch(h){return tc(t,h),!1}finally{wa(7,i,s),Be(u)}}function kS(t,i,s,a,u){return function h(y){if(y===Function)return a;Cd(t.componentOffset>-1?Ja(t.index,i):i);let D=FS(i,s,a,y),Z=h.__ngNextListenerFn__;for(;Z;)D=FS(i,s,Z,y)&&D,Z=Z.__ngNextListenerFn__;return u&&!1===D&&y.preventDefault(),D}}function US(t=1){return function t_(t){return(Wr.lFrame.contextLView=function ih(t,i){for(;t>0;)i=i[dr],t--;return i}(t,Wr.lFrame.contextLView))[Bs]}(t)}function $T(t,i){let s=null;const a=function ti(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let u=0;u<i.length;u++){const h=i[u];if("*"!==h){if(null===a?Ye(t,h,!0):sa(a,h))return u}else s=u}return s}function BS(t){const i=Xn()[Ks][Jr];if(!i.projection){const a=i.projection=function Zo(t,i){const s=[];for(let a=0;a<t;a++)s.push(i);return s}(t?t.length:1,null),u=a.slice();let h=i.child;for(;null!==h;){const y=t?$T(h,t):0;null!==y&&(u[y]?u[y].projectionNext=h:a[y]=h,u[y]=h),h=h.next}}}function VS(t,i=0,s){const a=Xn(),u=ns(),h=Fu(u,Dr+t,16,null,s||null);null===h.projection&&(h.projection=i),Fp(),(!a[io]||Ll())&&32&~h.flags&&function Gh(t,i,s){jh(i[Nr],0,i,s,Tm(t,s,i),wf(s.parent||i[Jr],s,i))}(u,a,h)}function YS(t,i,s,a){!function Dc(t,i,s,a){const u=ns();if(u.firstCreatePass){const h=uo();_p(u,new vw(i,s,a),h.index),function LE(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(u,t),!(2&~s)&&(u.staticContentQueries=!0)}return vg(u,Xn(),s)}(t,i,s,a)}function ZS(t,i,s){!function yw(t,i,s){const a=ns();return a.firstCreatePass&&(_p(a,new vw(t,i,s),-1),!(2&~i)&&(a.staticViewQueries=!0)),vg(a,Xn(),i)}(t,i,s)}function QS(t){const i=Xn(),s=ns(),a=Vp();uh(a+1);const u=bp(s,a);if(t.dirty&&function mu(t){return!(4&~t[tr])}(i)===!(2&~u.metadata.flags)){if(null===u.matches)t.reset([]);else{const h=_w(i,a);t.reset(h,D_),t.notifyOnChanges()}return!0}return!1}function JS(){return function sy(t,i){return t[Ce].queries[i].queryList}(Xn(),Vp())}function cM(t,i=""){const s=Xn(),a=ns(),u=t+Dr,h=a.firstCreatePass?Fu(a,u,1,i,null):a.data[u],y=uM(a,s,h,i,t);s[u]=y,qd()&&Nu(a,s,y,h),Ba(h,!1)}let uM=(t,i,s,a,u)=>(Zl(!0),function mf(t,i){return t.createText(i)}(i[Nr],a));function ux(t,i,s,a,u){if(t=Ne(t),Array.isArray(t))for(let h=0;h<t.length;h++)ux(t[h],i,s,a,u);else{const h=ns(),y=Xn(),E=uo();let D=Ra(t)?t:Ne(t.provide);const Z=js(t),ae=1048575&E.providerIndexes,Se=E.directiveStart,st=E.providerIndexes>>20;if(Ra(t)||!t.multi){const Mt=new Kd(Z,u,Lu),ln=fx(D,i,u?ae:ae+st,Se);-1===ln?(qp(mh(E,y),h,D),dx(h,t,i.length),i.push(D),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(Mt),y.push(Mt)):(s[ln]=Mt,y[ln]=Mt)}else{const Mt=fx(D,i,ae+st,Se),ln=fx(D,i,ae,ae+st),ii=ln>=0&&s[ln];if(u&&!ii||!u&&!(Mt>=0&&s[Mt])){qp(mh(E,y),h,D);const ui=function u1(t,i,s,a,u){const h=new Kd(t,s,Lu);return h.multi=[],h.index=i,h.componentProviders=0,xM(h,u,a&&!s),h}(u?c1:l1,s.length,u,a,Z);!u&&ii&&(s[ln].providerFactory=ui),dx(h,t,i.length,0),i.push(D),E.directiveStart++,E.directiveEnd++,u&&(E.providerIndexes+=1048576),s.push(ui),y.push(ui)}else dx(h,t,Mt>-1?Mt:ln,xM(s[u?ln:Mt],Z,!u&&a));!u&&a&&ii&&s[ln].componentProviders++}}}function dx(t,i,s,a){const u=Ra(i),h=function fu(t){return!!t.useClass}(i);if(u||h){const D=(h?Ne(i.useClass):i).prototype.ngOnDestroy;if(D){const Z=t.destroyHooks||(t.destroyHooks=[]);if(!u&&i.multi){const ae=Z.indexOf(s);-1===ae?Z.push(s,[a,D]):Z[ae+1].push(a,D)}else Z.push(s,D)}}}function xM(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function fx(t,i,s,a){for(let u=s;u<a;u++)if(i[u]===t)return u;return-1}function l1(t,i,s,a){return hx(this.multi,[])}function c1(t,i,s,a){const u=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=bu(s,s[ri],this.providerFactory.index,a);h=E.slice(0,y),hx(u,h);for(let D=y;D<E.length;D++)h.push(E[D])}else h=[],hx(u,h);return h}function hx(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function EM(t,i=[]){return s=>{s.providersResolver=(a,u)=>function a1(t,i,s){const a=ns();if(a.firstCreatePass){const u=mn(t);ux(s,a.data,a.blueprint,u,!0),ux(i,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,i)}}let d1=(()=>{var t;class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=Pl(0,a.type),h=u.length>0?Sg([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=i).\u0275prov=Qt({token:t,providedIn:"environment",factory:()=>new t(te(co))}),i})();function SM(t){rc("NgStandalone"),t.getStandaloneInjector=i=>i.get(d1).getOrCreateStandaloneInjector(t)}class WM{constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}let XM=(()=>{var t;class i{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})();const ZM=new ee(""),QM=new ee("");let bx,SD=(()=>{var t;class i{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,bx||(function MD(t){bx=t}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),a()},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return(t=i).\u0275fac=function(a){return new(a||t)(te(qo),te(JM),te(QM))},t.\u0275prov=Qt({token:t,factory:t.\u0275fac}),i})(),JM=(()=>{var t;class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){var h,y;return null!==(h=null===(y=bx)||void 0===y?void 0:y.findTestabilityInTree(this,a,u))&&void 0!==h?h:null}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})();function wx(t){return!!t&&"function"==typeof t.then}function eC(t){return!!t&&"function"==typeof t.subscribe}const tC=new ee("");let xx=(()=>{var t;class i{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=null!==(a=Ke(tC,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const y=h();if(wx(y))a.push(y);else if(eC(y)){const E=new Promise((D,Z)=>{y.subscribe({complete:D,error:Z})});a.push(E)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();const Ex=new ee("");function rC(t,i){return Array.isArray(i)?i.reduce(rC,t):{...t,...i}}let zd=(()=>{var t;class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ke(bv),this.afterRenderEffectManager=Ke(iu),this.externalTestViews=new Set,this.beforeRender=new ar.B,this.afterTick=new ar.B,this.componentTypes=[],this.components=[],this.isStable=Ke(Fd).hasPendingTasks.pipe((0,Or.T)(a=>!a)),this._injector=Ke(co)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof Bl;if(!this._injector.get(xx).done)throw!h&&la(a),new Ot(405,!1);let E;E=h?a:this._injector.get(ig).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const D=function CD(t){return t.isBoundToModule}(E)?void 0:this._injector.get(Ku),ae=E.create(cl.NULL,[],u||E.selector,D),Se=ae.location.nativeElement,st=ae.injector.get(ZM,null);return null==st||st.registerApplication(Se),ae.onDestroy(()=>{this.detachView(ae.hostView),Vy(this.components,ae),null==st||st.unregisterApplication(Se)}),this._loadComponent(ae),ae}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Ot(101,!1);const u=Be(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this.afterTick.next(),this._runningTick=!1,Be(u)}}detectChangesInAttachedViews(a){let u=0;const h=this.afterRenderEffectManager;for(;;){if(u===Gm)throw new Ot(103,!1);if(a){const y=0===u;this.beforeRender.next(y);for(let{_lView:E,notifyErrorHandler:D}of this._views)TD(E,y,D)}if(u++,h.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:y})=>Sx(y))&&(h.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:y})=>Sx(y))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Vy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Ex,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Vy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ot(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function Vy(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}function TD(t,i,s){!i&&!Sx(t)||function DD(t,i,s){let a;s?(a=0,t[tr]|=1024):a=64&t[tr]?0:1,zu(t,i,a)}(t,s,i)}function Sx(t){return sd(t)}class ID{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let RD=(()=>{var t;class i{compileModuleSync(a){return new Zf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=Ha(Mo(a).declarations).reduce((E,D)=>{const Z=Qr(D);return Z&&E.push(new zl(Z)),E},[]);return new ID(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),ND=(()=>{var t;class i{constructor(){this.zone=Ke(qo),this.applicationRef=Ke(zd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function LD(){const t=Ke(qo),i=Ke(vc);return s=>t.runOutsideAngular(()=>i.handleError(s))}let kD=(()=>{var t;class i{constructor(){this.subscription=new pr.yU,this.initialized=!1,this.zone=Ke(qo),this.pendingTasks=Ke(Fd)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qo.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var u;qo.assertInAngularZone(),null!==(u=a)&&void 0!==u||(a=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=i).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();const zy=new ee("",{providedIn:"root",factory:()=>Ke(zy,Rr.Optional|Rr.SkipSelf)||function UD(){return typeof $localize<"u"&&$localize.locale||Ip}()}),BD=new ee("",{providedIn:"root",factory:()=>"USD"}),Mx=new ee("");let lC=(()=>{var t;class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function Wu(t="zone.js",i){return"noop"===t?new X0:"zone.js"===t?new qo(i):t}(null==u?void 0:u.ngZone,function aC(t){var i,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(i=null==t?void 0:t.eventCoalescing)&&void 0!==i&&i,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==u?void 0:u.ngZoneEventCoalescing,runCoalescing:null==u?void 0:u.ngZoneRunCoalescing}));return h.run(()=>{const y=function Eg(t,i,s){return new Cp(t,i,s)}(a.moduleType,this.injector,function oC(t){return[{provide:qo,useFactory:t},{provide:wo,multi:!0,useFactory:()=>{const i=Ke(ND,{optional:!0});return()=>i.initialize()}},{provide:wo,multi:!0,useFactory:()=>{const i=Ke(kD);return()=>{i.initialize()}}},{provide:bv,useFactory:LD}]}(()=>h)),E=y.injector.get(vc,null);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:Z=>{E.handleError(Z)}});y.onDestroy(()=>{Vy(this._modules,y),D.unsubscribe()})}),function iC(t,i,s){try{const a=s();return wx(a)?a.catch(u=>{throw i.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(E,h,()=>{const D=y.injector.get(xx);return D.runInitializers(),D.donePromise.then(()=>(function uS(t){"string"==typeof t&&(cS=t.toLowerCase().replace(/_/g,"-"))}(y.injector.get(zy,Ip)||Ip),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,u=[]){const h=rC({},u);return function OD(t,i,s){const a=new Zf(s);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,h))}_moduleDoBootstrap(a){const u=a.injector.get(zd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ot(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ot(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Mx,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=i).\u0275fac=function(a){return new(a||t)(te(cl))},t.\u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),i})(),Hd=null;const cC=new ee("");function uC(t,i,s=[]){const a=`Platform: ${i}`,u=new ee(a);return(h=[])=>{let y=Cx();if(!y||y.injector.get(cC,!1)){const E=[...s,...h,{provide:u,useValue:!0}];t?t(E):function zD(t){if(Hd&&!Hd.get(cC,!1))throw new Ot(400,!1);(function nC(){!function pt(t){Zn=t}(()=>{throw new Ot(600,!1)})})(),Hd=t;const i=t.get(lC);(function fC(t){const i=t.get(Lv,null);null==i||i.forEach(s=>s())})(t)}(function dC(t=[],i){return cl.create({name:i,providers:[{provide:Os,useValue:"platform"},{provide:Mx,useValue:new Set([()=>Hd=null])},...t]})}(E,a))}return function HD(t){const i=Cx();if(!i)throw new Ot(401,!1);return i}()}}function Cx(){var t,i;return null!==(t=null===(i=Hd)||void 0===i?void 0:i.get(lC))&&void 0!==t?t:null}function GD(){}let pC=(()=>{class i{}return i.__NG_ELEMENT_ID__=jD,i})();function jD(t){return function WD(t,i,s){if(ot(t)&&!s){const a=Ja(t.index,i);return new Ad(a,a)}return 47&t.type?new Ad(i[Ks],i):null}(uo(),Xn(),!(16&~t))}class yC{constructor(){}supports(i){return kd(i)}create(i){return new ZD(i)}}const YD=(t,i)=>i;class ZD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||YD}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<bC(a,u,h)?s:a,E=bC(y,u,h),D=y.currentIndex;if(y===a)u--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)u++;else{h||(h=[]);const Z=E-u,ae=D-u;if(Z!=ae){for(let st=0;st<Z;st++){const Mt=st<h.length?h[st]:h[st]=0,ln=Mt+st;ae<=ln&&ln<Z&&(h[st]=Mt+1)}h[y.previousIndex]=ae-Z}}E!==D&&i(y,E,D)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!kd(i))throw new Ot(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,y,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],y=this._trackByFn(E,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,E)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,E),a=!0),s=s._next}else u=0,function $w(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,E=>{y=this._trackByFn(u,E),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,E,y,u)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,y,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,u)):i=this._addAfter(new QD(s,a),h,u),i}_verifyReinsertion(i,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new _C),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _C),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class QD{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class _C{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new JD,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(t,i,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class wC{constructor(){}supports(i){return i instanceof Map||Cg(i)}create(){return new eI}}class eI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Cg(i)))throw new Ot(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const h=u._prev,y=u._next;return h&&(h._next=y),y&&(y._prev=h),u._next=null,u._prev=null,u}const a=new tI(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class tI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xC(){return new Rx([new yC])}let Rx=(()=>{var t;class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||xC()),deps:[[i,new cr,new _i]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ot(901,!1)}}return(t=i).\u0275prov=Qt({token:t,providedIn:"root",factory:xC}),i})();function EC(){return new Px([new wC])}let Px=(()=>{var t;class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||EC()),deps:[[i,new cr,new _i]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ot(901,!1)}}return(t=i).\u0275prov=Qt({token:t,providedIn:"root",factory:EC}),i})();const rI=uC(null,"core",[]);let sI=(()=>{var t;class i{constructor(a){}}return(t=i).\u0275fac=function(a){return new(a||t)(te(zd))},t.\u0275mod=uu({type:t}),t.\u0275inj=en({}),i})();function NI(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function FI(t){const i=Be(null);try{return t()}finally{Be(i)}}function HI(t,i){const s=Qr(t),a=i.elementInjector||eo();return new zl(s).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}function $I(t){const i=Qr(t);if(!i)return null;const s=new zl(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},4341:(Bi,xn,pe)=>{"use strict";pe.d(xn,{YN:()=>go,zX:()=>ho,VZ:()=>Na,cz:()=>tn,kq:()=>Lt,vO:()=>wn});var b=pe(4438),Ue=(pe(177),pe(6648)),St=pe(1985),k=pe(3073),Nt=pe(8750),Be=pe(3794),je=pe(4360),Zt=pe(6450),sn=pe(8496),Ct=pe(6354);const Lt=new b.nKC("");function nt(ie){return null==ie||("string"==typeof ie||Array.isArray(ie))&&0===ie.length}const tn=new b.nKC("");function _e(ie){return null}function xe(ie){return null!=ie}function Ee(ie){return(0,b.jNT)(ie)?(0,Ue.H)(ie):ie}function lt(ie){let X={};return ie.forEach(Re=>{X=null!=Re?{...X,...Re}:X}),0===Object.keys(X).length?null:X}function It(ie,X){return X.map(Re=>Re(ie))}function wt(ie){return ie.map(X=>function Jt(ie){return!ie.validate}(X)?X:Re=>X.validate(Re))}function ir(ie){return null!=ie?function Kn(ie){if(!ie)return null;const X=ie.filter(xe);return 0==X.length?null:function(Re){return lt(It(Re,X))}}(wt(ie)):null}function Qi(ie){return null!=ie?function hi(ie){if(!ie)return null;const X=ie.filter(xe);return 0==X.length?null:function(Re){return function vt(...ie){const X=(0,Be.ms)(ie),{args:Re,keys:ne}=(0,k.D)(ie),Ye=new St.c(ti=>{const{length:qi}=Re;if(!qi)return void ti.complete();const ji=new Array(qi);let sa=qi,Xa=qi;for(let La=0;La<qi;La++){let Ia=!1;(0,Nt.Tg)(Re[La]).subscribe((0,je._)(ti,_l=>{Ia||(Ia=!0,Xa--),ji[La]=_l},()=>sa--,void 0,()=>{(!sa||!Ia)&&(Xa||ti.next(ne?(0,sn.e)(ne,ji):ji),ti.complete())}))}});return X?Ye.pipe((0,Zt.I)(X)):Ye}(It(Re,X).map(Ee)).pipe((0,Ct.T)(lt))}}(wt(ie)):null}class Ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(X){this._rawValidators=X||[],this._composedValidatorFn=ir(this._rawValidators)}_setAsyncValidators(X){this._rawAsyncValidators=X||[],this._composedAsyncValidatorFn=Qi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(X){this._onDestroyCallbacks.push(X)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(X=>X()),this._onDestroyCallbacks=[]}reset(X=void 0){this.control&&this.control.reset(X)}hasError(X,Re){return!!this.control&&this.control.hasError(X,Re)}getError(X,Re){return this.control?this.control.getError(X,Re):null}}class wn extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Pt=new b.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Et}),Et="always";function Zr(ie){return"number"==typeof ie?ie:parseFloat(ie)}Promise.resolve(),Promise.resolve();let Us=(()=>{var ie;class X{constructor(){this._validator=_e}ngOnChanges(ne){if(this.inputName in ne){const Ye=this.normalizeInput(ne[this.inputName].currentValue);this._enabled=this.enabled(Ye),this._validator=this._enabled?this.createValidator(Ye):_e,this._onChange&&this._onChange()}}validate(ne){return this._validator(ne)}registerOnValidatorChange(ne){this._onChange=ne}enabled(ne){return null!=ne}}return(ie=X).\u0275fac=function(ne){return new(ne||ie)},ie.\u0275dir=b.FsC({type:ie,features:[b.OA$]}),X})();const ts={provide:tn,useExisting:(0,b.Rfq)(()=>ho),multi:!0};let ho=(()=>{var ie;class X extends Us{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=ne=>Zr(ne),this.createValidator=ne=>function nn(ie){return X=>{if(nt(X.value)||nt(ie))return null;const Re=parseFloat(X.value);return!isNaN(Re)&&Re>ie?{max:{max:ie,actual:X.value}}:null}}(ne)}}return(ie=X).\u0275fac=(()=>{let Re;return function(Ye){return(Re||(Re=b.xGo(ie)))(Ye||ie)}})(),ie.\u0275dir=b.FsC({type:ie,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ne,Ye){2&ne&&b.BMQ("max",Ye._enabled?Ye.max:null)},inputs:{max:"max"},features:[b.Jv_([ts]),b.Vt3]}),X})();const Zo={provide:tn,useExisting:(0,b.Rfq)(()=>Na),multi:!0};let Na=(()=>{var ie;class X extends Us{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ne=>Zr(ne),this.createValidator=ne=>function Dt(ie){return X=>{if(nt(X.value)||nt(ie))return null;const Re=parseFloat(X.value);return!isNaN(Re)&&Re<ie?{min:{min:ie,actual:X.value}}:null}}(ne)}}return(ie=X).\u0275fac=(()=>{let Re;return function(Ye){return(Re||(Re=b.xGo(ie)))(Ye||ie)}})(),ie.\u0275dir=b.FsC({type:ie,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ne,Ye){2&ne&&b.BMQ("min",Ye._enabled?Ye.min:null)},inputs:{min:"min"},features:[b.Jv_([Zo]),b.Vt3]}),X})(),Wa=(()=>{var ie;class X{}return(ie=X).\u0275fac=function(ne){return new(ne||ie)},ie.\u0275mod=b.$C({type:ie}),ie.\u0275inj=b.G2t({}),X})(),go=(()=>{var ie;class X{static withConfig(ne){var Ye;return{ngModule:X,providers:[{provide:Pt,useValue:null!==(Ye=ne.callSetDisabledState)&&void 0!==Ye?Ye:Et}]}}}return(ie=X).\u0275fac=function(ne){return new(ne||ie)},ie.\u0275mod=b.$C({type:ie}),ie.\u0275inj=b.G2t({imports:[Wa]}),X})()},345:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Bb:()=>gr,hE:()=>di,sG:()=>Qi});var b=pe(4438),p=pe(177);class Ue extends p.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class St extends Ue{static makeCurrent(){(0,p.ZD)(new St)}onAndCancel(Oe,Qe,fe){return Oe.addEventListener(Qe,fe),()=>{Oe.removeEventListener(Qe,fe)}}dispatchEvent(Oe,Qe){Oe.dispatchEvent(Qe)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,Qe){return(Qe=Qe||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,Qe){return"window"===Qe?window:"document"===Qe?Oe:"body"===Qe?Oe.body:null}getBaseHref(Oe){const Qe=function Nt(){return k=k||document.querySelector("base"),k?k.getAttribute("href"):null}();return null==Qe?null:function Be(Ne){return new URL(Ne,document.baseURI).pathname}(Qe)}resetBaseElement(){k=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,p._b)(document.cookie,Oe)}}let k=null,Zt=(()=>{var Ne;class Oe{build(){return new XMLHttpRequest}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();const sn=new b.nKC("");let vt=(()=>{var Ne;class Oe{constructor(fe,Ie){this._zone=Ie,this._eventNameToPlugin=new Map,fe.forEach(ye=>{ye.manager=this}),this._plugins=fe.slice().reverse()}addEventListener(fe,Ie,ye){return this._findPluginFor(Ie).addEventListener(fe,Ie,ye)}getZone(){return this._zone}_findPluginFor(fe){let Ie=this._eventNameToPlugin.get(fe);if(Ie)return Ie;if(Ie=this._plugins.find(we=>we.supports(fe)),!Ie)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(fe,Ie),Ie}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(sn),b.KVO(b.SKi))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();class Ct{constructor(Oe){this._doc=Oe}}const Rt="ng-app-id";let ut=(()=>{var Ne;class Oe{constructor(fe,Ie,ye,we={}){this.doc=fe,this.appId=Ie,this.nonce=ye,this.platformId=we,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.Vy)(we),this.resetHostNodes()}addStyles(fe){for(const Ie of fe)1===this.changeUsageCount(Ie,1)&&this.onStyleAdded(Ie)}removeStyles(fe){for(const Ie of fe)this.changeUsageCount(Ie,-1)<=0&&this.onStyleRemoved(Ie)}ngOnDestroy(){const fe=this.styleNodesInDOM;fe&&(fe.forEach(Ie=>Ie.remove()),fe.clear());for(const Ie of this.getAllStyles())this.onStyleRemoved(Ie);this.resetHostNodes()}addHost(fe){this.hostNodes.add(fe);for(const Ie of this.getAllStyles())this.addStyleToHost(fe,Ie)}removeHost(fe){this.hostNodes.delete(fe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(fe){for(const Ie of this.hostNodes)this.addStyleToHost(Ie,fe)}onStyleRemoved(fe){var Ie;const ye=this.styleRef;null===(Ie=ye.get(fe))||void 0===Ie||null===(Ie=Ie.elements)||void 0===Ie||Ie.forEach(we=>we.remove()),ye.delete(fe)}collectServerRenderedStyles(){var fe;const Ie=null===(fe=this.doc.head)||void 0===fe?void 0:fe.querySelectorAll(`style[${Rt}="${this.appId}"]`);if(null!=Ie&&Ie.length){const ye=new Map;return Ie.forEach(we=>{null!=we.textContent&&ye.set(we.textContent,we)}),ye}return null}changeUsageCount(fe,Ie){const ye=this.styleRef;if(ye.has(fe)){const we=ye.get(fe);return we.usage+=Ie,we.usage}return ye.set(fe,{usage:Ie,elements:[]}),Ie}getStyleElement(fe,Ie){const ye=this.styleNodesInDOM,we=null==ye?void 0:ye.get(Ie);if((null==we?void 0:we.parentNode)===fe)return ye.delete(Ie),we.removeAttribute(Rt),we;{const I=this.doc.createElement("style");return this.nonce&&I.setAttribute("nonce",this.nonce),I.textContent=Ie,this.platformIsServer&&I.setAttribute(Rt,this.appId),fe.appendChild(I),I}}addStyleToHost(fe,Ie){var ye;const we=this.getStyleElement(fe,Ie),I=this.styleRef,L=null===(ye=I.get(Ie))||void 0===ye?void 0:ye.elements;L?L.push(we):I.set(Ie,{elements:[we],usage:1})}resetHostNodes(){const fe=this.hostNodes;fe.clear(),fe.add(this.doc.head)}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(p.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();const Lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dn=/%COMP%/g,Xt=new b.nKC("",{providedIn:"root",factory:()=>!0});function tn(Ne,Oe){return Oe.map(Qe=>Qe.replace(dn,Ne))}let an=(()=>{var Ne;class Oe{constructor(fe,Ie,ye,we,I,L,N,z=null){this.eventManager=fe,this.sharedStylesHost=Ie,this.appId=ye,this.removeStylesOnCompDestroy=we,this.doc=I,this.platformId=L,this.ngZone=N,this.nonce=z,this.rendererByCompId=new Map,this.platformIsServer=(0,p.Vy)(L),this.defaultRenderer=new gt(fe,I,N,this.platformIsServer)}createRenderer(fe,Ie){if(!fe||!Ie)return this.defaultRenderer;this.platformIsServer&&Ie.encapsulation===b.gXe.ShadowDom&&(Ie={...Ie,encapsulation:b.gXe.Emulated});const ye=this.getOrCreateRenderer(fe,Ie);return ye instanceof Cn?ye.applyToHost(fe):ye instanceof si&&ye.applyStyles(),ye}getOrCreateRenderer(fe,Ie){const ye=this.rendererByCompId;let we=ye.get(Ie.id);if(!we){const I=this.doc,L=this.ngZone,N=this.eventManager,z=this.sharedStylesHost,K=this.removeStylesOnCompDestroy,G=this.platformIsServer;switch(Ie.encapsulation){case b.gXe.Emulated:we=new Cn(N,z,Ie,this.appId,K,I,L,G);break;case b.gXe.ShadowDom:return new Wn(N,z,fe,Ie,I,L,this.nonce,G);default:we=new si(N,z,Ie,K,I,L,G)}ye.set(Ie.id,we)}return we}ngOnDestroy(){this.rendererByCompId.clear()}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(vt),b.KVO(ut),b.KVO(b.sZ2),b.KVO(Xt),b.KVO(p.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();class gt{constructor(Oe,Qe,fe,Ie){this.eventManager=Oe,this.doc=Qe,this.ngZone=fe,this.platformIsServer=Ie,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Oe,Qe){return Qe?this.doc.createElementNS(Lt[Qe]||Qe,Oe):this.doc.createElement(Oe)}createComment(Oe){return this.doc.createComment(Oe)}createText(Oe){return this.doc.createTextNode(Oe)}appendChild(Oe,Qe){(nn(Oe)?Oe.content:Oe).appendChild(Qe)}insertBefore(Oe,Qe,fe){Oe&&(nn(Oe)?Oe.content:Oe).insertBefore(Qe,fe)}removeChild(Oe,Qe){Oe&&Oe.removeChild(Qe)}selectRootElement(Oe,Qe){let fe="string"==typeof Oe?this.doc.querySelector(Oe):Oe;if(!fe)throw new b.wOt(-5104,!1);return Qe||(fe.textContent=""),fe}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,Qe,fe,Ie){if(Ie){Qe=Ie+":"+Qe;const ye=Lt[Ie];ye?Oe.setAttributeNS(ye,Qe,fe):Oe.setAttribute(Qe,fe)}else Oe.setAttribute(Qe,fe)}removeAttribute(Oe,Qe,fe){if(fe){const Ie=Lt[fe];Ie?Oe.removeAttributeNS(Ie,Qe):Oe.removeAttribute(`${fe}:${Qe}`)}else Oe.removeAttribute(Qe)}addClass(Oe,Qe){Oe.classList.add(Qe)}removeClass(Oe,Qe){Oe.classList.remove(Qe)}setStyle(Oe,Qe,fe,Ie){Ie&(b.czy.DashCase|b.czy.Important)?Oe.style.setProperty(Qe,fe,Ie&b.czy.Important?"important":""):Oe.style[Qe]=fe}removeStyle(Oe,Qe,fe){fe&b.czy.DashCase?Oe.style.removeProperty(Qe):Oe.style[Qe]=""}setProperty(Oe,Qe,fe){null!=Oe&&(Oe[Qe]=fe)}setValue(Oe,Qe){Oe.nodeValue=Qe}listen(Oe,Qe,fe){if("string"==typeof Oe&&!(Oe=(0,p.QT)().getGlobalEventTarget(this.doc,Oe)))throw new Error(`Unsupported event target ${Oe} for event ${Qe}`);return this.eventManager.addEventListener(Oe,Qe,this.decoratePreventDefault(fe))}decoratePreventDefault(Oe){return Qe=>{if("__ngUnwrap__"===Qe)return Oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Oe(Qe)):Oe(Qe))&&Qe.preventDefault()}}}function nn(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class Wn extends gt{constructor(Oe,Qe,fe,Ie,ye,we,I,L){super(Oe,ye,we,L),this.sharedStylesHost=Qe,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const N=tn(Ie.id,Ie.styles);for(const z of N){const K=document.createElement("style");I&&K.setAttribute("nonce",I),K.textContent=z,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}appendChild(Oe,Qe){return super.appendChild(this.nodeOrShadowRoot(Oe),Qe)}insertBefore(Oe,Qe,fe){return super.insertBefore(this.nodeOrShadowRoot(Oe),Qe,fe)}removeChild(Oe,Qe){return super.removeChild(this.nodeOrShadowRoot(Oe),Qe)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class si extends gt{constructor(Oe,Qe,fe,Ie,ye,we,I,L){super(Oe,ye,we,I),this.sharedStylesHost=Qe,this.removeStylesOnCompDestroy=Ie,this.styles=L?tn(L,fe.styles):fe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Cn extends si{constructor(Oe,Qe,fe,Ie,ye,we,I,L){const N=Ie+"-"+fe.id;super(Oe,Qe,fe,ye,we,I,L,N),this.contentAttr=function nt(Ne){return"_ngcontent-%COMP%".replace(dn,Ne)}(N),this.hostAttr=function Ut(Ne){return"_nghost-%COMP%".replace(dn,Ne)}(N)}applyToHost(Oe){this.applyStyles(),this.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,Qe){const fe=super.createElement(Oe,Qe);return super.setAttribute(fe,this.contentAttr,""),fe}}let Zn=(()=>{var Ne;class Oe extends Ct{constructor(fe){super(fe)}supports(fe){return!0}addEventListener(fe,Ie,ye){return fe.addEventListener(Ie,ye,!1),()=>this.removeEventListener(fe,Ie,ye)}removeEventListener(fe,Ie,ye){return fe.removeEventListener(Ie,ye)}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(p.qQ))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();const pn=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let xe=(()=>{var Ne;class Oe extends Ct{constructor(fe){super(fe)}supports(fe){return null!=Oe.parseEventName(fe)}addEventListener(fe,Ie,ye){const we=Oe.parseEventName(Ie),I=Oe.eventCallback(we.fullKey,ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(fe,we.domEventName,I))}static parseEventName(fe){const Ie=fe.toLowerCase().split("."),ye=Ie.shift();if(0===Ie.length||"keydown"!==ye&&"keyup"!==ye)return null;const we=Oe._normalizeKey(Ie.pop());let I="",L=Ie.indexOf("code");if(L>-1&&(Ie.splice(L,1),I="code."),pn.forEach(z=>{const K=Ie.indexOf(z);K>-1&&(Ie.splice(K,1),I+=z+".")}),I+=we,0!=Ie.length||0===we.length)return null;const N={};return N.domEventName=ye,N.fullKey=I,N}static matchEventFullKeyCode(fe,Ie){let ye=pt[fe.key]||fe.key,we="";return Ie.indexOf("code.")>-1&&(ye=fe.code,we="code."),!(null==ye||!ye)&&(ye=ye.toLowerCase()," "===ye?ye="space":"."===ye&&(ye="dot"),pn.forEach(I=>{I!==ye&&(0,_e[I])(fe)&&(we+=I+".")}),we+=ye,we===Ie)}static eventCallback(fe,Ie,ye){return we=>{Oe.matchEventFullKeyCode(we,fe)&&ye.runGuarded(()=>Ie(we))}}static _normalizeKey(fe){return"esc"===fe?"escape":fe}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(p.qQ))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac}),Oe})();const Qi=(0,b.oH4)(b.fpN,"browser",[{provide:b.Agw,useValue:p.AJ},{provide:b.PLl,useValue:function wt(){St.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function ir(){return(0,b.TL$)(document),document},deps:[]}]),Gi=new b.nKC(""),ar=[{provide:b.e01,useClass:class je{addToWindow(Oe){b.JZv.getAngularTestability=(fe,Ie=!0)=>{const ye=Oe.findTestabilityInTree(fe,Ie);if(null==ye)throw new b.wOt(5103,!1);return ye},b.JZv.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),b.JZv.getAllAngularRootElements=()=>Oe.getAllRootElements(),b.JZv.frameworkStabilizers||(b.JZv.frameworkStabilizers=[]),b.JZv.frameworkStabilizers.push(fe=>{const Ie=b.JZv.getAllAngularTestabilities();let ye=Ie.length;const we=function(){ye--,0==ye&&fe()};Ie.forEach(I=>{I.whenStable(we)})})}findTestabilityInTree(Oe,Qe,fe){if(null==Qe)return null;const Ie=Oe.getTestability(Qe);return null!=Ie?Ie:fe?(0,p.QT)().isShadowRoot(Qe)?this.findTestabilityInTree(Oe,Qe.host,!0):this.findTestabilityInTree(Oe,Qe.parentElement,!0):null}},deps:[]},{provide:b.WHO,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]},{provide:b.NYb,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]}],pr=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function Kn(){return new b.zcH},deps:[]},{provide:sn,useClass:Zn,multi:!0,deps:[p.qQ,b.SKi,b.Agw]},{provide:sn,useClass:xe,multi:!0,deps:[p.qQ]},an,ut,vt,{provide:b._9s,useExisting:an},{provide:p.N0,useClass:Zt,deps:[]},[]];let gr=(()=>{var Ne;class Oe{constructor(fe){}static withServerTransition(fe){return{ngModule:Oe,providers:[{provide:b.sZ2,useValue:fe.appId}]}}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(Gi,12))},Ne.\u0275mod=b.$C({type:Ne}),Ne.\u0275inj=b.G2t({providers:[...pr,...ar],imports:[p.MD,b.Hbi]}),Oe})(),di=(()=>{var Ne;class Oe{constructor(fe){this._doc=fe}getTitle(){return this._doc.title}setTitle(fe){this._doc.title=fe||""}}return(Ne=Oe).\u0275fac=function(fe){return new(fe||Ne)(b.KVO(p.qQ))},Ne.\u0275prov=b.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Oe})()},70:(Bi,xn,pe)=>{"use strict";pe.d(xn,{nX:()=>mt,Zp:()=>Le,Z:()=>so,Xk:()=>di,Kp:()=>vo,b:()=>to,Ix:()=>Yr,Wk:()=>Qa,iI:()=>Ti,Sd:()=>Ne});var b=pe(467),p=pe(4438),Ue=pe(1985),St=pe(8071),Nt=pe(6648),Be=pe(7673),je=pe(4412),Zt=pe(4572);const vt=(0,pe(1853).L)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var Ct=pe(1397),Rt=pe(3669);function ut(x=1/0){return(0,Ct.Z)(Rt.D,x)}var dn=pe(3794);function zt(...x){return function Lt(){return ut(1)}()((0,Nt.H)(x,(0,dn.lI)(x)))}var jt=pe(8750);function vn(x){return new Ue.c(P=>{(0,jt.Tg)(x()).subscribe(P)})}var Kt=pe(1203);function Xt(x,P){const $=(0,St.T)(x)?x:()=>x,T=W=>W.error($());return new Ue.c(P?W=>P.schedule(T,0,W):T)}const nt=new Ue.c(x=>x.complete());var an=pe(8359),gt=pe(9974),qe=pe(4360);function Dt(){return(0,gt.N)((x,P)=>{let $=null;x._refCount++;const T=(0,qe._)(P,void 0,void 0,void 0,()=>{if(!x||x._refCount<=0||0<--x._refCount)return void($=null);const W=x._connection,be=$;$=null,W&&(!be||W===be)&&W.unsubscribe(),P.unsubscribe()});x.subscribe(T),T.closed||($=x.connect())})}class nn extends Ue.c{constructor(P,$){super(),this.source=P,this.subjectFactory=$,this._subject=null,this._refCount=0,this._connection=null,(0,gt.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new an.yU;const $=this.getSubject();P.add(this.source.subscribe((0,qe._)($,void 0,()=>{this._teardown(),$.complete()},T=>{this._teardown(),$.error(T)},()=>this._teardown()))),P.closed&&(this._connection=null,P=an.yU.EMPTY)}return P}refCount(){return Dt()(this)}}var Wn=pe(1413),si=pe(177),Cn=pe(6354),Zn=pe(5558);function pn(x){return x<=0?()=>nt:(0,gt.N)((P,$)=>{let T=0;P.subscribe((0,qe._)($,W=>{++T<=x&&($.next(W),x<=T&&$.complete())}))})}var _e=pe(5964);function xe(x){return(0,gt.N)((P,$)=>{let T=!1;P.subscribe((0,qe._)($,W=>{T=!0,$.next(W)},()=>{T||$.next(x),$.complete()}))})}function Ee(x=lt){return(0,gt.N)((P,$)=>{let T=!1;P.subscribe((0,qe._)($,W=>{T=!0,$.next(W)},()=>T?$.complete():$.error(x())))})}function lt(){return new vt}function It(x,P){const $=arguments.length>=2;return T=>T.pipe(x?(0,_e.p)((W,be)=>x(W,be,T)):Rt.D,pn(1),$?xe(P):Ee(()=>new vt))}function Jt(x,P){return(0,St.T)(P)?(0,Ct.Z)(x,P,1):(0,Ct.Z)(x,1)}function wt(x,P,$){const T=(0,St.T)(x)||P||$?{next:x,error:P,complete:$}:x;return T?(0,gt.N)((W,be)=>{var ke;null===(ke=T.subscribe)||void 0===ke||ke.call(T);let Bt=!0;W.subscribe((0,qe._)(be,Ln=>{var Gt;null===(Gt=T.next)||void 0===Gt||Gt.call(T,Ln),be.next(Ln)},()=>{var Ln;Bt=!1,null===(Ln=T.complete)||void 0===Ln||Ln.call(T),be.complete()},Ln=>{var Gt;Bt=!1,null===(Gt=T.error)||void 0===Gt||Gt.call(T,Ln),be.error(Ln)},()=>{var Ln,Gt;Bt&&(null===(Ln=T.unsubscribe)||void 0===Ln||Ln.call(T)),null===(Gt=T.finalize)||void 0===Gt||Gt.call(T)}))}):Rt.D}function Kn(x){return(0,gt.N)((P,$)=>{let be,T=null,W=!1;T=P.subscribe((0,qe._)($,void 0,void 0,ke=>{be=(0,jt.Tg)(x(ke,Kn(x)(P))),T?(T.unsubscribe(),T=null,be.subscribe($)):W=!0})),W&&(T.unsubscribe(),T=null,be.subscribe($))})}function Qi(x){return x<=0?()=>nt:(0,gt.N)((P,$)=>{let T=[];P.subscribe((0,qe._)($,W=>{T.push(W),x<T.length&&T.shift()},()=>{for(const W of T)$.next(W);$.complete()},void 0,()=>{T=null}))})}function pr(x){return(0,gt.N)((P,$)=>{try{P.subscribe($)}finally{$.add(x)}})}var gr=pe(5343),Vr=pe(345);const di="primary",Ot=Symbol("RouteTitle");class fn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const $=this.params[P];return Array.isArray($)?$[0]:$}return null}getAll(P){if(this.has(P)){const $=this.params[P];return Array.isArray($)?$:[$]}return[]}get keys(){return Object.keys(this.params)}}function wn(x){return new fn(x)}function ai(x,P,$){const T=$.path.split("/");if(T.length>x.length||"full"===$.pathMatch&&(P.hasChildren()||T.length<x.length))return null;const W={};for(let be=0;be<T.length;be++){const ke=T[be],Bt=x[be];if(ke.startsWith(":"))W[ke.substring(1)]=Bt;else if(ke!==Bt.path)return null}return{consumed:x.slice(0,T.length),posParams:W}}function Hr(x,P){const $=x?vr(x):void 0,T=P?vr(P):void 0;if(!$||!T||$.length!=T.length)return!1;let W;for(let be=0;be<$.length;be++)if(W=$[be],!Ci(x[W],P[W]))return!1;return!0}function vr(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}function Ci(x,P){if(Array.isArray(x)&&Array.isArray(P)){if(x.length!==P.length)return!1;const $=[...x].sort(),T=[...P].sort();return $.every((W,be)=>T[be]===W)}return x===P}function Ei(x){return x.length>0?x[x.length-1]:null}function lr(x){return function k(x){return!!x&&(x instanceof Ue.c||(0,St.T)(x.lift)&&(0,St.T)(x.subscribe))}(x)?x:(0,p.jNT)(x)?(0,Nt.H)(Promise.resolve(x)):(0,Be.of)(x)}const cs={exact:function us(x,P,$){if(!ct(x.segments,P.segments)||!hr(x.segments,P.segments,$)||x.numberOfChildren!==P.numberOfChildren)return!1;for(const T in P.children)if(!x.children[T]||!us(x.children[T],P.children[T],$))return!1;return!0},subset:Ls},Lr={exact:function wr(x,P){return Hr(x,P)},subset:function zi(x,P){return Object.keys(P).length<=Object.keys(x).length&&Object.keys(P).every($=>Ci(x[$],P[$]))},ignored:()=>!0};function Fr(x,P,$){return cs[$.paths](x.root,P.root,$.matrixParams)&&Lr[$.queryParams](x.queryParams,P.queryParams)&&!("exact"===$.fragment&&x.fragment!==P.fragment)}function Ls(x,P,$){return yr(x,P,P.segments,$)}function yr(x,P,$,T){if(x.segments.length>$.length){const W=x.segments.slice(0,$.length);return!(!ct(W,$)||P.hasChildren()||!hr(W,$,T))}if(x.segments.length===$.length){if(!ct(x.segments,$)||!hr(x.segments,$,T))return!1;for(const W in P.children)if(!x.children[W]||!Ls(x.children[W],P.children[W],T))return!1;return!0}{const W=$.slice(0,x.segments.length),be=$.slice(x.segments.length);return!!(ct(x.segments,W)&&hr(x.segments,W,T)&&x.children[di])&&yr(x.children[di],P,be,T)}}function hr(x,P,$){return P.every((T,W)=>Lr[$](x[W].parameters,T.parameters))}class Fs{constructor(P=new rt([],{}),$={},T=null){this.root=P,this.queryParams=$,this.fragment=T}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return Qe.serialize(this)}}class rt{constructor(P,$){this.segments=P,this.children=$,this.parent=null,Object.values($).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fe(this)}}class g{constructor(P,$){this.path=P,this.parameters=$}get parameterMap(){var P;return null!==(P=this._parameterMap)&&void 0!==P||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return K(this)}}function ct(x,P){return x.length===P.length&&x.every(($,T)=>$.path===P[T].path)}let Ne=(()=>{var x;class P{}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:()=>new Oe,providedIn:"root"}),P})();class Oe{parse(P){const $=new Qt(P);return new Fs($.parseRootSegment(),$.parseQueryParams(),$.parseFragment())}serialize(P){const $=`/${Ie(P.root,!0)}`,T=function he(x){const P=Object.entries(x).map(([$,T])=>Array.isArray(T)?T.map(W=>`${we($)}=${we(W)}`).join("&"):`${we($)}=${we(T)}`).filter($=>$);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${$}${T}${"string"==typeof P.fragment?`#${function I(x){return encodeURI(x)}(P.fragment)}`:""}`}}const Qe=new Oe;function fe(x){return x.segments.map(P=>K(P)).join("/")}function Ie(x,P){if(!x.hasChildren())return fe(x);if(P){const $=x.children[di]?Ie(x.children[di],!1):"",T=[];return Object.entries(x.children).forEach(([W,be])=>{W!==di&&T.push(`${W}:${Ie(be,!1)}`)}),T.length>0?`${$}(${T.join("//")})`:$}{const $=function Ht(x,P){let $=[];return Object.entries(x.children).forEach(([T,W])=>{T===di&&($=$.concat(P(W,T)))}),Object.entries(x.children).forEach(([T,W])=>{T!==di&&($=$.concat(P(W,T)))}),$}(x,(T,W)=>W===di?[Ie(x.children[di],!1)]:[`${W}:${Ie(T,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[di]?`${fe(x)}/${$[0]}`:`${fe(x)}/(${$.join("//")})`}}function ye(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(x){return ye(x).replace(/%3B/gi,";")}function L(x){return ye(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(x){return decodeURIComponent(x)}function z(x){return N(x.replace(/\+/g,"%20"))}function K(x){return`${L(x.path)}${function G(x){return Object.entries(x).map(([P,$])=>`;${L(P)}=${L($)}`).join("")}(x.parameters)}`}const me=/^[^\/()?;#]+/;function ve(x){const P=x.match(me);return P?P[0]:""}const ft=/^[^\/()?;=#]+/,Pt=/^[^=?&#]+/,ht=/^[^&#]+/;class Qt{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let $={};this.peekStartsWith("/(")&&(this.capture("/"),$=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(P.length>0||Object.keys($).length>0)&&(T[di]=new rt(P,$)),T}parseSegment(){const P=ve(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(P),new g(N(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const $=function bt(x){const P=x.match(ft);return P?P[0]:""}(this.remaining);if(!$)return;this.capture($);let T="";if(this.consumeOptional("=")){const W=ve(this.remaining);W&&(T=W,this.capture(T))}P[N($)]=N(T)}parseQueryParam(P){const $=function Et(x){const P=x.match(Pt);return P?P[0]:""}(this.remaining);if(!$)return;this.capture($);let T="";if(this.consumeOptional("=")){const ke=function _n(x){const P=x.match(ht);return P?P[0]:""}(this.remaining);ke&&(T=ke,this.capture(T))}const W=z($),be=z(T);if(P.hasOwnProperty(W)){let ke=P[W];Array.isArray(ke)||(ke=[ke],P[W]=ke),ke.push(be)}else P[W]=be}parseParens(P){const $={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=ve(this.remaining),W=this.remaining[T.length];if("/"!==W&&")"!==W&&";"!==W)throw new p.wOt(4010,!1);let be;T.indexOf(":")>-1?(be=T.slice(0,T.indexOf(":")),this.capture(be),this.capture(":")):P&&(be=di);const ke=this.parseChildren();$[be]=1===Object.keys(ke).length?ke[di]:new rt([],ke),this.consumeOptional("//")}return $}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new p.wOt(4011,!1)}}function cn(x){return x.segments.length>0?new rt([],{[di]:x}):x}function en(x){const P={};for(const[T,W]of Object.entries(x.children)){const be=en(W);if(T===di&&0===be.segments.length&&be.hasChildren())for(const[ke,Bt]of Object.entries(be.children))P[ke]=Bt;else(be.segments.length>0||be.hasChildren())&&(P[T]=be)}return function Wt(x){if(1===x.numberOfChildren&&x.children[di]){const P=x.children[di];return new rt(x.segments.concat(P.segments),P.children)}return x}(new rt(x.segments,P))}function un(x){return x instanceof Fs}function Vt(x){var P;let $;const be=cn(function T(ke){const Bt={};for(const Gt of ke.children){const Ni=T(Gt);Bt[Gt.outlet]=Ni}const Ln=new rt(ke.url,Bt);return ke===x&&($=Ln),Ln}(x.root));return null!==(P=$)&&void 0!==P?P:be}function on(x,P,$,T){let W=x;for(;W.parent;)W=W.parent;if(0===P.length)return se(W,W,W,$,T);const be=function Ve(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new ee(!0,0,x);let P=0,$=!1;const T=x.reduce((W,be,ke)=>{if("object"==typeof be&&null!=be){if(be.outlets){const Bt={};return Object.entries(be.outlets).forEach(([Ln,Gt])=>{Bt[Ln]="string"==typeof Gt?Gt.split("/"):Gt}),[...W,{outlets:Bt}]}if(be.segmentPath)return[...W,be.segmentPath]}return"string"!=typeof be?[...W,be]:0===ke?(be.split("/").forEach((Bt,Ln)=>{0==Ln&&"."===Bt||(0==Ln&&""===Bt?$=!0:".."===Bt?P++:""!=Bt&&W.push(Bt))}),W):[...W,be]},[]);return new ee($,P,T)}(P);if(be.toRoot())return se(W,W,new rt([],{}),$,T);const ke=function rn(x,P,$){if(x.isAbsolute)return new Je(P,!0,0);if(!$)return new Je(P,!1,NaN);if(null===$.parent)return new Je($,!0,0);const T=gi(x.commands[0])?0:1;return function Un(x,P,$){let T=x,W=P,be=$;for(;be>W;){if(be-=W,T=T.parent,!T)throw new p.wOt(4005,!1);W=T.segments.length}return new Je(T,!1,W-be)}($,$.segments.length-1+T,x.numberOfDoubleDots)}(be,W,x),Bt=ke.processChildren?mr(ke.segmentGroup,ke.index,be.commands):xr(ke.segmentGroup,ke.index,be.commands);return se(W,ke.segmentGroup,Bt,$,T)}function gi(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function le(x){return"object"==typeof x&&null!=x&&x.outlets}function se(x,P,$,T,W){let ke,be={};T&&Object.entries(T).forEach(([Ln,Gt])=>{be[Ln]=Array.isArray(Gt)?Gt.map(Ni=>`${Ni}`):`${Gt}`}),ke=x===P?$:De(x,P,$);const Bt=cn(en(ke));return new Fs(Bt,be,W)}function De(x,P,$){const T={};return Object.entries(x.children).forEach(([W,be])=>{T[W]=be===P?$:De(be,P,$)}),new rt(x.segments,T)}class ee{constructor(P,$,T){if(this.isAbsolute=P,this.numberOfDoubleDots=$,this.commands=T,P&&T.length>0&&gi(T[0]))throw new p.wOt(4003,!1);const W=T.find(le);if(W&&W!==Ei(T))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Je{constructor(P,$,T){this.segmentGroup=P,this.processChildren=$,this.index=T}}function xr(x,P,$){var T;if(null!==(T=x)&&void 0!==T||(x=new rt([],{})),0===x.segments.length&&x.hasChildren())return mr(x,P,$);const W=function ks(x,P,$){let T=0,W=P;const be={match:!1,pathIndex:0,commandIndex:0};for(;W<x.segments.length;){if(T>=$.length)return be;const ke=x.segments[W],Bt=$[T];if(le(Bt))break;const Ln=`${Bt}`,Gt=T<$.length-1?$[T+1]:null;if(W>0&&void 0===Ln)break;if(Ln&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!Rs(Ln,Gt,ke))return be;T+=2}else{if(!Rs(Ln,{},ke))return be;T++}W++}return{match:!0,pathIndex:W,commandIndex:T}}(x,P,$),be=$.slice(W.commandIndex);if(W.match&&W.pathIndex<x.segments.length){const ke=new rt(x.segments.slice(0,W.pathIndex),{});return ke.children[di]=new rt(x.segments.slice(W.pathIndex),x.children),mr(ke,0,be)}return W.match&&0===be.length?new rt(x.segments,{}):W.match&&!x.hasChildren()?Xs(x,P,$):W.match?mr(x,0,be):Xs(x,P,$)}function mr(x,P,$){if(0===$.length)return new rt(x.segments,{});{const T=function Si(x){return le(x[0])?x[0].outlets:{[di]:x}}($),W={};if(Object.keys(T).some(be=>be!==di)&&x.children[di]&&1===x.numberOfChildren&&0===x.children[di].segments.length){const be=mr(x.children[di],P,$);return new rt(x.segments,be.children)}return Object.entries(T).forEach(([be,ke])=>{"string"==typeof ke&&(ke=[ke]),null!==ke&&(W[be]=xr(x.children[be],P,ke))}),Object.entries(x.children).forEach(([be,ke])=>{void 0===T[be]&&(W[be]=ke)}),new rt(x.segments,W)}}function Xs(x,P,$){const T=x.segments.slice(0,P);let W=0;for(;W<$.length;){const be=$[W];if(le(be)){const Ln=Ys(be.outlets);return new rt(T,Ln)}if(0===W&&gi($[0])){T.push(new g(x.segments[P].path,vs($[0]))),W++;continue}const ke=le(be)?be.outlets[di]:`${be}`,Bt=W<$.length-1?$[W+1]:null;ke&&Bt&&gi(Bt)?(T.push(new g(ke,vs(Bt))),W+=2):(T.push(new g(ke,{})),W++)}return new rt(T,{})}function Ys(x){const P={};return Object.entries(x).forEach(([$,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(P[$]=Xs(new rt([],{}),0,T))}),P}function vs(x){const P={};return Object.entries(x).forEach(([$,T])=>P[$]=`${T}`),P}function Rs(x,P,$){return x==$.path&&Hr(P,$.parameters)}const Js="imperative";var ur=function(x){return x[x.NavigationStart=0]="NavigationStart",x[x.NavigationEnd=1]="NavigationEnd",x[x.NavigationCancel=2]="NavigationCancel",x[x.NavigationError=3]="NavigationError",x[x.RoutesRecognized=4]="RoutesRecognized",x[x.ResolveStart=5]="ResolveStart",x[x.ResolveEnd=6]="ResolveEnd",x[x.GuardsCheckStart=7]="GuardsCheckStart",x[x.GuardsCheckEnd=8]="GuardsCheckEnd",x[x.RouteConfigLoadStart=9]="RouteConfigLoadStart",x[x.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",x[x.ChildActivationStart=11]="ChildActivationStart",x[x.ChildActivationEnd=12]="ChildActivationEnd",x[x.ActivationStart=13]="ActivationStart",x[x.ActivationEnd=14]="ActivationEnd",x[x.Scroll=15]="Scroll",x[x.NavigationSkipped=16]="NavigationSkipped",x}(ur||{});class ro{constructor(P,$){this.id=P,this.url=$}}class so extends ro{constructor(P,$,T="imperative",W=null){super(P,$),this.type=ur.NavigationStart,this.navigationTrigger=T,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kr extends ro{constructor(P,$,T){super(P,$),this.urlAfterRedirects=T,this.type=ur.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var es=function(x){return x[x.Redirect=0]="Redirect",x[x.SupersededByNewNavigation=1]="SupersededByNewNavigation",x[x.NoDataFromResolver=2]="NoDataFromResolver",x[x.GuardRejected=3]="GuardRejected",x}(es||{}),Ji=function(x){return x[x.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",x[x.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",x}(Ji||{});class kr extends ro{constructor(P,$,T,W){super(P,$),this.reason=T,this.code=W,this.type=ur.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ro extends ro{constructor(P,$,T,W){super(P,$),this.reason=T,this.code=W,this.type=ur.NavigationSkipped}}class _r extends ro{constructor(P,$,T,W){super(P,$),this.error=T,this.target=W,this.type=ur.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class na extends ro{constructor(P,$,T,W){super(P,$),this.urlAfterRedirects=T,this.state=W,this.type=ur.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends ro{constructor(P,$,T,W){super(P,$),this.urlAfterRedirects=T,this.state=W,this.type=ur.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va extends ro{constructor(P,$,T,W,be){super(P,$),this.urlAfterRedirects=T,this.state=W,this.shouldActivate=be,this.type=ur.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ya extends ro{constructor(P,$,T,W){super(P,$),this.urlAfterRedirects=T,this.state=W,this.type=ur.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends ro{constructor(P,$,T,W){super(P,$),this.urlAfterRedirects=T,this.state=W,this.type=ur.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cs{constructor(P){this.route=P,this.type=ur.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ja{constructor(P){this.route=P,this.type=ur.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class br{constructor(P){this.snapshot=P,this.type=ur.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(P){this.snapshot=P,this.type=ur.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(P){this.snapshot=P,this.type=ur.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yo{constructor(P){this.snapshot=P,this.type=ur.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(P,$,T){this.routerEvent=P,this.position=$,this.anchor=T,this.type=ur.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ha{}class bo{constructor(P){this.url=P}}class ce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Le,this.attachRef=null}}let Le=(()=>{var x;class P{constructor(){this.contexts=new Map}onChildOutletCreated(T,W){const be=this.getOrCreateContext(T);be.outlet=W,this.contexts.set(T,be)}onChildOutletDestroyed(T){const W=this.getContext(T);W&&(W.outlet=null,W.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let W=this.getContext(T);return W||(W=new ce,this.contexts.set(T,W)),W}getContext(T){return this.contexts.get(T)||null}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();class j{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const $=this.pathFromRoot(P);return $.length>1?$[$.length-2]:null}children(P){const $=ze(P,this._root);return $?$.children.map(T=>T.value):[]}firstChild(P){const $=ze(P,this._root);return $&&$.children.length>0?$.children[0].value:null}siblings(P){const $=Tt(P,this._root);return $.length<2?[]:$[$.length-2].children.map(W=>W.value).filter(W=>W!==P)}pathFromRoot(P){return Tt(P,this._root).map($=>$.value)}}function ze(x,P){if(x===P.value)return P;for(const $ of P.children){const T=ze(x,$);if(T)return T}return null}function Tt(x,P){if(x===P.value)return[P];for(const $ of P.children){const T=Tt(x,$);if(T.length)return T.unshift(P),T}return[]}class or{constructor(P,$){this.value=P,this.children=$}toString(){return`TreeNode(${this.value})`}}function qs(x){const P={};return x&&x.children.forEach($=>P[$.value.outlet]=$),P}class te extends j{constructor(P,$){super(P),this.snapshot=$,Hn(this,P)}toString(){return this.snapshot.toString()}}function Ae(x){const P=function Ke(x){const be=new At([],{},{},"",{},di,x,null,{});return new Pn("",new or(be,[]))}(x),$=new je.t([new g("",{})]),T=new je.t({}),W=new je.t({}),be=new je.t({}),ke=new je.t(""),Bt=new mt($,T,be,ke,W,di,x,P.root);return Bt.snapshot=P.root,new te(new or(Bt,[]),P)}class mt{constructor(P,$,T,W,be,ke,Bt,Ln){var Gt,Ni;this.urlSubject=P,this.paramsSubject=$,this.queryParamsSubject=T,this.fragmentSubject=W,this.dataSubject=be,this.outlet=ke,this.component=Bt,this._futureSnapshot=Ln,this.title=null!==(Gt=null===(Ni=this.dataSubject)||void 0===Ni?void 0:Ni.pipe((0,Cn.T)(Fi=>Fi[Ot])))&&void 0!==Gt?Gt:(0,Be.of)(void 0),this.url=P,this.params=$,this.queryParams=T,this.fragment=W,this.data=be}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=this.params.pipe((0,Cn.T)($=>wn($)))),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=this.queryParams.pipe((0,Cn.T)($=>wn($)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xt(x,P,$="emptyOnly"){var T;let W;const{routeConfig:be}=x;var ke;return W=null===P||"always"!==$&&""!==(null==be?void 0:be.path)&&(P.component||null!==(T=P.routeConfig)&&void 0!==T&&T.loadComponent)?{params:{...x.params},data:{...x.data},resolve:{...x.data,...null!==(ke=x._resolvedData)&&void 0!==ke?ke:{}}}:{params:{...P.params,...x.params},data:{...P.data,...x.data},resolve:{...x.data,...P.data,...null==be?void 0:be.data,...x._resolvedData}},be&&Pi(be)&&(W.resolve[Ot]=be.title),W}class At{get title(){var P;return null===(P=this.data)||void 0===P?void 0:P[Ot]}constructor(P,$,T,W,be,ke,Bt,Ln,Gt){this.url=P,this.params=$,this.queryParams=T,this.fragment=W,this.data=be,this.outlet=ke,this.component=Bt,this.routeConfig=Ln,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var P;return null!==(P=this._paramMap)&&void 0!==P||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){var P;return null!==(P=this._queryParamMap)&&void 0!==P||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends j{constructor(P,$){super($),this.url=P,Hn(this,$)}toString(){return $n(this._root)}}function Hn(x,P){P.value._routerState=x,P.children.forEach($=>Hn(x,$))}function $n(x){const P=x.children.length>0?` { ${x.children.map($n).join(", ")} } `:"";return`${x.value}${P}`}function In(x){if(x.snapshot){const P=x.snapshot,$=x._futureSnapshot;x.snapshot=$,Hr(P.queryParams,$.queryParams)||x.queryParamsSubject.next($.queryParams),P.fragment!==$.fragment&&x.fragmentSubject.next($.fragment),Hr(P.params,$.params)||x.paramsSubject.next($.params),function sr(x,P){if(x.length!==P.length)return!1;for(let $=0;$<x.length;++$)if(!Hr(x[$],P[$]))return!1;return!0}(P.url,$.url)||x.urlSubject.next($.url),Hr(P.data,$.data)||x.dataSubject.next($.data)}else x.snapshot=x._futureSnapshot,x.dataSubject.next(x._futureSnapshot.data)}function _i(x,P){const $=Hr(x.params,P.params)&&function $t(x,P){return ct(x,P)&&x.every(($,T)=>Hr($.parameters,P[T].parameters))}(x.url,P.url);return $&&!(!x.parent!=!P.parent)&&(!x.parent||_i(x.parent,P.parent))}function Pi(x){return"string"==typeof x.title||null===x.title}let cr=(()=>{var x;class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=di,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(Le),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.environmentInjector=(0,p.WQX)(p.uvJ),this.inputBinder=(0,p.WQX)(is,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:W,previousValue:be}=T.name;if(W)return;this.isTrackedInParentContexts(be)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(be)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var W;return(null===(W=this.parentContexts.getContext(T))||void 0===W?void 0:W.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,W){var be;this.activated=T,this._activatedRoute=W,this.location.insert(T.hostView),null===(be=this.inputBinder)||void 0===be||be.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,W){var be;if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=T;const ke=this.location,Ln=T.snapshot.component,Gt=this.parentContexts.getOrCreateContext(this.name).children,Ni=new er(T,Gt,ke.injector);this.activated=ke.createComponent(Ln,{index:ke.length,injector:Ni,environmentInjector:null!=W?W:this.environmentInjector}),this.changeDetector.markForCheck(),null===(be=this.inputBinder)||void 0===be||be.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275dir=p.FsC({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]}),P})();class er{__ngOutletInjector(P){return new er(this.route,this.childContexts,P)}constructor(P,$,T){this.route=P,this.childContexts=$,this.parent=T}get(P,$){return P===mt?this.route:P===Le?this.childContexts:this.parent.get(P,$)}}const is=new p.nKC("");let lo=(()=>{var x;class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var W;null===(W=this.outletDataSubscriptions.get(T))||void 0===W||W.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:W}=T,be=(0,Zt.z)([W.queryParams,W.params,W.data]).pipe((0,Zn.n)(([ke,Bt,Ln],Gt)=>(Ln={...ke,...Bt,...Ln},0===Gt?(0,Be.of)(Ln):Promise.resolve(Ln)))).subscribe(ke=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==W||null===W.component)return void this.unsubscribeFromRouteData(T);const Bt=(0,p.HJs)(W.component);if(Bt)for(const{templateName:Ln}of Bt.inputs)T.activatedComponentRef.setInput(Ln,ke[Ln]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,be)}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac}),P})();function Us(x,P,$){if($&&x.shouldReuseRoute(P.value,$.value.snapshot)){const T=$.value;T._futureSnapshot=P.value;const W=function ts(x,P,$){return P.children.map(T=>{for(const W of $.children)if(x.shouldReuseRoute(T.value,W.value.snapshot))return Us(x,T,W);return Us(x,T)})}(x,P,$);return new or(T,W)}{if(x.shouldAttach(P.value)){const be=x.retrieve(P.value);if(null!==be){const ke=be.route;return ke.value._futureSnapshot=P.value,ke.children=P.children.map(Bt=>Us(x,Bt)),ke}}const T=function ho(x){return new mt(new je.t(x.url),new je.t(x.params),new je.t(x.queryParams),new je.t(x.fragment),new je.t(x.data),x.outlet,x.component,x)}(P.value),W=P.children.map(be=>Us(x,be));return new or(T,W)}}const Zo="ngNavigationCancelingError";function Na(x,P){const{redirectTo:$,navigationBehaviorOptions:T}=un(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,W=Ta(!1,es.Redirect);return W.url=$,W.navigationBehaviorOptions=T,W}function Ta(x,P){const $=new Error(`NavigationCancelingError: ${x||""}`);return $[Zo]=!0,$.cancellationCode=P,$}function yl(x){return!!x&&x[Zo]}let Vo=(()=>{var x;class P{}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275cmp=p.VBU({type:x,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(T,W){1&T&&p.nrm(0,"router-outlet")},dependencies:[cr],encapsulation:2}),P})();function sl(x){const P=x.children&&x.children.map(sl),$=P?{...x,children:P}:{...x};return!$.component&&!$.loadComponent&&(P||$.loadChildren)&&$.outlet&&$.outlet!==di&&($.component=Vo),$}function Po(x){return x.outlet||di}function ia(x){var P;if(!x)return null;if(null!==(P=x.routeConfig)&&void 0!==P&&P._injector)return x.routeConfig._injector;for(let $=x.parent;$;$=$.parent){const T=$.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class Uc{constructor(P,$,T,W,be){this.routeReuseStrategy=P,this.futureState=$,this.currState=T,this.forwardEvent=W,this.inputBindingEnabled=be}activate(P){const $=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes($,T,P),In(this.futureState.root),this.activateChildRoutes($,T,P)}deactivateChildRoutes(P,$,T){const W=qs($);P.children.forEach(be=>{const ke=be.value.outlet;this.deactivateRoutes(be,W[ke],T),delete W[ke]}),Object.values(W).forEach(be=>{this.deactivateRouteAndItsChildren(be,T)})}deactivateRoutes(P,$,T){const W=P.value,be=$?$.value:null;if(W===be)if(W.component){const ke=T.getContext(W.outlet);ke&&this.deactivateChildRoutes(P,$,ke.children)}else this.deactivateChildRoutes(P,$,T);else be&&this.deactivateRouteAndItsChildren($,T)}deactivateRouteAndItsChildren(P,$){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,$):this.deactivateRouteAndOutlet(P,$)}detachAndStoreRouteSubtree(P,$){const T=$.getContext(P.value.outlet),W=T&&P.value.component?T.children:$,be=qs(P);for(const ke of Object.values(be))this.deactivateRouteAndItsChildren(ke,W);if(T&&T.outlet){const ke=T.outlet.detach(),Bt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:ke,route:P,contexts:Bt})}}deactivateRouteAndOutlet(P,$){const T=$.getContext(P.value.outlet),W=T&&P.value.component?T.children:$,be=qs(P);for(const ke of Object.values(be))this.deactivateRouteAndItsChildren(ke,W);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(P,$,T){const W=qs($);P.children.forEach(be=>{this.activateRoutes(be,W[be.value.outlet],T),this.forwardEvent(new Yo(be.value.snapshot))}),P.children.length&&this.forwardEvent(new fa(P.value.snapshot))}activateRoutes(P,$,T){const W=P.value,be=$?$.value:null;if(In(W),W===be)if(W.component){const ke=T.getOrCreateContext(W.outlet);this.activateChildRoutes(P,$,ke.children)}else this.activateChildRoutes(P,$,T);else if(W.component){const ke=T.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const Bt=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),ke.children.onOutletReAttached(Bt.contexts),ke.attachRef=Bt.componentRef,ke.route=Bt.route.value,ke.outlet&&ke.outlet.attach(Bt.componentRef,Bt.route.value),In(Bt.route.value),this.activateChildRoutes(P,null,ke.children)}else{const Bt=ia(W.snapshot);ke.attachRef=null,ke.route=W,ke.injector=Bt,ke.outlet&&ke.outlet.activateWith(W,ke.injector),this.activateChildRoutes(P,null,ke.children)}}else this.activateChildRoutes(P,null,T)}}class Rl{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class ol{constructor(P,$){this.component=P,this.route=$}}function Bc(x,P,$){const T=x._root;return ra(T,P?P._root:null,$,[T.value])}function go(x,P){const $=Symbol(),T=P.get(x,$);return T===$?"function"!=typeof x||(0,p.LfX)(x)?P.get(x):x:T}function ra(x,P,$,T,W={canDeactivateChecks:[],canActivateChecks:[]}){const be=qs(P);return x.children.forEach(ke=>{(function ie(x,P,$,T,W={canDeactivateChecks:[],canActivateChecks:[]}){const be=x.value,ke=P?P.value:null,Bt=$?$.getContext(x.value.outlet):null;if(ke&&be.routeConfig===ke.routeConfig){const Ln=function X(x,P,$){if("function"==typeof $)return $(x,P);switch($){case"pathParamsChange":return!ct(x.url,P.url);case"pathParamsOrQueryParamsChange":return!ct(x.url,P.url)||!Hr(x.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_i(x,P)||!Hr(x.queryParams,P.queryParams);default:return!_i(x,P)}}(ke,be,be.routeConfig.runGuardsAndResolvers);Ln?W.canActivateChecks.push(new Rl(T)):(be.data=ke.data,be._resolvedData=ke._resolvedData),ra(x,P,be.component?Bt?Bt.children:null:$,T,W),Ln&&Bt&&Bt.outlet&&Bt.outlet.isActivated&&W.canDeactivateChecks.push(new ol(Bt.outlet.component,ke))}else ke&&Re(P,Bt,W),W.canActivateChecks.push(new Rl(T)),ra(x,null,be.component?Bt?Bt.children:null:$,T,W)})(ke,be[ke.value.outlet],$,T.concat([ke.value]),W),delete be[ke.value.outlet]}),Object.entries(be).forEach(([ke,Bt])=>Re(Bt,$.getContext(ke),W)),W}function Re(x,P,$){const T=qs(x),W=x.value;Object.entries(T).forEach(([be,ke])=>{Re(ke,W.component?P?P.children.getContext(be):null:P,$)}),$.canDeactivateChecks.push(new ol(W.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,W))}function ne(x){return"function"==typeof x}function La(x){return x instanceof vt||"EmptyError"===(null==x?void 0:x.name)}const Ia=Symbol("INITIAL_VALUE");function _l(){return(0,Zn.n)(x=>(0,Zt.z)(x.map(P=>P.pipe(pn(1),function pt(...x){const P=(0,dn.lI)(x);return(0,gt.N)(($,T)=>{(P?zt(x,$,P):zt(x,$)).subscribe(T)})}(Ia)))).pipe((0,Cn.T)(P=>{for(const $ of P)if(!0!==$){if($===Ia)return Ia;if(!1===$||$ instanceof Fs)return $}return!0}),(0,_e.p)(P=>P!==Ia),pn(1)))}function xo(x){return(0,Kt.F)(wt(P=>{if(un(P))throw Na(0,P)}),(0,Cn.T)(P=>!0===P))}class Mo{constructor(P){this.segmentGroup=P||null}}class lc extends Error{constructor(P){super(),this.urlTree=P}}function $s(x){return Xt(new Mo(x))}class jr{constructor(P,$){this.urlSerializer=P,this.urlTree=$}lineralizeSegments(P,$){let T=[],W=$.root;for(;;){if(T=T.concat(W.segments),0===W.numberOfChildren)return(0,Be.of)(T);if(W.numberOfChildren>1||!W.children[di])return Xt(new p.wOt(4e3,!1));W=W.children[di]}}applyRedirectCommands(P,$,T){const W=this.applyRedirectCreateUrlTree($,this.urlSerializer.parse($),P,T);if($.startsWith("/"))throw new lc(W);return W}applyRedirectCreateUrlTree(P,$,T,W){const be=this.createSegmentGroup(P,$.root,T,W);return new Fs(be,this.createQueryParams($.queryParams,this.urlTree.queryParams),$.fragment)}createQueryParams(P,$){const T={};return Object.entries(P).forEach(([W,be])=>{if("string"==typeof be&&be.startsWith(":")){const Bt=be.substring(1);T[W]=$[Bt]}else T[W]=be}),T}createSegmentGroup(P,$,T,W){const be=this.createSegments(P,$.segments,T,W);let ke={};return Object.entries($.children).forEach(([Bt,Ln])=>{ke[Bt]=this.createSegmentGroup(P,Ln,T,W)}),new rt(be,ke)}createSegments(P,$,T,W){return $.map(be=>be.path.startsWith(":")?this.findPosParam(P,be,W):this.findOrReturn(be,T))}findPosParam(P,$,T){const W=T[$.path.substring(1)];if(!W)throw new p.wOt(4001,!1);return W}findOrReturn(P,$){let T=0;for(const W of $){if(W.path===P.path)return $.splice(T),W;T++}return P}}const Ya={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pl(x,P,$,T,W){const be=Wl(x,P,$);return be.matched?(T=function Il(x,P){var $;return x.providers&&!x._injector&&(x._injector=(0,p.Ol2)(x.providers,P,`Route: ${x.path}`)),null!==($=x._injector)&&void 0!==$?$:P}(P,T),function la(x,P,$,T){const W=P.canMatch;if(!W||0===W.length)return(0,Be.of)(!0);const be=W.map(ke=>{const Bt=go(ke,x);return lr(function Xa(x){return x&&ne(x.canMatch)}(Bt)?Bt.canMatch(P,$):(0,p.N4e)(x,()=>Bt(P,$)))});return(0,Be.of)(be).pipe(_l(),xo())}(T,P,$).pipe((0,Cn.T)(ke=>!0===ke?be:{...Ya}))):(0,Be.of)(be)}function Wl(x,P,$){var T,W;if("**"===P.path)return function Lo(x){return{matched:!0,parameters:x.length>0?Ei(x).parameters:{},consumedSegments:x,remainingSegments:[],positionalParamSegments:{}}}($);if(""===P.path)return"full"===P.pathMatch&&(x.hasChildren()||$.length>0)?{...Ya}:{matched:!0,consumedSegments:[],remainingSegments:$,parameters:{},positionalParamSegments:{}};const ke=(P.matcher||ai)($,x,P);if(!ke)return{...Ya};const Bt={};Object.entries(null!==(T=ke.posParams)&&void 0!==T?T:{}).forEach(([Gt,Ni])=>{Bt[Gt]=Ni.path});const Ln=ke.consumed.length>0?{...Bt,...ke.consumed[ke.consumed.length-1].parameters}:Bt;return{matched:!0,consumedSegments:ke.consumed,remainingSegments:$.slice(ke.consumed.length),parameters:Ln,positionalParamSegments:null!==(W=ke.posParams)&&void 0!==W?W:{}}}function wl(x,P,$,T){return $.length>0&&function cc(x,P,$){return $.some(T=>xl(x,P,T)&&Po(T)!==di)}(x,$,T)?{segmentGroup:new rt(P,du(T,new rt($,x.children))),slicedSegments:[]}:0===$.length&&function uc(x,P,$){return $.some(T=>xl(x,P,T))}(x,$,T)?{segmentGroup:new rt(x.segments,zc(x,$,T,x.children)),slicedSegments:$}:{segmentGroup:new rt(x.segments,x.children),slicedSegments:$}}function zc(x,P,$,T){const W={};for(const be of $)if(xl(x,P,be)&&!T[Po(be)]){const ke=new rt([],{});W[Po(be)]=ke}return{...T,...W}}function du(x,P){const $={};$[di]=P;for(const T of x)if(""===T.path&&Po(T)!==di){const W=new rt([],{});$[Po(T)]=W}return $}function xl(x,P,$){return(!(x.hasChildren()||P.length>0)||"full"!==$.pathMatch)&&""===$.path}class Os{}class al{constructor(P,$,T,W,be,ke,Bt){this.injector=P,this.configLoader=$,this.rootComponentType=T,this.config=W,this.urlTree=be,this.paramsInheritanceStrategy=ke,this.urlSerializer=Bt,this.applyRedirects=new jr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new p.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=wl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,Cn.T)($=>{const T=new At([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},di,this.rootComponentType,null,{}),W=new or(T,$),be=new Pn("",W),ke=function kn(x,P,$=null,T=null){return on(Vt(x),P,$,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ke.queryParams=this.urlTree.queryParams,be.url=this.urlSerializer.serialize(ke),this.inheritParamsAndData(be._root,null),{state:be,tree:ke}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P,di).pipe(Kn(T=>{if(T instanceof lc)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof Mo?this.noMatchError(T):T}))}inheritParamsAndData(P,$){const T=P.value,W=xt(T,$,this.paramsInheritanceStrategy);T.params=Object.freeze(W.params),T.data=Object.freeze(W.data),P.children.forEach(be=>this.inheritParamsAndData(be,T))}processSegmentGroup(P,$,T,W){return 0===T.segments.length&&T.hasChildren()?this.processChildren(P,$,T):this.processSegment(P,$,T,T.segments,W,!0).pipe((0,Cn.T)(be=>be instanceof or?[be]:[]))}processChildren(P,$,T){const W=[];for(const be of Object.keys(T.children))"primary"===be?W.unshift(be):W.push(be);return(0,Nt.H)(W).pipe(Jt(be=>{const ke=T.children[be],Bt=function Wa(x,P){const $=x.filter(T=>Po(T)===P);return $.push(...x.filter(T=>Po(T)!==P)),$}($,be);return this.processSegmentGroup(P,Bt,ke,be)}),function hi(x,P){return(0,gt.N)(function ir(x,P,$,T,W){return(be,ke)=>{let Bt=$,Ln=P,Gt=0;be.subscribe((0,qe._)(ke,Ni=>{const Fi=Gt++;Ln=Bt?x(Ln,Ni,Fi):(Bt=!0,Ni),T&&ke.next(Ln)},W&&(()=>{Bt&&ke.next(Ln),ke.complete()})))}}(x,P,arguments.length>=2,!0))}((be,ke)=>(be.push(...ke),be)),xe(null),function Gi(x,P){const $=arguments.length>=2;return T=>T.pipe(x?(0,_e.p)((W,be)=>x(W,be,T)):Rt.D,Qi(1),$?xe(P):Ee(()=>new vt))}(),(0,Ct.Z)(be=>{if(null===be)return $s(T);const ke=ba(be);return function eo(x){x.sort((P,$)=>P.value.outlet===di?-1:$.value.outlet===di?1:P.value.outlet.localeCompare($.value.outlet))}(ke),(0,Be.of)(ke)}))}processSegment(P,$,T,W,be,ke){return(0,Nt.H)($).pipe(Jt(Bt=>{var Ln;return this.processSegmentAgainstRoute(null!==(Ln=Bt._injector)&&void 0!==Ln?Ln:P,$,Bt,T,W,be,ke).pipe(Kn(Gt=>{if(Gt instanceof Mo)return(0,Be.of)(null);throw Gt}))}),It(Bt=>!!Bt),Kn(Bt=>{if(La(Bt))return function fu(x,P,$){return 0===P.length&&!x.children[$]}(T,W,be)?(0,Be.of)(new Os):$s(T);throw Bt}))}processSegmentAgainstRoute(P,$,T,W,be,ke,Bt){return function Ra(x,P,$,T){return!!(Po(x)===T||T!==di&&xl(P,$,x))&&Wl(P,x,$).matched}(T,W,be,ke)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(P,W,T,be,ke):this.allowRedirects&&Bt?this.expandSegmentAgainstRouteUsingRedirect(P,W,$,T,be,ke):$s(W):$s(W)}expandSegmentAgainstRouteUsingRedirect(P,$,T,W,be,ke){const{matched:Bt,consumedSegments:Ln,positionalParamSegments:Gt,remainingSegments:Ni}=Wl($,W,be);if(!Bt)return $s($);W.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Fi=this.applyRedirects.applyRedirectCommands(Ln,W.redirectTo,Gt);return this.applyRedirects.lineralizeSegments(W,Fi).pipe((0,Ct.Z)(Eo=>this.processSegment(P,T,$,Eo.concat(Ni),ke,!1)))}matchSegmentAgainstRoute(P,$,T,W,be){const ke=Pl($,T,W,P);return"**"===T.path&&($.children={}),ke.pipe((0,Zn.n)(Bt=>{var Ln;return Bt.matched?(P=null!==(Ln=T._injector)&&void 0!==Ln?Ln:P,this.getChildConfig(P,T,W).pipe((0,Zn.n)(({routes:Gt})=>{var Ni,Fi,Eo;const Zs=null!==(Ni=T._loadedInjector)&&void 0!==Ni?Ni:P,{consumedSegments:ca,remainingSegments:$c,parameters:wa}=Bt,hu=new At(ca,wa,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function td(x){return x.data||{}}(T),Po(T),null!==(Fi=null!==(Eo=T.component)&&void 0!==Eo?Eo:T._loadedComponent)&&void 0!==Fi?Fi:null,T,function zo(x){return x.resolve||{}}(T)),{segmentGroup:hc,slicedSegments:pu}=wl($,ca,$c,Gt);if(0===pu.length&&hc.hasChildren())return this.processChildren(Zs,Gt,hc).pipe((0,Cn.T)(nd=>null===nd?null:new or(hu,nd)));if(0===Gt.length&&0===pu.length)return(0,Be.of)(new or(hu,[]));const fr=Po(T)===be;return this.processSegment(Zs,Gt,hc,pu,fr?di:be,!0).pipe((0,Cn.T)(nd=>new or(hu,nd instanceof or?[nd]:[])))}))):$s($)}))}getChildConfig(P,$,T){return $.children?(0,Be.of)({routes:$.children,injector:P}):$.loadChildren?void 0!==$._loadedRoutes?(0,Be.of)({routes:$._loadedRoutes,injector:$._loadedInjector}):function oo(x,P,$,T){const W=P.canLoad;if(void 0===W||0===W.length)return(0,Be.of)(!0);const be=W.map(ke=>{const Bt=go(ke,x);return lr(function ti(x){return x&&ne(x.canLoad)}(Bt)?Bt.canLoad(P,$):(0,p.N4e)(x,()=>Bt(P,$)))});return(0,Be.of)(be).pipe(_l(),xo())}(P,$,T).pipe((0,Ct.Z)(W=>W?this.configLoader.loadChildren(P,$).pipe(wt(be=>{$._loadedRoutes=be.routes,$._loadedInjector=be.injector})):function Gn(x){return Xt(Ta(!1,es.GuardRejected))}())):(0,Be.of)({routes:[],injector:P})}}function co(x){const P=x.value.routeConfig;return P&&""===P.path}function ba(x){const P=[],$=new Set;for(const T of x){if(!co(T)){P.push(T);continue}const W=P.find(be=>T.value.routeConfig===be.value.routeConfig);void 0!==W?(W.children.push(...T.children),$.add(W)):P.push(T)}for(const T of $){const W=ba(T.children);P.push(new or(T.value,W))}return P.filter(T=>!$.has(T))}function Co(x){const P=x.children.map($=>Co($)).flat();return[x,...P]}function Fa(x){return(0,Zn.n)(P=>{const $=x(P);return $?(0,Nt.H)($).pipe((0,Cn.T)(()=>P)):(0,Be.of)(P)})}let Ao=(()=>{var x;class P{buildTitle(T){let W,be=T.root;for(;void 0!==be;){var ke;W=null!==(ke=this.getResolvedTitleForRoute(be))&&void 0!==ke?ke:W,be=be.children.find(Bt=>Bt.outlet===di)}return W}getResolvedTitleForRoute(T){return T.data[Ot]}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:()=>(0,p.WQX)(it),providedIn:"root"}),P})(),it=(()=>{var x;class P extends Ao{constructor(T){super(),this.title=T}updateTitle(T){const W=this.buildTitle(T);void 0!==W&&this.title.setTitle(W)}}return(x=P).\u0275fac=function(T){return new(T||x)(p.KVO(Vr.hE))},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();const O=new p.nKC("",{providedIn:"root",factory:()=>({})}),J=new p.nKC("");let We=(()=>{var x;class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Be.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const W=lr(T.loadComponent()).pipe((0,Cn.T)(at),wt(ke=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ke}),pr(()=>{this.componentLoaders.delete(T)})),be=new nn(W,()=>new Wn.B).pipe(Dt());return this.componentLoaders.set(T,be),be}loadChildren(T,W){if(this.childrenLoaders.get(W))return this.childrenLoaders.get(W);if(W._loadedRoutes)return(0,Be.of)({routes:W._loadedRoutes,injector:W._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(W);const ke=function q(x,P,$,T){return lr(x.loadChildren()).pipe((0,Cn.T)(at),(0,Ct.Z)(W=>W instanceof p.Co$||Array.isArray(W)?(0,Be.of)(W):(0,Nt.H)(P.compileModuleAsync(W))),(0,Cn.T)(W=>{T&&T(x);let be,ke,Bt=!1;return Array.isArray(W)?(ke=W,!0):(be=W.create($).injector,ke=be.get(J,[],{optional:!0,self:!0}).flat()),{routes:ke.map(sl),injector:be}}))}(W,this.compiler,T,this.onLoadEndListener).pipe(pr(()=>{this.childrenLoaders.delete(W)})),Bt=new nn(ke,()=>new Wn.B).pipe(Dt());return this.childrenLoaders.set(W,Bt),Bt}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();function at(x){return function Pe(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let bn=(()=>{var x;class P{}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:()=>(0,p.WQX)(ni),providedIn:"root"}),P})(),ni=(()=>{var x;class P{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,W){return T}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();const Ar=new p.nKC(""),$r=new p.nKC("");function rs(x,P,$){const T=x.get($r),W=x.get(si.qQ);return x.get(p.SKi).runOutsideAngular(()=>{if(!W.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,new Promise(Gt=>setTimeout(Gt));let be;const ke=new Promise(Gt=>{be=Gt}),Bt=W.startViewTransition(()=>(be(),function Tr(x){return new Promise(P=>{(0,p.mal)(P,{injector:x})})}(x))),{onViewTransitionCreated:Ln}=T;return Ln&&(0,p.N4e)(x,()=>Ln({transition:Bt,from:P,to:$})),ke})}let ss=(()=>{var x;class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wn.B,this.transitionAbortSubject=new Wn.B,this.configLoader=(0,p.WQX)(We),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(Ne),this.rootContexts=(0,p.WQX)(Le),this.location=(0,p.WQX)(si.aZ),this.inputBindingEnabled=null!==(0,p.WQX)(is,{optional:!0}),this.titleStrategy=(0,p.WQX)(Ao),this.options=(0,p.WQX)(O,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(bn),this.createViewTransition=(0,p.WQX)(Ar,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Be.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=be=>this.events.next(new ja(be)),this.configLoader.onLoadStartListener=be=>this.events.next(new Cs(be))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var W;const be=++this.navigationId;null===(W=this.transitions)||void 0===W||W.next({...this.transitions.value,...T,id:be})}setupNavigations(T,W,be){return this.transitions=new je.t({id:0,currentUrlTree:W,currentRawUrl:W,extractedUrl:this.urlHandlingStrategy.extract(W),urlAfterRedirects:this.urlHandlingStrategy.extract(W),rawUrl:W,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Js,restoredState:null,currentSnapshot:be.snapshot,targetSnapshot:null,currentRouterState:be,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_e.p)(ke=>0!==ke.id),(0,Cn.T)(ke=>({...ke,extractedUrl:this.urlHandlingStrategy.extract(ke.rawUrl)})),(0,Zn.n)(ke=>{let Bt=!1,Ln=!1;return(0,Be.of)(ke).pipe((0,Zn.n)(Gt=>{var Ni;if(this.navigationId>ke.id)return this.cancelNavigationTransition(ke,"",es.SupersededByNewNavigation),nt;this.currentTransition=ke,this.currentNavigation={id:Gt.id,initialUrl:Gt.rawUrl,extractedUrl:Gt.extractedUrl,trigger:Gt.source,extras:Gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Fi=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Eo=null!==(Ni=Gt.extras.onSameUrlNavigation)&&void 0!==Ni?Ni:T.onSameUrlNavigation;if(!Fi&&"reload"!==Eo){const Zs="";return this.events.next(new Ro(Gt.id,this.urlSerializer.serialize(Gt.rawUrl),Zs,Ji.IgnoredSameUrlNavigation)),Gt.resolve(null),nt}if(this.urlHandlingStrategy.shouldProcessUrl(Gt.rawUrl))return(0,Be.of)(Gt).pipe((0,Zn.n)(Zs=>{var ca,$c;const wa=null===(ca=this.transitions)||void 0===ca?void 0:ca.getValue();return this.events.next(new so(Zs.id,this.urlSerializer.serialize(Zs.extractedUrl),Zs.source,Zs.restoredState)),wa!==(null===($c=this.transitions)||void 0===$c?void 0:$c.getValue())?nt:Promise.resolve(Zs)}),function js(x,P,$,T,W,be){return(0,Ct.Z)(ke=>function Za(x,P,$,T,W,be,ke="emptyOnly"){return new al(x,P,$,T,W,ke,be).recognize()}(x,P,$,T,ke.extractedUrl,W,be).pipe((0,Cn.T)(({state:Bt,tree:Ln})=>({...ke,targetSnapshot:Bt,urlAfterRedirects:Ln}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(Zs=>{ke.targetSnapshot=Zs.targetSnapshot,ke.urlAfterRedirects=Zs.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Zs.urlAfterRedirects};const ca=new na(Zs.id,this.urlSerializer.serialize(Zs.extractedUrl),this.urlSerializer.serialize(Zs.urlAfterRedirects),Zs.targetSnapshot);this.events.next(ca)}));if(Fi&&this.urlHandlingStrategy.shouldProcessUrl(Gt.currentRawUrl)){const{id:Zs,extractedUrl:ca,source:$c,restoredState:wa,extras:hu}=Gt,hc=new so(Zs,this.urlSerializer.serialize(ca),$c,wa);this.events.next(hc);const pu=Ae(this.rootComponentType).snapshot;return this.currentTransition=ke={...Gt,targetSnapshot:pu,urlAfterRedirects:ca,extras:{...hu,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ca,(0,Be.of)(ke)}{const Zs="";return this.events.next(new Ro(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Zs,Ji.IgnoredByUrlHandlingStrategy)),Gt.resolve(null),nt}}),wt(Gt=>{const Ni=new Oa(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Ni)}),(0,Cn.T)(Gt=>(this.currentTransition=ke={...Gt,guards:Bc(Gt.targetSnapshot,Gt.currentSnapshot,this.rootContexts)},ke)),function Ju(x,P){return(0,Ct.Z)($=>{const{targetSnapshot:T,currentSnapshot:W,guards:{canActivateChecks:be,canDeactivateChecks:ke}}=$;return 0===ke.length&&0===be.length?(0,Be.of)({...$,guardsResult:!0}):function $d(x,P,$,T){return(0,Nt.H)(x).pipe((0,Ct.Z)(W=>function Qr(x,P,$,T,W){const be=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!be||0===be.length)return(0,Be.of)(!0);const ke=be.map(Bt=>{var Ln;const Gt=null!==(Ln=ia(P))&&void 0!==Ln?Ln:W,Ni=go(Bt,Gt);return lr(function sa(x){return x&&ne(x.canDeactivate)}(Ni)?Ni.canDeactivate(x,P,$,T):(0,p.N4e)(Gt,()=>Ni(x,P,$,T))).pipe(It())});return(0,Be.of)(ke).pipe(_l())}(W.component,W.route,$,P,T)),It(W=>!0!==W,!0))}(ke,T,W,x).pipe((0,Ct.Z)(Bt=>Bt&&function Ye(x){return"boolean"==typeof x}(Bt)?function ed(x,P,$,T){return(0,Nt.H)(P).pipe(Jt(W=>zt(function Vc(x,P){return null!==x&&P&&P(new br(x)),(0,Be.of)(!0)}(W.route.parent,T),function uu(x,P){return null!==x&&P&&P(new No(x)),(0,Be.of)(!0)}(W.route,T),function Ka(x,P,$){const T=P[P.length-1],be=P.slice(0,P.length-1).reverse().map(ke=>function jl(x){const P=x.routeConfig?x.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:x,guards:P}:null}(ke)).filter(ke=>null!==ke).map(ke=>vn(()=>{const Bt=ke.guards.map(Ln=>{var Gt;const Ni=null!==(Gt=ia(ke.node))&&void 0!==Gt?Gt:$,Fi=go(Ln,Ni);return lr(function ji(x){return x&&ne(x.canActivateChild)}(Fi)?Fi.canActivateChild(T,x):(0,p.N4e)(Ni,()=>Fi(T,x))).pipe(It())});return(0,Be.of)(Bt).pipe(_l())}));return(0,Be.of)(be).pipe(_l())}(x,W.path,$),function qa(x,P,$){const T=P.routeConfig?P.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Be.of)(!0);const W=T.map(be=>vn(()=>{var ke;const Bt=null!==(ke=ia(P))&&void 0!==ke?ke:$,Ln=go(be,Bt);return lr(function qi(x){return x&&ne(x.canActivate)}(Ln)?Ln.canActivate(P,x):(0,p.N4e)(Bt,()=>Ln(P,x))).pipe(It())}));return(0,Be.of)(W).pipe(_l())}(x,W.route,$))),It(W=>!0!==W,!0))}(T,be,x,P):(0,Be.of)(Bt)),(0,Cn.T)(Bt=>({...$,guardsResult:Bt})))})}(this.environmentInjector,Gt=>this.events.next(Gt)),wt(Gt=>{if(ke.guardsResult=Gt.guardsResult,un(Gt.guardsResult))throw Na(0,Gt.guardsResult);const Ni=new va(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot,!!Gt.guardsResult);this.events.next(Ni)}),(0,_e.p)(Gt=>!!Gt.guardsResult||(this.cancelNavigationTransition(Gt,"",es.GuardRejected),!1)),Fa(Gt=>{if(Gt.guards.canActivateChecks.length)return(0,Be.of)(Gt).pipe(wt(Ni=>{const Fi=new ya(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),this.urlSerializer.serialize(Ni.urlAfterRedirects),Ni.targetSnapshot);this.events.next(Fi)}),(0,Zn.n)(Ni=>{let Fi=!1;return(0,Be.of)(Ni).pipe(function ll(x,P){return(0,Ct.Z)($=>{const{targetSnapshot:T,guards:{canActivateChecks:W}}=$;if(!W.length)return(0,Be.of)($);const be=new Set(W.map(Ln=>Ln.route)),ke=new Set;for(const Ln of be)if(!ke.has(Ln))for(const Gt of Co(Ln))ke.add(Gt);let Bt=0;return(0,Nt.H)(ke).pipe(Jt(Ln=>be.has(Ln)?function fc(x,P,$,T){const W=x.routeConfig,be=x._resolve;return void 0!==(null==W?void 0:W.title)&&!Pi(W)&&(be[Ot]=W.title),function ql(x,P,$,T){const W=vr(x);if(0===W.length)return(0,Be.of)({});const be={};return(0,Nt.H)(W).pipe((0,Ct.Z)(ke=>function Ol(x,P,$,T){var W;const be=null!==(W=ia(P))&&void 0!==W?W:T,ke=go(x,be);return lr(ke.resolve?ke.resolve(P,$):(0,p.N4e)(be,()=>ke(P,$)))}(x[ke],P,$,T).pipe(It(),wt(Bt=>{be[ke]=Bt}))),Qi(1),function ar(x){return(0,Cn.T)(()=>x)}(be),Kn(ke=>La(ke)?nt:Xt(ke)))}(be,x,P,T).pipe((0,Cn.T)(ke=>(x._resolvedData=ke,x.data=xt(x,x.parent,$).resolve,null)))}(Ln,T,x,P):(Ln.data=xt(Ln,Ln.parent,x).resolve,(0,Be.of)(void 0))),wt(()=>Bt++),Qi(1),(0,Ct.Z)(Ln=>Bt===ke.size?(0,Be.of)($):nt))})}(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>Fi=!0,complete:()=>{Fi||this.cancelNavigationTransition(Ni,"",es.NoDataFromResolver)}}))}),wt(Ni=>{const Fi=new Rr(Ni.id,this.urlSerializer.serialize(Ni.extractedUrl),this.urlSerializer.serialize(Ni.urlAfterRedirects),Ni.targetSnapshot);this.events.next(Fi)}))}),Fa(Gt=>{const Ni=Fi=>{var Eo;const Zs=[];null!==(Eo=Fi.routeConfig)&&void 0!==Eo&&Eo.loadComponent&&!Fi.routeConfig._loadedComponent&&Zs.push(this.configLoader.loadComponent(Fi.routeConfig).pipe(wt(ca=>{Fi.component=ca}),(0,Cn.T)(()=>{})));for(const ca of Fi.children)Zs.push(...Ni(ca));return Zs};return(0,Zt.z)(Ni(Gt.targetSnapshot.root)).pipe(xe(null),pn(1))}),Fa(()=>this.afterPreactivation()),(0,Zn.n)(()=>{var Gt;const{currentSnapshot:Ni,targetSnapshot:Fi}=ke,Eo=null===(Gt=this.createViewTransition)||void 0===Gt?void 0:Gt.call(this,this.environmentInjector,Ni.root,Fi.root);return Eo?(0,Nt.H)(Eo).pipe((0,Cn.T)(()=>ke)):(0,Be.of)(ke)}),(0,Cn.T)(Gt=>{const Ni=function Zr(x,P,$){const T=Us(x,P._root,$?$._root:void 0);return new te(T,P)}(T.routeReuseStrategy,Gt.targetSnapshot,Gt.currentRouterState);return this.currentTransition=ke={...Gt,targetRouterState:Ni},this.currentNavigation.targetRouterState=Ni,ke}),wt(()=>{this.events.next(new ha)}),((x,P,$,T)=>(0,Cn.T)(W=>(new Uc(P,W.targetRouterState,W.currentRouterState,$,T).activate(x),W)))(this.rootContexts,T.routeReuseStrategy,Gt=>this.events.next(Gt),this.inputBindingEnabled),pn(1),wt({next:Gt=>{var Ni;Bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kr(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects))),null===(Ni=this.titleStrategy)||void 0===Ni||Ni.updateTitle(Gt.targetRouterState.snapshot),Gt.resolve(!0)},complete:()=>{Bt=!0}}),function Or(x){return(0,gt.N)((P,$)=>{(0,jt.Tg)(x).subscribe((0,qe._)($,()=>$.complete(),gr.l)),!$.closed&&P.subscribe($)})}(this.transitionAbortSubject.pipe(wt(Gt=>{throw Gt}))),pr(()=>{var Gt;!Bt&&!Ln&&this.cancelNavigationTransition(ke,"",es.SupersededByNewNavigation),(null===(Gt=this.currentTransition)||void 0===Gt?void 0:Gt.id)===ke.id&&(this.currentNavigation=null,this.currentTransition=null)}),Kn(Gt=>{if(Ln=!0,yl(Gt))this.events.next(new kr(ke.id,this.urlSerializer.serialize(ke.extractedUrl),Gt.message,Gt.cancellationCode)),function $l(x){return yl(x)&&un(x.url)}(Gt)?this.events.next(new bo(Gt.url)):ke.resolve(!1);else{var Ni;this.events.next(new _r(ke.id,this.urlSerializer.serialize(ke.extractedUrl),Gt,null!==(Ni=ke.targetSnapshot)&&void 0!==Ni?Ni:void 0));try{ke.resolve(T.errorHandler(Gt))}catch(Fi){this.options.resolveNavigationPromiseOnError?ke.resolve(!1):ke.reject(Fi)}}return nt}))}))}cancelNavigationTransition(T,W,be){const ke=new kr(T.id,this.urlSerializer.serialize(T.extractedUrl),W,be);this.events.next(ke),T.resolve(!1)}isUpdatingInternalState(){var T,W;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(W=this.currentTransition)||void 0===W?void 0:W.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,W;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(W=this.currentTransition)&&void 0!==W&&W.extras.skipLocationChange)}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();function ys(x){return x!==Js}let to=(()=>{var x;class P{}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:()=>(0,p.WQX)(ri),providedIn:"root"}),P})();class fs{shouldDetach(P){return!1}store(P,$){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,$){return P.routeConfig===$.routeConfig}}let ri=(()=>{var x;class P extends fs{}return(x=P).\u0275fac=(()=>{let $;return function(W){return($||($=p.xGo(x)))(W||x)}})(),x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})(),tr=(()=>{var x;class P{}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:()=>(0,p.WQX)(_s),providedIn:"root"}),P})(),_s=(()=>{var x;class P extends tr{constructor(){super(...arguments),this.location=(0,p.WQX)(si.aZ),this.urlSerializer=(0,p.WQX)(Ne),this.options=(0,p.WQX)(O,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ae(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,W;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(W=this.restoredState())||void 0===W?void 0:W.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(W=>{"popstate"===W.type&&T(W.url,W.state)})}handleRouterEvent(T,W){if(T instanceof so)this.stateMemento=this.createStateMemento();else if(T instanceof Ro)this.rawUrlTree=W.initialUrl;else if(T instanceof na){if("eager"===this.urlUpdateStrategy&&!W.extras.skipLocationChange){const be=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl);this.setBrowserUrl(be,W)}}else T instanceof ha?(this.currentUrlTree=W.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(W.finalUrl,W.initialUrl),this.routerState=W.targetRouterState,"deferred"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,W))):T instanceof kr&&(T.code===es.GuardRejected||T.code===es.NoDataFromResolver)?this.restoreHistory(W):T instanceof _r?this.restoreHistory(W,!0):T instanceof Kr&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,W){const be=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(be)||W.extras.replaceUrl){const Bt={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId)};this.location.replaceState(be,"",Bt)}else{const ke={...W.extras.state,...this.generateNgRouterState(W.id,this.browserPageId+1)};this.location.go(be,"",ke)}}restoreHistory(T,W=!1){if("computed"===this.canceledNavigationResolution){const ke=this.currentPageId-this.browserPageId;0!==ke?this.location.historyGo(ke):this.currentUrlTree===T.finalUrl&&0===ke&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(W&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var W;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(W=T.finalUrl)&&void 0!==W?W:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,W){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:W}:{navigationId:T}}}return(x=P).\u0275fac=(()=>{let $;return function(W){return($||($=p.xGo(x)))(W||x)}})(),x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();var no=function(x){return x[x.COMPLETE=0]="COMPLETE",x[x.FAILED=1]="FAILED",x[x.REDIRECTING=2]="REDIRECTING",x}(no||{});function Jr(x,P){x.events.pipe((0,_e.p)($=>$ instanceof Kr||$ instanceof kr||$ instanceof _r||$ instanceof Ro),(0,Cn.T)($=>$ instanceof Kr||$ instanceof Ro?no.COMPLETE:$ instanceof kr&&($.code===es.Redirect||$.code===es.SupersededByNewNavigation)?no.REDIRECTING:no.FAILED),(0,_e.p)($=>$!==no.REDIRECTING),pn(1)).subscribe(()=>{P()})}function io(x){throw x}const Ho={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{var x;class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,W;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)(tr),this.options=(0,p.WQX)(O,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(ss),this.urlSerializer=(0,p.WQX)(Ne),this.location=(0,p.WQX)(si.aZ),this.urlHandlingStrategy=(0,p.WQX)(bn),this._events=new Wn.B,this.errorHandler=this.options.errorHandler||io,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(to),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(W=(0,p.WQX)(J,{optional:!0}))||void 0===W?void 0:W.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,p.WQX)(is,{optional:!0}),this.eventsSubscription=new an.yU,this.isNgZoneEnabled=(0,p.WQX)(p.SKi)instanceof p.SKi&&p.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:be=>{this.console.warn(be)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(W=>{try{const be=this.navigationTransitions.currentTransition,ke=this.navigationTransitions.currentNavigation;if(null!==be&&null!==ke)if(this.stateManager.handleRouterEvent(W,ke),W instanceof kr&&W.code!==es.Redirect&&W.code!==es.SupersededByNewNavigation)this.navigated=!0;else if(W instanceof Kr)this.navigated=!0;else if(W instanceof bo){const Bt=this.urlHandlingStrategy.merge(W.url,be.currentRawUrl),Ln={info:be.extras.info,skipLocationChange:be.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ys(be.source)};this.scheduleNavigation(Bt,Js,null,Ln,{resolve:be.resolve,reject:be.reject,promise:be.promise})}(function Nr(x){return!(x instanceof ha||x instanceof bo)})(W)&&this._events.next(W)}catch(be){this.navigationTransitions.transitionAbortSubject.next(be)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Js,this.stateManager.restoredState())}setUpLocationChangeListener(){var T;null!==(T=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==T||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((W,be)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(W,"popstate",be)},0)}))}navigateToSyncWithBrowser(T,W,be){const ke={replaceUrl:!0},Bt=null!=be&&be.navigationId?be:null;if(be){const Gt={...be};delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(ke.state=Gt)}const Ln=this.parseUrl(T);this.scheduleNavigation(Ln,W,Bt,ke)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(sl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,W={}){const{relativeTo:be,queryParams:ke,fragment:Bt,queryParamsHandling:Ln,preserveFragment:Gt}=W,Ni=Gt?this.currentUrlTree.fragment:Bt;let Eo,Fi=null;switch(Ln){case"merge":Fi={...this.currentUrlTree.queryParams,...ke};break;case"preserve":Fi=this.currentUrlTree.queryParams;break;default:Fi=ke||null}null!==Fi&&(Fi=this.removeEmptyProps(Fi));try{Eo=Vt(be?be.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Eo=this.currentUrlTree.root}return on(Eo,T,Fi,null!=Ni?Ni:null)}navigateByUrl(T,W={skipLocationChange:!1}){const be=un(T)?T:this.parseUrl(T),ke=this.urlHandlingStrategy.merge(be,this.rawUrlTree);return this.scheduleNavigation(ke,Js,null,W)}navigate(T,W={skipLocationChange:!1}){return function pa(x){for(let P=0;P<x.length;P++)if(null==x[P])throw new p.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,W),W)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,W){let be;if(be=!0===W?{...Ho}:!1===W?{...Bs}:W,un(T))return Fr(this.currentUrlTree,T,be);const ke=this.parseUrl(T);return Fr(this.currentUrlTree,ke,be)}removeEmptyProps(T){return Object.entries(T).reduce((W,[be,ke])=>(null!=ke&&(W[be]=ke),W),{})}scheduleNavigation(T,W,be,ke,Bt){if(this.disposed)return Promise.resolve(!1);let Ln,Gt,Ni;Bt?(Ln=Bt.resolve,Gt=Bt.reject,Ni=Bt.promise):Ni=new Promise((Eo,Zs)=>{Ln=Eo,Gt=Zs});const Fi=this.pendingTasks.add();return Jr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fi))}),this.navigationTransitions.handleNavigationRequest({source:W,restoredState:be,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:ke,resolve:Ln,reject:Gt,promise:Ni,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ni.catch(Eo=>Promise.reject(Eo))}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})(),Qa=(()=>{var x;class P{constructor(T,W,be,ke,Bt,Ln){var Gt;this.router=T,this.route=W,this.tabIndexAttribute=be,this.renderer=ke,this.el=Bt,this.locationStrategy=Ln,this.href=null,this.commands=null,this.onChanges=new Wn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ni=null===(Gt=Bt.nativeElement.tagName)||void 0===Gt?void 0:Gt.toLowerCase();this.isAnchorElement="a"===Ni||"area"===Ni,this.isAnchorElement?this.subscription=T.events.subscribe(Fi=>{Fi instanceof Kr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,W,be,ke,Bt){const Ln=this.urlTree;return!!(null===Ln||this.isAnchorElement&&(0!==T||W||be||ke||Bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ln,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;const W=this.urlTree;this.href=null!==W&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(W)):null;const be=null===this.href?null:(0,p.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",be)}applyAttributeValue(T,W){const be=this.renderer,ke=this.el.nativeElement;null!==W?be.setAttribute(ke,T,W):be.removeAttribute(ke,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(x=P).\u0275fac=function(T){return new(T||x)(p.rXU(Yr),p.rXU(mt),p.kS0("tabindex"),p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(si.hb))},x.\u0275dir=p.FsC({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,W){1&T&&p.bIt("click",function(ke){return W.onClick(ke.button,ke.ctrlKey,ke.shiftKey,ke.altKey,ke.metaKey)}),2&T&&p.BMQ("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[p.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",p.L39],skipLocationChange:[p.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",p.L39],replaceUrl:[p.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",p.L39],routerLink:"routerLink"},standalone:!0,features:[p.GFd,p.OA$]}),P})();class Ks{}let vo=(()=>{var x;class P{preload(T,W){return W().pipe(Kn(()=>(0,Be.of)(null)))}}return(x=P).\u0275fac=function(T){return new(T||x)},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})(),Ce=(()=>{var x;class P{constructor(T,W,be,ke,Bt){this.router=T,this.injector=be,this.preloadingStrategy=ke,this.loader=Bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,_e.p)(T=>T instanceof Kr),Jt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,W){const be=[];for(const Gt of W){var ke,Bt;Gt.providers&&!Gt._injector&&(Gt._injector=(0,p.Ol2)(Gt.providers,T,`Route: ${Gt.path}`));const Ni=null!==(ke=Gt._injector)&&void 0!==ke?ke:T,Fi=null!==(Bt=Gt._loadedInjector)&&void 0!==Bt?Bt:Ni;var Ln;(Gt.loadChildren&&!Gt._loadedRoutes&&void 0===Gt.canLoad||Gt.loadComponent&&!Gt._loadedComponent)&&be.push(this.preloadConfig(Ni,Gt)),(Gt.children||Gt._loadedRoutes)&&be.push(this.processRoutes(Fi,null!==(Ln=Gt.children)&&void 0!==Ln?Ln:Gt._loadedRoutes))}return(0,Nt.H)(be).pipe(ut())}preloadConfig(T,W){return this.preloadingStrategy.preload(W,()=>{let be;be=W.loadChildren&&void 0===W.canLoad?this.loader.loadChildren(T,W):(0,Be.of)(null);const ke=be.pipe((0,Ct.Z)(Bt=>{var Ln;return null===Bt?(0,Be.of)(void 0):(W._loadedRoutes=Bt.routes,W._loadedInjector=Bt.injector,this.processRoutes(null!==(Ln=Bt.injector)&&void 0!==Ln?Ln:T,Bt.routes))}));if(W.loadComponent&&!W._loadedComponent){const Bt=this.loader.loadComponent(W);return(0,Nt.H)([ke,Bt]).pipe(ut())}return ke})}}return(x=P).\u0275fac=function(T){return new(T||x)(p.KVO(Yr),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(Ks),p.KVO(We))},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),P})();const ma=new p.nKC("");let Kl=(()=>{var x;class P{constructor(T,W,be,ke,Bt={}){this.urlSerializer=T,this.transitions=W,this.viewportScroller=be,this.zone=ke,this.options=Bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,p.WQX)(p.uvJ),Bt.scrollPositionRestoration||(Bt.scrollPositionRestoration="disabled"),Bt.anchorScrolling||(Bt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Kr?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Ro&&T.code===Ji.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Mr&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,W){var be=this;this.zone.runOutsideAngular((0,b.A)(function*(){yield new Promise(ke=>{setTimeout(()=>{ke()}),(0,p.mal)(()=>{ke()},{injector:be.environmentInjector})}),be.zone.run(()=>{be.transitions.events.next(new Mr(T,"popstate"===be.lastSource?be.store[be.restoredId]:null,W))})}))}ngOnDestroy(){var T,W;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(W=this.scrollEventsSubscription)||void 0===W||W.unsubscribe()}}return(x=P).\u0275fac=function(T){p.QTQ()},x.\u0275prov=p.jDH({token:x,factory:x.\u0275fac}),P})();function Jo(x,P){return{\u0275kind:x,\u0275providers:P}}function C(){const x=(0,p.WQX)(p.zZn);return P=>{var $,T;const W=x.get(p.o8S);if(P!==W.components[0])return;const be=x.get(Yr),ke=x.get(F);1===x.get(Q)&&be.initialNavigation(),null===($=x.get(et,null,p.$GK.Optional))||void 0===$||$.setUpPreloading(),null===(T=x.get(ma,null,p.$GK.Optional))||void 0===T||T.init(),be.resetRootComponentType(W.componentTypes[0]),ke.closed||(ke.next(),ke.complete(),ke.unsubscribe())}}const F=new p.nKC("",{factory:()=>new Wn.B}),Q=new p.nKC("",{providedIn:"root",factory:()=>1}),et=new p.nKC("");function ot(x){return Jo(0,[{provide:et,useExisting:Ce},{provide:Ks,useExisting:x}])}function Ft(x){return Jo(9,[{provide:Ar,useValue:rs},{provide:$r,useValue:{skipNextTransition:!(null==x||!x.skipInitialTransition),...x}}])}const oi=new p.nKC("ROUTER_FORROOT_GUARD"),ci=[si.aZ,{provide:Ne,useClass:Oe},Yr,Le,{provide:mt,useFactory:function Nl(x){return x.routerState.root},deps:[Yr]},We,[]];let Ti=(()=>{var x;class P{constructor(T){}static forRoot(T,W){return{ngModule:P,providers:[ci,[],{provide:J,multi:!0,useValue:T},{provide:oi,useFactory:Xi,deps:[[Yr,new p.Xx1,new p.kdw]]},{provide:O,useValue:W||{}},null!=W&&W.useHash?{provide:si.hb,useClass:si.fw}:{provide:si.hb,useClass:si.Sm},{provide:ma,useFactory:()=>{const x=(0,p.WQX)(si.Xr),P=(0,p.WQX)(p.SKi),$=(0,p.WQX)(O),T=(0,p.WQX)(ss),W=(0,p.WQX)(Ne);return $.scrollOffset&&x.setOffset($.scrollOffset),new Kl(W,T,x,P,$)}},null!=W&&W.preloadingStrategy?ot(W.preloadingStrategy).\u0275providers:[],null!=W&&W.initialNavigation?Ki(W):[],null!=W&&W.bindToComponentInputs?Jo(8,[lo,{provide:is,useExisting:lo}]).\u0275providers:[],null!=W&&W.enableViewTransitions?Ft().\u0275providers:[],[{provide:Ii,useFactory:C},{provide:p.iLQ,multi:!0,useExisting:Ii}]]}}static forChild(T){return{ngModule:P,providers:[{provide:J,multi:!0,useValue:T}]}}}return(x=P).\u0275fac=function(T){return new(T||x)(p.KVO(oi,8))},x.\u0275mod=p.$C({type:x}),x.\u0275inj=p.G2t({}),P})();function Xi(x){return"guarded"}function Ki(x){return["disabled"===x.initialNavigation?Jo(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const P=(0,p.WQX)(Yr);return()=>{P.setUpLocationChangeListener()}}},{provide:Q,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Jo(2,[{provide:Q,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:P=>{const $=P.get(si.hj,Promise.resolve());return()=>$.then(()=>new Promise(T=>{const W=P.get(Yr),be=P.get(F);Jr(W,()=>{T(!0)}),P.get(ss).afterPreactivation=()=>(T(!0),be.closed?(0,Be.of)(void 0):be),W.initialNavigation()}))}}]).\u0275providers:[]]}const Ii=new p.nKC("")},3656:(Bi,xn,pe)=>{"use strict";pe.d(xn,{Yq:()=>sr,TS:()=>Ot,sR:()=>fn,el:()=>ft,Sb:()=>g,QE:()=>_n,CF:()=>hr,Rg:()=>N,p4:()=>Qt,jM:()=>on,q9:()=>gr,Kb:()=>gi,CE:()=>bt,pF:()=>Pt,fL:()=>en,YV:()=>he,er:()=>cn,z3:()=>Wt});var b=pe(467),p=pe(9842),Ue=pe(4438),St=pe(70),k=pe(177),Nt=pe(5531),Be=pe(4442);var nn=pe(1413),Wn=pe(3726),si=pe(4412),Cn=pe(4572),Zn=pe(7673),pn=pe(1635),pt=pe(5964),_e=pe(5558),xe=pe(3669),Ee=pe(9974),lt=pe(4360);function Jt(le,se){return le===se}var wt=pe(4341);const Kn=["tabsInner"];let Gi=(()=>{var le;class se{constructor(ee,Ve){(0,p.A)(this,"doc",void 0),(0,p.A)(this,"_readyPromise",void 0),(0,p.A)(this,"win",void 0),(0,p.A)(this,"backButton",new nn.B),(0,p.A)(this,"keyboardDidShow",new nn.B),(0,p.A)(this,"keyboardDidHide",new nn.B),(0,p.A)(this,"pause",new nn.B),(0,p.A)(this,"resume",new nn.B),(0,p.A)(this,"resize",new nn.B),this.doc=ee,Ve.run(()=>{var Je;let rn;this.win=ee.defaultView,this.backButton.subscribeWithPriority=function(Un,Si){return this.subscribe(xr=>xr.register(Un,mr=>Ve.run(()=>Si(mr))))},pr(this.pause,ee,"pause",Ve),pr(this.resume,ee,"resume",Ve),pr(this.backButton,ee,"ionBackButton",Ve),pr(this.resize,this.win,"resize",Ve),pr(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Ve),pr(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Ve),this._readyPromise=new Promise(Un=>{rn=Un}),null!==(Je=this.win)&&void 0!==Je&&Je.cordova?ee.addEventListener("deviceready",()=>{rn("cordova")},{once:!0}):rn("dom")})}is(ee){return(0,Nt.a)(this.win,ee)}platforms(){return(0,Nt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ee){return ar(this.win.location.href,ee)}isLandscape(){return!this.isPortrait()}isPortrait(){var ee,Ve;return null===(ee=(Ve=this.win).matchMedia)||void 0===ee?void 0:ee.call(Ve,"(orientation: portrait)").matches}testUserAgent(ee){const Ve=this.win.navigator;return!!(null!=Ve&&Ve.userAgent&&Ve.userAgent.indexOf(ee)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.KVO(k.qQ),Ue.KVO(Ue.SKi))}),(0,p.A)(se,"\u0275prov",Ue.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})),se})();const ar=(le,se)=>{se=se.replace(/[[\]\\]/g,"\\$&");const ee=new RegExp("[\\?&]"+se+"=([^&#]*)").exec(le);return ee?decodeURIComponent(ee[1].replace(/\+/g," ")):null},pr=(le,se,De,ee)=>{se&&se.addEventListener(De,Ve=>{ee.run(()=>{le.next(null!=Ve?Ve.detail:void 0)})})};let gr=(()=>{var le;class se{constructor(ee,Ve,Je,rn){(0,p.A)(this,"location",void 0),(0,p.A)(this,"serializer",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"topOutlet",void 0),(0,p.A)(this,"direction",Vr),(0,p.A)(this,"animated",di),(0,p.A)(this,"animationBuilder",void 0),(0,p.A)(this,"guessDirection","forward"),(0,p.A)(this,"guessAnimation",void 0),(0,p.A)(this,"lastNavId",-1),this.location=Ve,this.serializer=Je,this.router=rn,rn&&rn.events.subscribe(Un=>{if(Un instanceof St.Z){const Si=Un.restoredState?Un.restoredState.navigationId:Un.id;this.guessDirection=this.guessAnimation=Si<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Un.id:Si}}),ee.backButton.subscribeWithPriority(0,Un=>{this.pop(),Un()})}navigateForward(ee,Ve={}){return this.setDirection("forward",Ve.animated,Ve.animationDirection,Ve.animation),this.navigate(ee,Ve)}navigateBack(ee,Ve={}){return this.setDirection("back",Ve.animated,Ve.animationDirection,Ve.animation),this.navigate(ee,Ve)}navigateRoot(ee,Ve={}){return this.setDirection("root",Ve.animated,Ve.animationDirection,Ve.animation),this.navigate(ee,Ve)}back(ee={animated:!0,animationDirection:"back"}){return this.setDirection("back",ee.animated,ee.animationDirection,ee.animation),this.location.back()}pop(){var ee=this;return(0,b.A)(function*(){let Ve=ee.topOutlet;for(;Ve;){if(yield Ve.pop())return!0;Ve=Ve.parentOutlet}return!1})()}setDirection(ee,Ve,Je,rn){this.direction=ee,this.animated=Or(ee,Ve,Je),this.animationBuilder=rn}setTopOutlet(ee){this.topOutlet=ee}consumeTransition(){let Ve,ee="root";const Je=this.animationBuilder;return"auto"===this.direction?(ee=this.guessDirection,Ve=this.guessAnimation):(Ve=this.animated,ee=this.direction),this.direction=Vr,this.animated=di,this.animationBuilder=void 0,{direction:ee,animation:Ve,animationBuilder:Je}}navigate(ee,Ve){if(Array.isArray(ee))return this.router.navigate(ee,Ve);{const Je=this.serializer.parse(ee.toString());return void 0!==Ve.queryParams&&(Je.queryParams={...Ve.queryParams}),void 0!==Ve.fragment&&(Je.fragment=Ve.fragment),this.router.navigateByUrl(Je,Ve)}}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.KVO(Gi),Ue.KVO(k.aZ),Ue.KVO(St.Sd),Ue.KVO(St.Ix,8))}),(0,p.A)(se,"\u0275prov",Ue.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})),se})();const Or=(le,se,De)=>{if(!1!==se){if(void 0!==De)return De;if("forward"===le||"back"===le)return le;if("root"===le&&!0===se)return"forward"}},Vr="auto",di=void 0;let Ot=(()=>{var le;class se{get(ee,Ve){const Je=wn();return Je?Je.get(ee,Ve):null}getBoolean(ee,Ve){const Je=wn();return!!Je&&Je.getBoolean(ee,Ve)}getNumber(ee,Ve){const Je=wn();return Je?Je.getNumber(ee,Ve):0}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)}),(0,p.A)(se,"\u0275prov",Ue.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})),se})();const fn=new Ue.nKC("USERCONFIG"),wn=()=>{if(typeof window<"u"){const le=window.Ionic;if(null!=le&&le.config)return le.config}return null};class ai{constructor(se={}){(0,p.A)(this,"data",void 0),this.data=se,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(se){return this.data[se]}}let sr=(()=>{var le;class se{constructor(){(0,p.A)(this,"zone",(0,Ue.WQX)(Ue.SKi)),(0,p.A)(this,"applicationRef",(0,Ue.WQX)(Ue.o8S)),(0,p.A)(this,"config",(0,Ue.WQX)(fn))}create(ee,Ve,Je){var rn;return new Hr(ee,Ve,this.applicationRef,this.zone,Je,null!==(rn=this.config.useSetInputAPI)&&void 0!==rn&&rn)}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)}),(0,p.A)(se,"\u0275prov",Ue.jDH({token:le,factory:le.\u0275fac})),se})();class Hr{constructor(se,De,ee,Ve,Je,rn){(0,p.A)(this,"environmentInjector",void 0),(0,p.A)(this,"injector",void 0),(0,p.A)(this,"applicationRef",void 0),(0,p.A)(this,"zone",void 0),(0,p.A)(this,"elementReferenceKey",void 0),(0,p.A)(this,"enableSignalsSupport",void 0),(0,p.A)(this,"elRefMap",new WeakMap),(0,p.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=se,this.injector=De,this.applicationRef=ee,this.zone=Ve,this.elementReferenceKey=Je,this.enableSignalsSupport=rn}attachViewToDom(se,De,ee,Ve){return this.zone.run(()=>new Promise(Je=>{const rn={...ee};void 0!==this.elementReferenceKey&&(rn[this.elementReferenceKey]=se),Je(vr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,se,De,rn,Ve,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(se,De){return this.zone.run(()=>new Promise(ee=>{const Ve=this.elRefMap.get(De);if(Ve){Ve.destroy(),this.elRefMap.delete(De);const Je=this.elEventsMap.get(De);Je&&(Je(),this.elEventsMap.delete(De))}ee()}))}}const vr=(le,se,De,ee,Ve,Je,rn,Un,Si,xr,mr,ks)=>{const Xs=Ue.zZn.create({providers:cs(Si),parent:De}),Ys=(0,Ue.a0P)(Un,{environmentInjector:se,elementInjector:Xs}),vs=Ys.instance,Rs=Ys.location.nativeElement;if(Si)if(mr&&void 0!==vs[mr]&&console.error(`[Ionic Error]: ${mr} is a reserved property when using ${rn.tagName.toLowerCase()}. Rename or remove the "${mr}" property from ${Un.name}.`),!0===ks&&void 0!==Ys.setInput){const{modal:ur,popover:ro,...so}=Si;for(const Kr in so)Ys.setInput(Kr,so[Kr]);void 0!==ur&&Object.assign(vs,{modal:ur}),void 0!==ro&&Object.assign(vs,{popover:ro})}else Object.assign(vs,Si);if(xr)for(const ur of xr)Rs.classList.add(ur);const Js=Ei(le,vs,Rs);return rn.appendChild(Rs),ee.attachView(Ys.hostView),Ve.set(Rs,Ys),Je.set(Rs,Js),Rs},Ci=[Be.L,Be.a,Be.b,Be.c,Be.d],Ei=(le,se,De)=>le.run(()=>{const ee=Ci.filter(Ve=>"function"==typeof se[Ve]).map(Ve=>{const Je=rn=>se[Ve](rn.detail);return De.addEventListener(Ve,Je),()=>De.removeEventListener(Ve,Je)});return()=>ee.forEach(Ve=>Ve())}),lr=new Ue.nKC("NavParamsToken"),cs=le=>[{provide:lr,useValue:le},{provide:ai,useFactory:Lr,deps:[lr]}],Lr=le=>new ai(le),Fr=(le,se)=>{const De=le.prototype;se.forEach(ee=>{Object.defineProperty(De,ee,{get(){return this.el[ee]},set(Ve){this.z.runOutsideAngular(()=>this.el[ee]=Ve)}})})},wr=(le,se)=>{const De=le.prototype;se.forEach(ee=>{De[ee]=function(){const Ve=arguments;return this.z.runOutsideAngular(()=>this.el[ee].apply(this.el,Ve))}})},us=(le,se,De)=>{De.forEach(ee=>le[ee]=(0,Wn.R)(se,ee))};function zi(le){return function(De){const{defineCustomElementFn:ee,inputs:Ve,methods:Je}=le;return void 0!==ee&&ee(),Ve&&Fr(De,Ve),Je&&wr(De,Je),De}}const Ls=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],yr=["present","dismiss","onDidDismiss","onWillDismiss"];let hr=(()=>{var le;let se=((0,p.A)(le=class{constructor(ee,Ve,Je){(0,p.A)(this,"z",void 0),(0,p.A)(this,"template",void 0),(0,p.A)(this,"isCmpOpen",!1),(0,p.A)(this,"el",void 0),this.z=Je,this.el=Ve.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),us(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(Ue.gRc),Ue.rXU(Ue.aKT),Ue.rXU(Ue.SKi))}),(0,p.A)(le,"\u0275dir",Ue.FsC({type:le,selectors:[["ion-popover"]],contentQueries:function(ee,Ve,Je){if(1&ee&&Ue.wni(Je,Ue.C4Q,5),2&ee){let rn;Ue.mGM(rn=Ue.lsd())&&(Ve.template=rn.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),le);return se=(0,pn.Cg)([zi({inputs:Ls,methods:yr})],se),se})();const Fs=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],rt=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let g=(()=>{var le;let se=((0,p.A)(le=class{constructor(ee,Ve,Je){(0,p.A)(this,"z",void 0),(0,p.A)(this,"template",void 0),(0,p.A)(this,"isCmpOpen",!1),(0,p.A)(this,"el",void 0),this.z=Je,this.el=Ve.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),us(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(Ue.gRc),Ue.rXU(Ue.aKT),Ue.rXU(Ue.SKi))}),(0,p.A)(le,"\u0275dir",Ue.FsC({type:le,selectors:[["ion-modal"]],contentQueries:function(ee,Ve,Je){if(1&ee&&Ue.wni(Je,Ue.C4Q,5),2&ee){let rn;Ue.mGM(rn=Ue.lsd())&&(Ve.template=rn.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),le);return se=(0,pn.Cg)([zi({inputs:Fs,methods:rt})],se),se})();const ct=(le,se)=>((le=le.filter(De=>De.stackId!==se.stackId)).push(se),le),Oe=(le,se)=>{const De=le.createUrlTree(["."],{relativeTo:se});return le.serializeUrl(De)},Qe=(le,se)=>!se||le.stackId!==se.stackId,fe=(le,se)=>{if(!le)return;const De=Ie(se);for(let ee=0;ee<De.length;ee++){if(ee>=le.length)return De[ee];if(De[ee]!==le[ee])return}},Ie=le=>le.split("/").map(se=>se.trim()).filter(se=>""!==se),ye=le=>{le&&(le.ref.destroy(),le.unlistenEvents())};class we{constructor(se,De,ee,Ve,Je,rn){(0,p.A)(this,"containerEl",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"zone",void 0),(0,p.A)(this,"location",void 0),(0,p.A)(this,"views",[]),(0,p.A)(this,"runningTask",void 0),(0,p.A)(this,"skipTransition",!1),(0,p.A)(this,"tabsPrefix",void 0),(0,p.A)(this,"activeView",void 0),(0,p.A)(this,"nextId",0),this.containerEl=De,this.router=ee,this.navCtrl=Ve,this.zone=Je,this.location=rn,this.tabsPrefix=void 0!==se?Ie(se):void 0}createView(se,De){var ee;const Ve=Oe(this.router,De),Je=null==se||null===(ee=se.location)||void 0===ee?void 0:ee.nativeElement,rn=Ei(this.zone,se.instance,Je);return{id:this.nextId++,stackId:fe(this.tabsPrefix,Ve),unlistenEvents:rn,element:Je,ref:se,url:Ve}}getExistingView(se){const De=Oe(this.router,se),ee=this.views.find(Ve=>Ve.url===De);return ee&&ee.ref.changeDetectorRef.reattach(),ee}setActive(se){var De,ee;const Ve=this.navCtrl.consumeTransition();let{direction:Je,animation:rn,animationBuilder:Un}=Ve;const Si=this.activeView,xr=Qe(se,Si);xr&&(Je="back",rn=void 0);const mr=this.views.slice();let ks;const Xs=this.router;Xs.getCurrentNavigation?ks=Xs.getCurrentNavigation():null!==(De=Xs.navigations)&&void 0!==De&&De.value&&(ks=Xs.navigations.value),null!==(ee=ks)&&void 0!==ee&&null!==(ee=ee.extras)&&void 0!==ee&&ee.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ys=this.views.includes(se),vs=this.insertView(se,Je);Ys||se.ref.changeDetectorRef.detectChanges();const Rs=se.animationBuilder;return void 0===Un&&"back"===Je&&!xr&&void 0!==Rs&&(Un=Rs),Si&&(Si.animationBuilder=Un),this.zone.runOutsideAngular(()=>this.wait(()=>(Si&&Si.ref.changeDetectorRef.detach(),se.ref.changeDetectorRef.reattach(),this.transition(se,Si,rn,this.canGoBack(1),!1,Un).then(()=>I(se,vs,mr,this.location,this.zone)).then(()=>({enteringView:se,direction:Je,animation:rn,tabSwitch:xr})))))}canGoBack(se,De=this.getActiveStackId()){return this.getStack(De).length>se}pop(se,De=this.getActiveStackId()){return this.zone.run(()=>{const ee=this.getStack(De);if(ee.length<=se)return Promise.resolve(!1);const Ve=ee[ee.length-se-1];let Je=Ve.url;const rn=Ve.savedData;if(rn){var Un;const xr=rn.get("primary");null!=xr&&null!==(Un=xr.route)&&void 0!==Un&&null!==(Un=Un._routerState)&&void 0!==Un&&Un.snapshot.url&&(Je=xr.route._routerState.snapshot.url)}const{animationBuilder:Si}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Je,{...Ve.savedExtras,animation:Si}).then(()=>!0)})}startBackTransition(){const se=this.activeView;if(se){const De=this.getStack(se.stackId),ee=De[De.length-2],Ve=ee.animationBuilder;return this.wait(()=>this.transition(ee,se,"back",this.canGoBack(2),!0,Ve))}return Promise.resolve()}endBackTransition(se){se?(this.skipTransition=!0,this.pop(1)):this.activeView&&L(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(se){const De=this.getStack(se);return De.length>0?De[De.length-1]:void 0}getRootUrl(se){const De=this.getStack(se);return De.length>0?De[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ye),this.activeView=void 0,this.views=[]}getStack(se){return this.views.filter(De=>De.stackId===se)}insertView(se,De){return this.activeView=se,this.views=((le,se,De)=>"root"===De?ct(le,se):"forward"===De?((le,se)=>(le.indexOf(se)>=0?le=le.filter(ee=>ee.stackId!==se.stackId||ee.id<=se.id):le.push(se),le))(le,se):((le,se)=>le.indexOf(se)>=0?le.filter(ee=>ee.stackId!==se.stackId||ee.id<=se.id):ct(le,se))(le,se))(this.views,se,De),this.views.slice()}transition(se,De,ee,Ve,Je,rn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(De===se)return Promise.resolve(!1);const Un=se?se.element:void 0,Si=De?De.element:void 0,xr=this.containerEl;return Un&&Un!==Si&&(Un.classList.add("ion-page"),Un.classList.add("ion-page-invisible"),xr.commit)?xr.commit(Un,Si,{duration:void 0===ee?0:void 0,direction:ee,showGoBack:Ve,progressAnimation:Je,animationBuilder:rn}):Promise.resolve(!1)}wait(se){var De=this;return(0,b.A)(function*(){void 0!==De.runningTask&&(yield De.runningTask,De.runningTask=void 0);const ee=De.runningTask=se();return ee.finally(()=>De.runningTask=void 0),ee})()}}const I=(le,se,De,ee,Ve)=>"function"==typeof requestAnimationFrame?new Promise(Je=>{requestAnimationFrame(()=>{L(le,se,De,ee,Ve),Je()})}):Promise.resolve(),L=(le,se,De,ee,Ve)=>{Ve.run(()=>De.filter(Je=>!se.includes(Je)).forEach(ye)),se.forEach(Je=>{const Un=ee.path().split("?")[0].split("#")[0];if(Je!==le&&Je.url!==Un){const Si=Je.element;Si.setAttribute("aria-hidden","true"),Si.classList.add("ion-page-hidden"),Je.ref.changeDetectorRef.detach()}})};let N=(()=>{var le;class se{get activatedComponentRef(){return this.activated}set animation(ee){this.nativeEl.animation=ee}set animated(ee){this.nativeEl.animated=ee}set swipeGesture(ee){this._swipeGesture=ee,this.nativeEl.swipeHandler=ee?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Ve=>this.stackCtrl.endBackTransition(Ve)}:void 0}constructor(ee,Ve,Je,rn,Un,Si,xr,mr){(0,p.A)(this,"parentOutlet",void 0),(0,p.A)(this,"nativeEl",void 0),(0,p.A)(this,"activatedView",null),(0,p.A)(this,"tabsPrefix",void 0),(0,p.A)(this,"_swipeGesture",void 0),(0,p.A)(this,"stackCtrl",void 0),(0,p.A)(this,"proxyMap",new WeakMap),(0,p.A)(this,"currentActivatedRoute$",new si.t(null)),(0,p.A)(this,"activated",null),(0,p.A)(this,"_activatedRoute",null),(0,p.A)(this,"name",St.Xk),(0,p.A)(this,"stackWillChange",new Ue.bkB),(0,p.A)(this,"stackDidChange",new Ue.bkB),(0,p.A)(this,"activateEvents",new Ue.bkB),(0,p.A)(this,"deactivateEvents",new Ue.bkB),(0,p.A)(this,"parentContexts",(0,Ue.WQX)(St.Zp)),(0,p.A)(this,"location",(0,Ue.WQX)(Ue.c1b)),(0,p.A)(this,"environmentInjector",(0,Ue.WQX)(Ue.uvJ)),(0,p.A)(this,"inputBinder",(0,Ue.WQX)(K,{optional:!0})),(0,p.A)(this,"supportsBindingToComponentInputs",!0),(0,p.A)(this,"config",(0,Ue.WQX)(Ot)),(0,p.A)(this,"navCtrl",(0,Ue.WQX)(gr)),this.parentOutlet=mr,this.nativeEl=rn.nativeElement,this.name=ee||St.Xk,this.tabsPrefix="true"===Ve?Oe(Un,xr):void 0,this.stackCtrl=new we(this.tabsPrefix,this.nativeEl,Un,this.navCtrl,Si,Je),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ee;this.stackCtrl.destroy(),null===(ee=this.inputBinder)||void 0===ee||ee.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ee=this.getContext();null!=ee&&ee.route&&this.activateWith(ee.route,ee.injector)}new Promise(ee=>((le,se)=>{le.componentOnReady?le.componentOnReady().then(De=>se(De)):(le=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le)})(()=>se(le))})(this.nativeEl,ee)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ee,Ve){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Ve=this.getContext();this.activatedView.savedData=new Map(Ve.children.contexts);const Je=this.activatedView.savedData.get("primary");if(Je&&Ve.route&&(Je.route={...Ve.route}),this.activatedView.savedExtras={},Ve.route){const rn=Ve.route.snapshot;this.activatedView.savedExtras.queryParams=rn.queryParams,this.activatedView.savedExtras.fragment=rn.fragment}}const ee=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ee)}}activateWith(ee,Ve){var Je;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ee;let rn,Un=this.stackCtrl.getExistingView(ee);if(Un){rn=this.activated=Un.ref;const mr=Un.savedData;mr&&(this.getContext().children.contexts=mr),this.updateActivatedRouteProxy(rn.instance,ee)}else{var Si;const mr=ee._futureSnapshot,ks=this.parentContexts.getOrCreateContext(this.name).children,Xs=new si.t(null),Ys=this.createActivatedRouteProxy(Xs,ee),vs=new z(Ys,ks,this.location.injector),Rs=null!==(Si=mr.routeConfig.component)&&void 0!==Si?Si:mr.component;rn=this.activated=this.outletContent.createComponent(Rs,{index:this.outletContent.length,injector:vs,environmentInjector:null!=Ve?Ve:this.environmentInjector}),Xs.next(rn.instance),Un=this.stackCtrl.createView(this.activated,ee),this.proxyMap.set(rn.instance,Ys),this.currentActivatedRoute$.next({component:rn.instance,activatedRoute:ee})}null===(Je=this.inputBinder)||void 0===Je||Je.bindActivatedRouteToOutletComponent(this),this.activatedView=Un,this.navCtrl.setTopOutlet(this);const xr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Un,tabSwitch:Qe(Un,xr)}),this.stackCtrl.setActive(Un).then(mr=>{this.activateEvents.emit(rn.instance),this.stackDidChange.emit(mr)})}canGoBack(ee=1,Ve){return this.stackCtrl.canGoBack(ee,Ve)}pop(ee=1,Ve){return this.stackCtrl.pop(ee,Ve)}getLastUrl(ee){const Ve=this.stackCtrl.getLastUrl(ee);return Ve?Ve.url:void 0}getLastRouteView(ee){return this.stackCtrl.getLastUrl(ee)}getRootView(ee){return this.stackCtrl.getRootUrl(ee)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ee,Ve){const Je=new St.nX;return Je._futureSnapshot=Ve._futureSnapshot,Je._routerState=Ve._routerState,Je.snapshot=Ve.snapshot,Je.outlet=Ve.outlet,Je.component=Ve.component,Je._paramMap=this.proxyObservable(ee,"paramMap"),Je._queryParamMap=this.proxyObservable(ee,"queryParamMap"),Je.url=this.proxyObservable(ee,"url"),Je.params=this.proxyObservable(ee,"params"),Je.queryParams=this.proxyObservable(ee,"queryParams"),Je.fragment=this.proxyObservable(ee,"fragment"),Je.data=this.proxyObservable(ee,"data"),Je}proxyObservable(ee,Ve){return ee.pipe((0,pt.p)(Je=>!!Je),(0,_e.n)(Je=>this.currentActivatedRoute$.pipe((0,pt.p)(rn=>null!==rn&&rn.component===Je),(0,_e.n)(rn=>rn&&rn.activatedRoute[Ve]),function It(le,se=xe.D){return le=null!=le?le:Jt,(0,Ee.N)((De,ee)=>{let Ve,Je=!0;De.subscribe((0,lt._)(ee,rn=>{const Un=se(rn);(Je||!le(Ve,Un))&&(Je=!1,Ve=Un,ee.next(rn))}))})}())))}updateActivatedRouteProxy(ee,Ve){const Je=this.proxyMap.get(ee);if(!Je)throw new Error("Could not find activated route proxy for view");Je._futureSnapshot=Ve._futureSnapshot,Je._routerState=Ve._routerState,Je.snapshot=Ve.snapshot,Je.outlet=Ve.outlet,Je.component=Ve.component,this.currentActivatedRoute$.next({component:ee,activatedRoute:Ve})}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.kS0("name"),Ue.kS0("tabs"),Ue.rXU(k.aZ),Ue.rXU(Ue.aKT),Ue.rXU(St.Ix),Ue.rXU(Ue.SKi),Ue.rXU(St.nX),Ue.rXU(le,12))}),(0,p.A)(se,"\u0275dir",Ue.FsC({type:le,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),se})();class z{constructor(se,De,ee){(0,p.A)(this,"route",void 0),(0,p.A)(this,"childContexts",void 0),(0,p.A)(this,"parent",void 0),this.route=se,this.childContexts=De,this.parent=ee}get(se,De){return se===St.nX?this.route:se===St.Zp?this.childContexts:this.parent.get(se,De)}}const K=new Ue.nKC("");let G=(()=>{var le;class se{constructor(){(0,p.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ee){this.unsubscribeFromRouteData(ee),this.subscribeToRouteData(ee)}unsubscribeFromRouteData(ee){var Ve;null===(Ve=this.outletDataSubscriptions.get(ee))||void 0===Ve||Ve.unsubscribe(),this.outletDataSubscriptions.delete(ee)}subscribeToRouteData(ee){const{activatedRoute:Ve}=ee,Je=(0,Cn.z)([Ve.queryParams,Ve.params,Ve.data]).pipe((0,_e.n)(([rn,Un,Si],xr)=>(Si={...rn,...Un,...Si},0===xr?(0,Zn.of)(Si):Promise.resolve(Si)))).subscribe(rn=>{if(!ee.isActivated||!ee.activatedComponentRef||ee.activatedRoute!==Ve||null===Ve.component)return void this.unsubscribeFromRouteData(ee);const Un=(0,Ue.HJs)(Ve.component);if(Un)for(const{templateName:Si}of Un.inputs)ee.activatedComponentRef.setInput(Si,rn[Si]);else this.unsubscribeFromRouteData(ee)});this.outletDataSubscriptions.set(ee,Je)}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)}),(0,p.A)(se,"\u0275prov",Ue.jDH({token:le,factory:le.\u0275fac})),se})();const he=()=>({provide:K,useFactory:me,deps:[St.Ix]});function me(le){return null!=le&&le.componentInputBindingEnabled?new G:null}const ve=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let ft=(()=>{var le;let se=((0,p.A)(le=class{constructor(ee,Ve,Je,rn,Un,Si){(0,p.A)(this,"routerOutlet",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"config",void 0),(0,p.A)(this,"r",void 0),(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.routerOutlet=ee,this.navCtrl=Ve,this.config=Je,this.r=rn,this.z=Un,Si.detach(),this.el=this.r.nativeElement}onClick(ee){var Ve;const Je=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Ve=this.routerOutlet)&&void 0!==Ve&&Ve.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ee.preventDefault()):null!=Je&&(this.navCtrl.navigateBack(Je,{animation:this.routerAnimation}),ee.preventDefault())}},"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(N,8),Ue.rXU(gr),Ue.rXU(Ot),Ue.rXU(Ue.aKT),Ue.rXU(Ue.SKi),Ue.rXU(Ue.gRc))}),(0,p.A)(le,"\u0275dir",Ue.FsC({type:le,hostBindings:function(ee,Ve){1&ee&&Ue.bIt("click",function(rn){return Ve.onClick(rn)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),le);return se=(0,pn.Cg)([zi({inputs:ve})],se),se})(),bt=(()=>{var le;class se{constructor(ee,Ve,Je,rn,Un){(0,p.A)(this,"locationStrategy",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"routerLink",void 0),(0,p.A)(this,"routerDirection","forward"),(0,p.A)(this,"routerAnimation",void 0),this.locationStrategy=ee,this.navCtrl=Ve,this.elementRef=Je,this.router=rn,this.routerLink=Un}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Ve=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ve}}onClick(ee){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ee.preventDefault()}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(k.hb),Ue.rXU(gr),Ue.rXU(Ue.aKT),Ue.rXU(St.Ix),Ue.rXU(St.Wk,8))}),(0,p.A)(se,"\u0275dir",Ue.FsC({type:le,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ee,Ve){1&ee&&Ue.bIt("click",function(rn){return Ve.onClick(rn)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Ue.OA$]})),se})(),Pt=(()=>{var le;class se{constructor(ee,Ve,Je,rn,Un){(0,p.A)(this,"locationStrategy",void 0),(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"router",void 0),(0,p.A)(this,"routerLink",void 0),(0,p.A)(this,"routerDirection","forward"),(0,p.A)(this,"routerAnimation",void 0),this.locationStrategy=ee,this.navCtrl=Ve,this.elementRef=Je,this.router=rn,this.routerLink=Un}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Ve=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ve}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(k.hb),Ue.rXU(gr),Ue.rXU(Ue.aKT),Ue.rXU(St.Ix),Ue.rXU(St.Wk,8))}),(0,p.A)(se,"\u0275dir",Ue.FsC({type:le,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ee,Ve){1&ee&&Ue.bIt("click",function(){return Ve.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Ue.OA$]})),se})();const Et=["animated","animation","root","rootParams","swipeGesture"],ht=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let _n=(()=>{var le;let se=((0,p.A)(le=class{constructor(ee,Ve,Je,rn,Un,Si){(0,p.A)(this,"z",void 0),(0,p.A)(this,"el",void 0),this.z=Un,Si.detach(),this.el=ee.nativeElement,ee.nativeElement.delegate=rn.create(Ve,Je),us(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(Ue.aKT),Ue.rXU(Ue.uvJ),Ue.rXU(Ue.zZn),Ue.rXU(sr),Ue.rXU(Ue.SKi),Ue.rXU(Ue.gRc))}),(0,p.A)(le,"\u0275dir",Ue.FsC({type:le,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),le);return se=(0,pn.Cg)([zi({inputs:Et,methods:ht})],se),se})(),Qt=(()=>{var le;class se{constructor(ee){(0,p.A)(this,"navCtrl",void 0),(0,p.A)(this,"tabsInner",void 0),(0,p.A)(this,"ionTabsWillChange",new Ue.bkB),(0,p.A)(this,"ionTabsDidChange",new Ue.bkB),(0,p.A)(this,"tabBarSlot","bottom"),this.navCtrl=ee}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ee,tabSwitch:Ve}){const Je=ee.stackId;Ve&&void 0!==Je&&this.ionTabsWillChange.emit({tab:Je})}onStackDidChange({enteringView:ee,tabSwitch:Ve}){const Je=ee.stackId;Ve&&void 0!==Je&&(this.tabBar&&(this.tabBar.selectedTab=Je),this.ionTabsDidChange.emit({tab:Je}))}select(ee){const Ve="string"==typeof ee,Je=Ve?ee:ee.detail.tab,rn=this.outlet.getActiveStackId()===Je,Un=`${this.outlet.tabsPrefix}/${Je}`;if(Ve||ee.stopPropagation(),rn){const Si=this.outlet.getActiveStackId(),xr=this.outlet.getLastRouteView(Si);if((null==xr?void 0:xr.url)===Un)return;const mr=this.outlet.getRootView(Je);return this.navCtrl.navigateRoot(Un,{...mr&&Un===mr.url&&mr.savedExtras,animated:!0,animationDirection:"back"})}{const Si=this.outlet.getLastRouteView(Je);return this.navCtrl.navigateRoot((null==Si?void 0:Si.url)||Un,{...null==Si?void 0:Si.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ee=>{const Ve=ee.el.getAttribute("slot");Ve!==this.tabBarSlot&&(this.tabBarSlot=Ve,this.relocateTabBar())})}relocateTabBar(){const ee=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ee):this.tabsInner.nativeElement.after(ee)}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(gr))}),(0,p.A)(se,"\u0275dir",Ue.FsC({type:le,selectors:[["ion-tabs"]],viewQuery:function(ee,Ve){if(1&ee&&Ue.GBs(Kn,7,Ue.aKT),2&ee){let Je;Ue.mGM(Je=Ue.lsd())&&(Ve.tabsInner=Je.first)}},hostBindings:function(ee,Ve){1&ee&&Ue.bIt("ionTabButtonClick",function(rn){return Ve.select(rn)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),se})();const cn=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le);let en=(()=>{var le;class se{constructor(ee,Ve){(0,p.A)(this,"injector",void 0),(0,p.A)(this,"elementRef",void 0),(0,p.A)(this,"onChange",()=>{}),(0,p.A)(this,"onTouched",()=>{}),(0,p.A)(this,"lastValue",void 0),(0,p.A)(this,"statusChanges",void 0),this.injector=ee,this.elementRef=Ve}writeValue(ee){this.elementRef.nativeElement.value=this.lastValue=ee,Wt(this.elementRef)}handleValueChange(ee,Ve){ee===this.elementRef.nativeElement&&(Ve!==this.lastValue&&(this.lastValue=Ve,this.onChange(Ve)),Wt(this.elementRef))}_handleBlurEvent(ee){ee===this.elementRef.nativeElement&&(this.onTouched(),Wt(this.elementRef))}registerOnChange(ee){this.onChange=ee}registerOnTouched(ee){this.onTouched=ee}setDisabledState(ee){this.elementRef.nativeElement.disabled=ee}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ee;try{ee=this.injector.get(wt.vO)}catch{}if(!ee)return;ee.statusChanges&&(this.statusChanges=ee.statusChanges.subscribe(()=>Wt(this.elementRef)));const Ve=ee.control;Ve&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(rn=>{if(typeof Ve[rn]<"u"){const Un=Ve[rn].bind(Ve);Ve[rn]=(...Si)=>{Un(...Si),Wt(this.elementRef)}}})}}return le=se,(0,p.A)(se,"\u0275fac",function(ee){return new(ee||le)(Ue.rXU(Ue.zZn),Ue.rXU(Ue.aKT))}),(0,p.A)(se,"\u0275dir",Ue.FsC({type:le,hostBindings:function(ee,Ve){1&ee&&Ue.bIt("ionBlur",function(rn){return Ve._handleBlurEvent(rn.target)})}})),se})();const Wt=le=>{cn(()=>{const se=le.nativeElement,De=null!=se.value&&se.value.toString().length>0,ee=un(se);kn(se,ee);const Ve=se.closest("ion-item");Ve&&kn(Ve,De?[...ee,"item-has-value"]:ee)})},un=le=>{const se=le.classList,De=[];for(let ee=0;ee<se.length;ee++){const Ve=se.item(ee);null!==Ve&&Vt(Ve,"ng-")&&De.push(`ion-${Ve.substring(3)}`)}return De},kn=(le,se)=>{const De=le.classList;De.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),De.add(...se)},Vt=(le,se)=>le.substring(0,se.length)===se;class on{shouldDetach(se){return!1}shouldAttach(se){return!1}store(se,De){}retrieve(se){return null}shouldReuseRoute(se,De){if(se.routeConfig!==De.routeConfig)return!1;const ee=se.params,Ve=De.params,Je=Object.keys(ee),rn=Object.keys(Ve);if(Je.length!==rn.length)return!1;for(const Un of Je)if(Ve[Un]!==ee[Un])return!1;return!0}}class gi{constructor(se){(0,p.A)(this,"ctrl",void 0),this.ctrl=se}create(se){return this.ctrl.create(se||{})}dismiss(se,De,ee){return this.ctrl.dismiss(se,De,ee)}getTop(){return this.ctrl.getTop()}}},7863:(Bi,xn,pe)=>{"use strict";pe.d(xn,{U1:()=>Gi,b_:()=>fn,I9:()=>wn,ME:()=>ai,tN:()=>Hr,hU:()=>Ei,W9:()=>lr,lO:()=>Ls,eU:()=>yr,iq:()=>hr,KW:()=>Fs,he:()=>ye,Rg:()=>vs,ln:()=>kn,Gp:()=>on,eP:()=>gi,bv:()=>bo,Je:()=>_e});var b=pe(9842),p=pe(4438),Ue=pe(4341),St=pe(3656),k=pe(1635),Nt=pe(3726),Be=pe(177),je=pe(70),ut=(pe(9986),pe(2725),pe(8454),pe(3314),pe(8607),pe(3664)),Lt=pe(464),zt=(pe(5465),pe(6002)),vn=(pe(8476),pe(9672));pe(1970),pe(6411);var tn=pe(467);const an=ut.i,gt=function(){var V=(0,tn.A)(function*(ce,Le){if(!(typeof window>"u"))return yield an(),(0,vn.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Le)});return function(Le,j){return V.apply(this,arguments)}}(),qe=["*"],Dt=["outletContent"];let _e=(()=>{var V;class ce extends St.fL{constructor(j,ze){super(j,ze)}_handleChangeEvent(j){this.handleValueChange(j,j.value)}}return V=ce,(0,b.A)(ce,"\u0275fac",function(j){return new(j||V)(p.rXU(p.zZn),p.rXU(p.aKT))}),(0,b.A)(ce,"\u0275dir",p.FsC({type:V,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(j,ze){1&j&&p.bIt("ionChange",function(or){return ze._handleChangeEvent(or.target)})},features:[p.Jv_([{provide:Ue.kq,useExisting:V,multi:!0}]),p.Vt3]})),ce})();const Ee=(V,ce)=>{const Le=V.prototype;ce.forEach(j=>{Object.defineProperty(Le,j,{get(){return this.el[j]},set(ze){this.z.runOutsideAngular(()=>this.el[j]=ze)},configurable:!0})})},lt=(V,ce)=>{const Le=V.prototype;ce.forEach(j=>{Le[j]=function(){const ze=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,ze))}})},It=(V,ce,Le)=>{Le.forEach(j=>V[j]=(0,Nt.R)(ce,j))};function wt(V){return function(Le){const{defineCustomElementFn:j,inputs:ze,methods:Tt}=V;return void 0!==j&&j(),ze&&Ee(Le,ze),Tt&&lt(Le,Tt),Le}}let Gi=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-app"]],ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({})],ce),ce})(),fn=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],ce),ce})(),wn=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["mode"]})],ce),ce})(),ai=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","mode","translucent"]})],ce),ce})(),Hr=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","mode"]})],ce),ce})(),Ei=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],ce),ce})(),lr=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement,It(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],ce),ce})(),Ls=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["fixed"]})],ce),ce})(),yr=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["collapse","mode","translucent"]})],ce),ce})(),hr=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],ce),ce})(),Fs=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement,It(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["alt","src"]})],ce),ce})(),ye=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","mode","position"]})],ce),ce})(),kn=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-row"]],ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({})],ce),ce})(),on=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement,It(this,this.el,["ionChange"])}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],ce),ce})(),gi=(()=>{var V;let ce=((0,b.A)(V=class{constructor(j,ze,Tt){(0,b.A)(this,"z",void 0),(0,b.A)(this,"el",void 0),this.z=Tt,j.detach(),this.el=ze.nativeElement}},"\u0275fac",function(j){return new(j||V)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi))}),(0,b.A)(V,"\u0275cmp",p.VBU({type:V,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:qe,decls:1,vars:0,template:function(j,ze){1&j&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})),V);return ce=(0,k.Cg)([wt({inputs:["disabled","layout","mode","type","value"]})],ce),ce})(),vs=(()=>{var V;class ce extends St.Rg{constructor(j,ze,Tt,or,qs,te,Ae,Ke){super(j,ze,Tt,or,qs,te,Ae,Ke),(0,b.A)(this,"parentOutlet",void 0),(0,b.A)(this,"outletContent",void 0),this.parentOutlet=Ke}}return V=ce,(0,b.A)(ce,"\u0275fac",function(j){return new(j||V)(p.kS0("name"),p.kS0("tabs"),p.rXU(Be.aZ),p.rXU(p.aKT),p.rXU(je.Ix),p.rXU(p.SKi),p.rXU(je.nX),p.rXU(V,12))}),(0,b.A)(ce,"\u0275cmp",p.VBU({type:V,selectors:[["ion-router-outlet"]],viewQuery:function(j,ze){if(1&j&&p.GBs(Dt,7,p.c1b),2&j){let Tt;p.mGM(Tt=p.lsd())&&(ze.outletContent=Tt.first)}},features:[p.Vt3],ngContentSelectors:qe,decls:3,vars:0,consts:[["outletContent",""]],template:function(j,ze){1&j&&(p.NAR(),p.qex(0,null,0),p.SdG(2),p.bVm())},encapsulation:2})),ce})();const Ji={provide:Ue.cz,useExisting:(0,p.Rfq)(()=>kr),multi:!0};let kr=(()=>{var V;class ce extends Ue.zX{}return V=ce,(0,b.A)(ce,"\u0275fac",(()=>{let Le;return function(ze){return(Le||(Le=p.xGo(V)))(ze||V)}})()),(0,b.A)(ce,"\u0275dir",p.FsC({type:V,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,ze){2&j&&p.BMQ("max",ze._enabled?ze.max:null)},features:[p.Jv_([Ji]),p.Vt3]})),ce})();const Ro={provide:Ue.cz,useExisting:(0,p.Rfq)(()=>_r),multi:!0};let _r=(()=>{var V;class ce extends Ue.VZ{}return V=ce,(0,b.A)(ce,"\u0275fac",(()=>{let Le;return function(ze){return(Le||(Le=p.xGo(V)))(ze||V)}})()),(0,b.A)(ce,"\u0275dir",p.FsC({type:V,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,ze){2&j&&p.BMQ("min",ze._enabled?ze.min:null)},features:[p.Jv_([Ro]),p.Vt3]})),ce})(),ja=(()=>{var V;class ce extends St.Kb{constructor(){super(zt.m),(0,b.A)(this,"angularDelegate",(0,p.WQX)(St.Yq)),(0,b.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,b.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(j){return super.create({...j,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return V=ce,(0,b.A)(ce,"\u0275fac",function(j){return new(j||V)}),(0,b.A)(ce,"\u0275prov",p.jDH({token:V,factory:V.\u0275fac})),ce})();class fa extends St.Kb{constructor(){super(zt.c),(0,b.A)(this,"angularDelegate",(0,p.WQX)(St.Yq)),(0,b.A)(this,"injector",(0,p.WQX)(p.zZn)),(0,b.A)(this,"environmentInjector",(0,p.WQX)(p.uvJ))}create(ce){return super.create({...ce,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Yo=(V,ce,Le)=>()=>{const j=ce.defaultView;if(j&&typeof window<"u"){(0,Lt.s)({...V,_zoneGate:Tt=>Le.run(Tt)});const ze="__zone_symbol__addEventListener"in ce.body?"__zone_symbol__addEventListener":"addEventListener";return function Ut(){var V=[];if(typeof window<"u"){var ce=window;(!ce.customElements||ce.Element&&(!ce.Element.prototype.closest||!ce.Element.prototype.matches||!ce.Element.prototype.remove||!ce.Element.prototype.getRootNode))&&V.push(pe.e(7278).then(pe.t.bind(pe,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||ce.NodeList&&!ce.NodeList.prototype.forEach||!ce.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&V.push(pe.e(9329).then(pe.t.bind(pe,7783,23)))}return Promise.all(V)}().then(()=>gt(j,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:St.er,jmp:Tt=>Le.runOutsideAngular(Tt),ael(Tt,or,qs,te){Tt[ze](or,qs,te)},rel(Tt,or,qs,te){Tt.removeEventListener(or,qs,te)}}))}};let bo=(()=>{var V;class ce{static forRoot(j={}){return{ngModule:ce,providers:[{provide:St.sR,useValue:j},{provide:p.hnV,useFactory:Yo,multi:!0,deps:[St.sR,Be.qQ,p.SKi]},St.Yq,(0,St.YV)()]}}}return V=ce,(0,b.A)(ce,"\u0275fac",function(j){return new(j||V)}),(0,b.A)(ce,"\u0275mod",p.$C({type:V})),(0,b.A)(ce,"\u0275inj",p.G2t({providers:[ja,fa],imports:[Be.MD]})),ce})()},7606:(Bi,xn,pe)=>{"use strict";function b(Be){return null!==Be&&"object"==typeof Be&&"constructor"in Be&&Be.constructor===Object}function p(Be,je){void 0===Be&&(Be={}),void 0===je&&(je={}),Object.keys(je).forEach(Zt=>{typeof Be[Zt]>"u"?Be[Zt]=je[Zt]:b(je[Zt])&&b(Be[Zt])&&Object.keys(je[Zt]).length>0&&p(Be[Zt],je[Zt])})}pe.d(xn,{a:()=>Nt,g:()=>St});const Ue={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function St(){const Be=typeof document<"u"?document:{};return p(Be,Ue),Be}const k={document:Ue,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:Be=>typeof setTimeout>"u"?(Be(),null):setTimeout(Be,0),cancelAnimationFrame(Be){typeof setTimeout>"u"||clearTimeout(Be)}};function Nt(){const Be=typeof window<"u"?window:{};return p(Be,k),Be}},8132:(Bi,xn,pe)=>{"use strict";pe.d(xn,{S:()=>we,d:()=>Qe});var b=pe(7606),p=pe(4015);let Ue,Nt,Zt;function k(){return Ue||(Ue=function St(){const I=(0,b.a)(),L=(0,b.g)();return{smoothScroll:L.documentElement&&L.documentElement.style&&"scrollBehavior"in L.documentElement.style,touch:!!("ontouchstart"in I||I.DocumentTouch&&L instanceof I.DocumentTouch)}}()),Ue}function je(I){return void 0===I&&(I={}),Nt||(Nt=function Be(I){let{userAgent:L}=void 0===I?{}:I;const N=k(),z=(0,b.a)(),K=z.navigator.platform,G=L||z.navigator.userAgent,he={ios:!1,android:!1},me=z.screen.width,ve=z.screen.height,ft=G.match(/(Android);?[\s\/]+([\d.]+)?/);let bt=G.match(/(iPad).*OS\s([\d_]+)/);const Pt=G.match(/(iPod)(.*OS\s([\d_]+))?/),Et=!bt&&G.match(/(iPhone\sOS|iOS)\s([\d_]+)/),ht="Win32"===K;let _n="MacIntel"===K;return!bt&&_n&&N.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${me}x${ve}`)>=0&&(bt=G.match(/(Version)\/([\d.]+)/),bt||(bt=[0,1,"13_0_0"]),_n=!1),ft&&!ht&&(he.os="android",he.android=!0),(bt||Et||Pt)&&(he.os="ios",he.ios=!0),he}(I)),Nt}const vn=(I,L,N)=>{L&&!I.classList.contains(N)?I.classList.add(N):!L&&I.classList.contains(N)&&I.classList.remove(N)},nt=(I,L,N)=>{L&&!I.classList.contains(N)?I.classList.add(N):!L&&I.classList.contains(N)&&I.classList.remove(N)},tn=(I,L)=>{if(!I||I.destroyed||!I.params)return;const z=L.closest(I.isElement?"swiper-slide":`.${I.params.slideClass}`);if(z){let K=z.querySelector(`.${I.params.lazyPreloaderClass}`);!K&&I.isElement&&(z.shadowRoot?K=z.shadowRoot.querySelector(`.${I.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{z.shadowRoot&&(K=z.shadowRoot.querySelector(`.${I.params.lazyPreloaderClass}`),K&&K.remove())})),K&&K.remove()}},an=(I,L)=>{if(!I.slides[L])return;const N=I.slides[L].querySelector('[loading="lazy"]');N&&N.removeAttribute("loading")},gt=I=>{if(!I||I.destroyed||!I.params)return;let L=I.params.lazyPreloadPrevNext;const N=I.slides.length;if(!N||!L||L<0)return;L=Math.min(L,N);const z="auto"===I.params.slidesPerView?I.slidesPerViewDynamic():Math.ceil(I.params.slidesPerView),K=I.activeIndex;if(I.params.grid&&I.params.grid.rows>1){const he=K,me=[he-L];return me.push(...Array.from({length:L}).map((ve,ft)=>he+z+ft)),void I.slides.forEach((ve,ft)=>{me.includes(ve.column)&&an(I,ft)})}const G=K+z-1;if(I.params.rewind||I.params.loop)for(let he=K-L;he<=G+L;he+=1){const me=(he%N+N)%N;(me<K||me>G)&&an(I,me)}else for(let he=Math.max(K-L,0);he<=Math.min(G+L,N-1);he+=1)he!==K&&(he>G||he<K)&&an(I,he)};function Ee(I){let{swiper:L,runCallbacks:N,direction:z,step:K}=I;const{activeIndex:G,previousIndex:he}=L;let me=z;if(me||(me=G>he?"next":G<he?"prev":"reset"),L.emit(`transition${K}`),N&&G!==he){if("reset"===me)return void L.emit(`slideResetTransition${K}`);L.emit(`slideChangeTransition${K}`),L.emit("next"===me?`slideNextTransition${K}`:`slidePrevTransition${K}`)}}function sr(I,L,N){const z=(0,b.a)(),{params:K}=I,G=K.edgeSwipeDetection,he=K.edgeSwipeThreshold;return!G||!(N<=he||N>=z.innerWidth-he)||"prevent"===G&&(L.preventDefault(),!0)}function Hr(I){const L=this,N=(0,b.g)();let z=I;z.originalEvent&&(z=z.originalEvent);const K=L.touchEventsData;if("pointerdown"===z.type){if(null!==K.pointerId&&K.pointerId!==z.pointerId)return;K.pointerId=z.pointerId}else"touchstart"===z.type&&1===z.targetTouches.length&&(K.touchId=z.targetTouches[0].identifier);if("touchstart"===z.type)return void sr(L,z,z.targetTouches[0].pageX);const{params:G,touches:he,enabled:me}=L;if(!me||!G.simulateTouch&&"mouse"===z.pointerType||L.animating&&G.preventInteractionOnTransition)return;!L.animating&&G.cssMode&&G.loop&&L.loopFix();let ve=z.target;if("wrapper"===G.touchEventsTarget&&!L.wrapperEl.contains(ve)||"which"in z&&3===z.which||"button"in z&&z.button>0||K.isTouched&&K.isMoved)return;const ft=!!G.noSwipingClass&&""!==G.noSwipingClass,bt=z.composedPath?z.composedPath():z.path;ft&&z.target&&z.target.shadowRoot&&bt&&(ve=bt[0]);const Pt=G.noSwipingSelector?G.noSwipingSelector:`.${G.noSwipingClass}`;if(G.noSwiping&&(z.target&&z.target.shadowRoot?function ai(I,L){return void 0===L&&(L=this),function N(z){if(!z||z===(0,b.g)()||z===(0,b.a)())return null;z.assignedSlot&&(z=z.assignedSlot);const K=z.closest(I);return K||z.getRootNode?K||N(z.getRootNode().host):null}(L)}(Pt,ve):ve.closest(Pt)))return void(L.allowClick=!0);if(G.swipeHandler&&!ve.closest(G.swipeHandler))return;he.currentX=z.pageX,he.currentY=z.pageY;const ht=he.currentX,_n=he.currentY;if(!sr(L,z,ht))return;Object.assign(K,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),he.startX=ht,he.startY=_n,K.touchStartTime=(0,p.d)(),L.allowClick=!0,L.updateSize(),L.swipeDirection=void 0,G.threshold>0&&(K.allowThresholdMove=!1);let Qt=!0;ve.matches(K.focusableElements)&&(Qt=!1,"SELECT"===ve.nodeName&&(K.isTouched=!1)),N.activeElement&&N.activeElement.matches(K.focusableElements)&&N.activeElement!==ve&&N.activeElement.blur(),(G.touchStartForcePreventDefault||Qt&&L.allowTouchMove&&G.touchStartPreventDefault)&&!ve.isContentEditable&&z.preventDefault(),G.freeMode&&G.freeMode.enabled&&L.freeMode&&L.animating&&!G.cssMode&&L.freeMode.onTouchStart(),L.emit("touchStart",z)}function vr(I){const L=(0,b.g)(),N=this,z=N.touchEventsData,{params:K,touches:G,rtlTranslate:he,enabled:me}=N;if(!me||!K.simulateTouch&&"mouse"===I.pointerType)return;let ft,ve=I;if(ve.originalEvent&&(ve=ve.originalEvent),"pointermove"===ve.type&&(null!==z.touchId||ve.pointerId!==z.pointerId))return;if("touchmove"===ve.type){if(ft=[...ve.changedTouches].filter(on=>on.identifier===z.touchId)[0],!ft||ft.identifier!==z.touchId)return}else ft=ve;if(!z.isTouched)return void(z.startMoving&&z.isScrolling&&N.emit("touchMoveOpposite",ve));const bt=ft.pageX,Pt=ft.pageY;if(ve.preventedByNestedSwiper)return G.startX=bt,void(G.startY=Pt);if(!N.allowTouchMove)return ve.target.matches(z.focusableElements)||(N.allowClick=!1),void(z.isTouched&&(Object.assign(G,{startX:bt,startY:Pt,currentX:bt,currentY:Pt}),z.touchStartTime=(0,p.d)()));if(K.touchReleaseOnEdges&&!K.loop)if(N.isVertical()){if(Pt<G.startY&&N.translate<=N.maxTranslate()||Pt>G.startY&&N.translate>=N.minTranslate())return z.isTouched=!1,void(z.isMoved=!1)}else if(bt<G.startX&&N.translate<=N.maxTranslate()||bt>G.startX&&N.translate>=N.minTranslate())return;if(L.activeElement&&ve.target===L.activeElement&&ve.target.matches(z.focusableElements))return z.isMoved=!0,void(N.allowClick=!1);z.allowTouchCallbacks&&N.emit("touchMove",ve),G.previousX=G.currentX,G.previousY=G.currentY,G.currentX=bt,G.currentY=Pt;const Et=G.currentX-G.startX,ht=G.currentY-G.startY;if(N.params.threshold&&Math.sqrt(Et**2+ht**2)<N.params.threshold)return;if(typeof z.isScrolling>"u"){let on;N.isHorizontal()&&G.currentY===G.startY||N.isVertical()&&G.currentX===G.startX?z.isScrolling=!1:Et*Et+ht*ht>=25&&(on=180*Math.atan2(Math.abs(ht),Math.abs(Et))/Math.PI,z.isScrolling=N.isHorizontal()?on>K.touchAngle:90-on>K.touchAngle)}if(z.isScrolling&&N.emit("touchMoveOpposite",ve),typeof z.startMoving>"u"&&(G.currentX!==G.startX||G.currentY!==G.startY)&&(z.startMoving=!0),z.isScrolling||"touchmove"===ve.type&&z.preventTouchMoveFromPointerMove)return void(z.isTouched=!1);if(!z.startMoving)return;N.allowClick=!1,!K.cssMode&&ve.cancelable&&ve.preventDefault(),K.touchMoveStopPropagation&&!K.nested&&ve.stopPropagation();let _n=N.isHorizontal()?Et:ht,Qt=N.isHorizontal()?G.currentX-G.previousX:G.currentY-G.previousY;K.oneWayMovement&&(_n=Math.abs(_n)*(he?1:-1),Qt=Math.abs(Qt)*(he?1:-1)),G.diff=_n,_n*=K.touchRatio,he&&(_n=-_n,Qt=-Qt);const cn=N.touchesDirection;N.swipeDirection=_n>0?"prev":"next",N.touchesDirection=Qt>0?"prev":"next";const en=N.params.loop&&!K.cssMode,Wt="next"===N.touchesDirection&&N.allowSlideNext||"prev"===N.touchesDirection&&N.allowSlidePrev;if(!z.isMoved){if(en&&Wt&&N.loopFix({direction:N.swipeDirection}),z.startTranslate=N.getTranslate(),N.setTransition(0),N.animating){const on=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});N.wrapperEl.dispatchEvent(on)}z.allowMomentumBounce=!1,K.grabCursor&&(!0===N.allowSlideNext||!0===N.allowSlidePrev)&&N.setGrabCursor(!0),N.emit("sliderFirstMove",ve)}if((new Date).getTime(),z.isMoved&&z.allowThresholdMove&&cn!==N.touchesDirection&&en&&Wt&&Math.abs(_n)>=1)return Object.assign(G,{startX:bt,startY:Pt,currentX:bt,currentY:Pt,startTranslate:z.currentTranslate}),z.loopSwapReset=!0,void(z.startTranslate=z.currentTranslate);N.emit("sliderMove",ve),z.isMoved=!0,z.currentTranslate=_n+z.startTranslate;let kn=!0,Vt=K.resistanceRatio;if(K.touchReleaseOnEdges&&(Vt=0),_n>0?(en&&Wt&&z.allowThresholdMove&&z.currentTranslate>(K.centeredSlides?N.minTranslate()-N.slidesSizesGrid[N.activeIndex+1]:N.minTranslate())&&N.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),z.currentTranslate>N.minTranslate()&&(kn=!1,K.resistance&&(z.currentTranslate=N.minTranslate()-1+(-N.minTranslate()+z.startTranslate+_n)**Vt))):_n<0&&(en&&Wt&&z.allowThresholdMove&&z.currentTranslate<(K.centeredSlides?N.maxTranslate()+N.slidesSizesGrid[N.slidesSizesGrid.length-1]:N.maxTranslate())&&N.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:N.slides.length-("auto"===K.slidesPerView?N.slidesPerViewDynamic():Math.ceil(parseFloat(K.slidesPerView,10)))}),z.currentTranslate<N.maxTranslate()&&(kn=!1,K.resistance&&(z.currentTranslate=N.maxTranslate()+1-(N.maxTranslate()-z.startTranslate-_n)**Vt))),kn&&(ve.preventedByNestedSwiper=!0),!N.allowSlideNext&&"next"===N.swipeDirection&&z.currentTranslate<z.startTranslate&&(z.currentTranslate=z.startTranslate),!N.allowSlidePrev&&"prev"===N.swipeDirection&&z.currentTranslate>z.startTranslate&&(z.currentTranslate=z.startTranslate),!N.allowSlidePrev&&!N.allowSlideNext&&(z.currentTranslate=z.startTranslate),K.threshold>0){if(!(Math.abs(_n)>K.threshold||z.allowThresholdMove))return void(z.currentTranslate=z.startTranslate);if(!z.allowThresholdMove)return z.allowThresholdMove=!0,G.startX=G.currentX,G.startY=G.currentY,z.currentTranslate=z.startTranslate,void(G.diff=N.isHorizontal()?G.currentX-G.startX:G.currentY-G.startY)}!K.followFinger||K.cssMode||((K.freeMode&&K.freeMode.enabled&&N.freeMode||K.watchSlidesProgress)&&(N.updateActiveIndex(),N.updateSlidesClasses()),K.freeMode&&K.freeMode.enabled&&N.freeMode&&N.freeMode.onTouchMove(),N.updateProgress(z.currentTranslate),N.setTranslate(z.currentTranslate))}function Ci(I){const L=this,N=L.touchEventsData;let K,z=I;if(z.originalEvent&&(z=z.originalEvent),"touchend"===z.type||"touchcancel"===z.type){if(K=[...z.changedTouches].filter(Vt=>Vt.identifier===N.touchId)[0],!K||K.identifier!==N.touchId)return}else{if(null!==N.touchId||z.pointerId!==N.pointerId)return;K=z}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(z.type)&&(!["pointercancel","contextmenu"].includes(z.type)||!L.browser.isSafari&&!L.browser.isWebView))return;N.pointerId=null,N.touchId=null;const{params:he,touches:me,rtlTranslate:ve,slidesGrid:ft,enabled:bt}=L;if(!bt||!he.simulateTouch&&"mouse"===z.pointerType)return;if(N.allowTouchCallbacks&&L.emit("touchEnd",z),N.allowTouchCallbacks=!1,!N.isTouched)return N.isMoved&&he.grabCursor&&L.setGrabCursor(!1),N.isMoved=!1,void(N.startMoving=!1);he.grabCursor&&N.isMoved&&N.isTouched&&(!0===L.allowSlideNext||!0===L.allowSlidePrev)&&L.setGrabCursor(!1);const Pt=(0,p.d)(),Et=Pt-N.touchStartTime;if(L.allowClick){const Vt=z.path||z.composedPath&&z.composedPath();L.updateClickedSlide(Vt&&Vt[0]||z.target,Vt),L.emit("tap click",z),Et<300&&Pt-N.lastClickTime<300&&L.emit("doubleTap doubleClick",z)}if(N.lastClickTime=(0,p.d)(),(0,p.n)(()=>{L.destroyed||(L.allowClick=!0)}),!N.isTouched||!N.isMoved||!L.swipeDirection||0===me.diff&&!N.loopSwapReset||N.currentTranslate===N.startTranslate&&!N.loopSwapReset)return N.isTouched=!1,N.isMoved=!1,void(N.startMoving=!1);let ht;if(N.isTouched=!1,N.isMoved=!1,N.startMoving=!1,ht=he.followFinger?ve?L.translate:-L.translate:-N.currentTranslate,he.cssMode)return;if(he.freeMode&&he.freeMode.enabled)return void L.freeMode.onTouchEnd({currentPos:ht});const _n=ht>=-L.maxTranslate()&&!L.params.loop;let Qt=0,cn=L.slidesSizesGrid[0];for(let Vt=0;Vt<ft.length;Vt+=Vt<he.slidesPerGroupSkip?1:he.slidesPerGroup){const on=Vt<he.slidesPerGroupSkip-1?1:he.slidesPerGroup;typeof ft[Vt+on]<"u"?(_n||ht>=ft[Vt]&&ht<ft[Vt+on])&&(Qt=Vt,cn=ft[Vt+on]-ft[Vt]):(_n||ht>=ft[Vt])&&(Qt=Vt,cn=ft[ft.length-1]-ft[ft.length-2])}let en=null,Wt=null;he.rewind&&(L.isBeginning?Wt=he.virtual&&he.virtual.enabled&&L.virtual?L.virtual.slides.length-1:L.slides.length-1:L.isEnd&&(en=0));const un=(ht-ft[Qt])/cn,kn=Qt<he.slidesPerGroupSkip-1?1:he.slidesPerGroup;if(Et>he.longSwipesMs){if(!he.longSwipes)return void L.slideTo(L.activeIndex);"next"===L.swipeDirection&&L.slideTo(un>=he.longSwipesRatio?he.rewind&&L.isEnd?en:Qt+kn:Qt),"prev"===L.swipeDirection&&(un>1-he.longSwipesRatio?L.slideTo(Qt+kn):null!==Wt&&un<0&&Math.abs(un)>he.longSwipesRatio?L.slideTo(Wt):L.slideTo(Qt))}else{if(!he.shortSwipes)return void L.slideTo(L.activeIndex);!L.navigation||z.target!==L.navigation.nextEl&&z.target!==L.navigation.prevEl?("next"===L.swipeDirection&&L.slideTo(null!==en?en:Qt+kn),"prev"===L.swipeDirection&&L.slideTo(null!==Wt?Wt:Qt)):L.slideTo(z.target===L.navigation.nextEl?Qt+kn:Qt)}}function Ei(){const I=this,{params:L,el:N}=I;if(N&&0===N.offsetWidth)return;L.breakpoints&&I.setBreakpoint();const{allowSlideNext:z,allowSlidePrev:K,snapGrid:G}=I,he=I.virtual&&I.params.virtual.enabled;I.allowSlideNext=!0,I.allowSlidePrev=!0,I.updateSize(),I.updateSlides(),I.updateSlidesClasses(),!("auto"===L.slidesPerView||L.slidesPerView>1)||!I.isEnd||I.isBeginning||I.params.centeredSlides||he&&L.loop?I.params.loop&&!he?I.slideToLoop(I.realIndex,0,!1,!0):I.slideTo(I.activeIndex,0,!1,!0):I.slideTo(I.slides.length-1,0,!1,!0),I.autoplay&&I.autoplay.running&&I.autoplay.paused&&(clearTimeout(I.autoplay.resizeTimeout),I.autoplay.resizeTimeout=setTimeout(()=>{I.autoplay&&I.autoplay.running&&I.autoplay.paused&&I.autoplay.resume()},500)),I.allowSlidePrev=K,I.allowSlideNext=z,I.params.watchOverflow&&G!==I.snapGrid&&I.checkOverflow()}function lr(I){const L=this;L.enabled&&(L.allowClick||(L.params.preventClicks&&I.preventDefault(),L.params.preventClicksPropagation&&L.animating&&(I.stopPropagation(),I.stopImmediatePropagation())))}function cs(){const I=this,{wrapperEl:L,rtlTranslate:N,enabled:z}=I;if(!z)return;let K;I.previousTranslate=I.translate,I.translate=I.isHorizontal()?-L.scrollLeft:-L.scrollTop,0===I.translate&&(I.translate=0),I.updateActiveIndex(),I.updateSlidesClasses();const G=I.maxTranslate()-I.minTranslate();K=0===G?0:(I.translate-I.minTranslate())/G,K!==I.progress&&I.updateProgress(N?-I.translate:I.translate),I.emit("setTranslate",I.translate,!1)}function Lr(I){const L=this;tn(L,I.target),!L.params.cssMode&&("auto"===L.params.slidesPerView||L.params.autoHeight)&&L.update()}function Fr(){const I=this;I.documentTouchHandlerProceeded||(I.documentTouchHandlerProceeded=!0,I.params.touchReleaseOnEdges&&(I.el.style.touchAction="auto"))}const wr=(I,L)=>{const N=(0,b.g)(),{params:z,el:K,wrapperEl:G,device:he}=I,me=!!z.nested,ve="on"===L?"addEventListener":"removeEventListener",ft=L;N[ve]("touchstart",I.onDocumentTouchStart,{passive:!1,capture:me}),K[ve]("touchstart",I.onTouchStart,{passive:!1}),K[ve]("pointerdown",I.onTouchStart,{passive:!1}),N[ve]("touchmove",I.onTouchMove,{passive:!1,capture:me}),N[ve]("pointermove",I.onTouchMove,{passive:!1,capture:me}),N[ve]("touchend",I.onTouchEnd,{passive:!0}),N[ve]("pointerup",I.onTouchEnd,{passive:!0}),N[ve]("pointercancel",I.onTouchEnd,{passive:!0}),N[ve]("touchcancel",I.onTouchEnd,{passive:!0}),N[ve]("pointerout",I.onTouchEnd,{passive:!0}),N[ve]("pointerleave",I.onTouchEnd,{passive:!0}),N[ve]("contextmenu",I.onTouchEnd,{passive:!0}),(z.preventClicks||z.preventClicksPropagation)&&K[ve]("click",I.onClick,!0),z.cssMode&&G[ve]("scroll",I.onScroll),I[ft](z.updateOnWindowResize?he.ios||he.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Ei,!0),K[ve]("load",I.onLoad,{capture:!0})},yr=(I,L)=>I.grid&&L.grid&&L.grid.rows>1;var Qe={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function fe(I,L){return function(z){void 0===z&&(z={});const K=Object.keys(z)[0],G=z[K];"object"==typeof G&&null!==G?(!0===I[K]&&(I[K]={enabled:!0}),"navigation"===K&&I[K]&&I[K].enabled&&!I[K].prevEl&&!I[K].nextEl&&(I[K].auto=!0),["pagination","scrollbar"].indexOf(K)>=0&&I[K]&&I[K].enabled&&!I[K].el&&(I[K].auto=!0),K in I&&"enabled"in G?("object"==typeof I[K]&&!("enabled"in I[K])&&(I[K].enabled=!0),I[K]||(I[K]={enabled:!1}),(0,p.u)(L,z)):(0,p.u)(L,z)):(0,p.u)(L,z)}}const Ie={eventsEmitter:{on(I,L,N){const z=this;if(!z.eventsListeners||z.destroyed||"function"!=typeof L)return z;const K=N?"unshift":"push";return I.split(" ").forEach(G=>{z.eventsListeners[G]||(z.eventsListeners[G]=[]),z.eventsListeners[G][K](L)}),z},once(I,L,N){const z=this;if(!z.eventsListeners||z.destroyed||"function"!=typeof L)return z;function K(){z.off(I,K),K.__emitterProxy&&delete K.__emitterProxy;for(var G=arguments.length,he=new Array(G),me=0;me<G;me++)he[me]=arguments[me];L.apply(z,he)}return K.__emitterProxy=L,z.on(I,K,N)},onAny(I,L){const N=this;if(!N.eventsListeners||N.destroyed||"function"!=typeof I)return N;const z=L?"unshift":"push";return N.eventsAnyListeners.indexOf(I)<0&&N.eventsAnyListeners[z](I),N},offAny(I){const L=this;if(!L.eventsListeners||L.destroyed||!L.eventsAnyListeners)return L;const N=L.eventsAnyListeners.indexOf(I);return N>=0&&L.eventsAnyListeners.splice(N,1),L},off(I,L){const N=this;return!N.eventsListeners||N.destroyed||!N.eventsListeners||I.split(" ").forEach(z=>{typeof L>"u"?N.eventsListeners[z]=[]:N.eventsListeners[z]&&N.eventsListeners[z].forEach((K,G)=>{(K===L||K.__emitterProxy&&K.__emitterProxy===L)&&N.eventsListeners[z].splice(G,1)})}),N},emit(){const I=this;if(!I.eventsListeners||I.destroyed||!I.eventsListeners)return I;let L,N,z;for(var K=arguments.length,G=new Array(K),he=0;he<K;he++)G[he]=arguments[he];return"string"==typeof G[0]||Array.isArray(G[0])?(L=G[0],N=G.slice(1,G.length),z=I):(L=G[0].events,N=G[0].data,z=G[0].context||I),N.unshift(z),(Array.isArray(L)?L:L.split(" ")).forEach(ve=>{I.eventsAnyListeners&&I.eventsAnyListeners.length&&I.eventsAnyListeners.forEach(ft=>{ft.apply(z,[ve,...N])}),I.eventsListeners&&I.eventsListeners[ve]&&I.eventsListeners[ve].forEach(ft=>{ft.apply(z,N)})}),I}},update:{updateSize:function Lt(){const I=this;let L,N;const z=I.el;L=typeof I.params.width<"u"&&null!==I.params.width?I.params.width:z.clientWidth,N=typeof I.params.height<"u"&&null!==I.params.height?I.params.height:z.clientHeight,!(0===L&&I.isHorizontal()||0===N&&I.isVertical())&&(L=L-parseInt((0,p.o)(z,"padding-left")||0,10)-parseInt((0,p.o)(z,"padding-right")||0,10),N=N-parseInt((0,p.o)(z,"padding-top")||0,10)-parseInt((0,p.o)(z,"padding-bottom")||0,10),Number.isNaN(L)&&(L=0),Number.isNaN(N)&&(N=0),Object.assign(I,{width:L,height:N,size:I.isHorizontal()?L:N}))},updateSlides:function dn(){const I=this;function L(De,ee){return parseFloat(De.getPropertyValue(I.getDirectionLabel(ee))||0)}const N=I.params,{wrapperEl:z,slidesEl:K,size:G,rtlTranslate:he,wrongRTL:me}=I,ve=I.virtual&&N.virtual.enabled,ft=ve?I.virtual.slides.length:I.slides.length,bt=(0,p.e)(K,`.${I.params.slideClass}, swiper-slide`),Pt=ve?I.virtual.slides.length:bt.length;let Et=[];const ht=[],_n=[];let Qt=N.slidesOffsetBefore;"function"==typeof Qt&&(Qt=N.slidesOffsetBefore.call(I));let cn=N.slidesOffsetAfter;"function"==typeof cn&&(cn=N.slidesOffsetAfter.call(I));const en=I.snapGrid.length,Wt=I.slidesGrid.length;let un=N.spaceBetween,kn=-Qt,Vt=0,on=0;if(typeof G>"u")return;"string"==typeof un&&un.indexOf("%")>=0?un=parseFloat(un.replace("%",""))/100*G:"string"==typeof un&&(un=parseFloat(un)),I.virtualSize=-un,bt.forEach(De=>{he?De.style.marginLeft="":De.style.marginRight="",De.style.marginBottom="",De.style.marginTop=""}),N.centeredSlides&&N.cssMode&&((0,p.s)(z,"--swiper-centered-offset-before",""),(0,p.s)(z,"--swiper-centered-offset-after",""));const gi=N.grid&&N.grid.rows>1&&I.grid;let le;gi?I.grid.initSlides(bt):I.grid&&I.grid.unsetSlides();const se="auto"===N.slidesPerView&&N.breakpoints&&Object.keys(N.breakpoints).filter(De=>typeof N.breakpoints[De].slidesPerView<"u").length>0;for(let De=0;De<Pt;De+=1){let ee;if(le=0,bt[De]&&(ee=bt[De]),gi&&I.grid.updateSlide(De,ee,bt),!bt[De]||"none"!==(0,p.o)(ee,"display")){if("auto"===N.slidesPerView){se&&(bt[De].style[I.getDirectionLabel("width")]="");const Ve=getComputedStyle(ee),Je=ee.style.transform,rn=ee.style.webkitTransform;if(Je&&(ee.style.transform="none"),rn&&(ee.style.webkitTransform="none"),N.roundLengths)le=I.isHorizontal()?(0,p.f)(ee,"width",!0):(0,p.f)(ee,"height",!0);else{const Un=L(Ve,"width"),Si=L(Ve,"padding-left"),xr=L(Ve,"padding-right"),mr=L(Ve,"margin-left"),ks=L(Ve,"margin-right"),Xs=Ve.getPropertyValue("box-sizing");if(Xs&&"border-box"===Xs)le=Un+mr+ks;else{const{clientWidth:Ys,offsetWidth:vs}=ee;le=Un+Si+xr+mr+ks+(vs-Ys)}}Je&&(ee.style.transform=Je),rn&&(ee.style.webkitTransform=rn),N.roundLengths&&(le=Math.floor(le))}else le=(G-(N.slidesPerView-1)*un)/N.slidesPerView,N.roundLengths&&(le=Math.floor(le)),bt[De]&&(bt[De].style[I.getDirectionLabel("width")]=`${le}px`);bt[De]&&(bt[De].swiperSlideSize=le),_n.push(le),N.centeredSlides?(kn=kn+le/2+Vt/2+un,0===Vt&&0!==De&&(kn=kn-G/2-un),0===De&&(kn=kn-G/2-un),Math.abs(kn)<.001&&(kn=0),N.roundLengths&&(kn=Math.floor(kn)),on%N.slidesPerGroup==0&&Et.push(kn),ht.push(kn)):(N.roundLengths&&(kn=Math.floor(kn)),(on-Math.min(I.params.slidesPerGroupSkip,on))%I.params.slidesPerGroup==0&&Et.push(kn),ht.push(kn),kn=kn+le+un),I.virtualSize+=le+un,Vt=le,on+=1}}if(I.virtualSize=Math.max(I.virtualSize,G)+cn,he&&me&&("slide"===N.effect||"coverflow"===N.effect)&&(z.style.width=`${I.virtualSize+un}px`),N.setWrapperSize&&(z.style[I.getDirectionLabel("width")]=`${I.virtualSize+un}px`),gi&&I.grid.updateWrapperSize(le,Et),!N.centeredSlides){const De=[];for(let ee=0;ee<Et.length;ee+=1){let Ve=Et[ee];N.roundLengths&&(Ve=Math.floor(Ve)),Et[ee]<=I.virtualSize-G&&De.push(Ve)}Et=De,Math.floor(I.virtualSize-G)-Math.floor(Et[Et.length-1])>1&&Et.push(I.virtualSize-G)}if(ve&&N.loop){const De=_n[0]+un;if(N.slidesPerGroup>1){const ee=Math.ceil((I.virtual.slidesBefore+I.virtual.slidesAfter)/N.slidesPerGroup),Ve=De*N.slidesPerGroup;for(let Je=0;Je<ee;Je+=1)Et.push(Et[Et.length-1]+Ve)}for(let ee=0;ee<I.virtual.slidesBefore+I.virtual.slidesAfter;ee+=1)1===N.slidesPerGroup&&Et.push(Et[Et.length-1]+De),ht.push(ht[ht.length-1]+De),I.virtualSize+=De}if(0===Et.length&&(Et=[0]),0!==un){const De=I.isHorizontal()&&he?"marginLeft":I.getDirectionLabel("marginRight");bt.filter((ee,Ve)=>!(N.cssMode&&!N.loop)||Ve!==bt.length-1).forEach(ee=>{ee.style[De]=`${un}px`})}if(N.centeredSlides&&N.centeredSlidesBounds){let De=0;_n.forEach(Ve=>{De+=Ve+(un||0)}),De-=un;const ee=De-G;Et=Et.map(Ve=>Ve<=0?-Qt:Ve>ee?ee+cn:Ve)}if(N.centerInsufficientSlides){let De=0;_n.forEach(Ve=>{De+=Ve+(un||0)}),De-=un;const ee=(N.slidesOffsetBefore||0)+(N.slidesOffsetAfter||0);if(De+ee<G){const Ve=(G-De-ee)/2;Et.forEach((Je,rn)=>{Et[rn]=Je-Ve}),ht.forEach((Je,rn)=>{ht[rn]=Je+Ve})}}if(Object.assign(I,{slides:bt,snapGrid:Et,slidesGrid:ht,slidesSizesGrid:_n}),N.centeredSlides&&N.cssMode&&!N.centeredSlidesBounds){(0,p.s)(z,"--swiper-centered-offset-before",-Et[0]+"px"),(0,p.s)(z,"--swiper-centered-offset-after",I.size/2-_n[_n.length-1]/2+"px");const De=-I.snapGrid[0],ee=-I.slidesGrid[0];I.snapGrid=I.snapGrid.map(Ve=>Ve+De),I.slidesGrid=I.slidesGrid.map(Ve=>Ve+ee)}if(Pt!==ft&&I.emit("slidesLengthChange"),Et.length!==en&&(I.params.watchOverflow&&I.checkOverflow(),I.emit("snapGridLengthChange")),ht.length!==Wt&&I.emit("slidesGridLengthChange"),N.watchSlidesProgress&&I.updateSlidesOffset(),I.emit("slidesUpdated"),!(ve||N.cssMode||"slide"!==N.effect&&"fade"!==N.effect)){const De=`${N.containerModifierClass}backface-hidden`,ee=I.el.classList.contains(De);Pt<=N.maxBackfaceHiddenSlides?ee||I.el.classList.add(De):ee&&I.el.classList.remove(De)}},updateAutoHeight:function zt(I){const L=this,N=[],z=L.virtual&&L.params.virtual.enabled;let G,K=0;"number"==typeof I?L.setTransition(I):!0===I&&L.setTransition(L.params.speed);const he=me=>z?L.slides[L.getSlideIndexByData(me)]:L.slides[me];if("auto"!==L.params.slidesPerView&&L.params.slidesPerView>1)if(L.params.centeredSlides)(L.visibleSlides||[]).forEach(me=>{N.push(me)});else for(G=0;G<Math.ceil(L.params.slidesPerView);G+=1){const me=L.activeIndex+G;if(me>L.slides.length&&!z)break;N.push(he(me))}else N.push(he(L.activeIndex));for(G=0;G<N.length;G+=1)if(typeof N[G]<"u"){const me=N[G].offsetHeight;K=me>K?me:K}(K||0===K)&&(L.wrapperEl.style.height=`${K}px`)},updateSlidesOffset:function jt(){const I=this,L=I.slides,N=I.isElement?I.isHorizontal()?I.wrapperEl.offsetLeft:I.wrapperEl.offsetTop:0;for(let z=0;z<L.length;z+=1)L[z].swiperSlideOffset=(I.isHorizontal()?L[z].offsetLeft:L[z].offsetTop)-N-I.cssOverflowAdjustment()},updateSlidesProgress:function Kt(I){void 0===I&&(I=this&&this.translate||0);const L=this,N=L.params,{slides:z,rtlTranslate:K,snapGrid:G}=L;if(0===z.length)return;typeof z[0].swiperSlideOffset>"u"&&L.updateSlidesOffset();let he=-I;K&&(he=I),L.visibleSlidesIndexes=[],L.visibleSlides=[];let me=N.spaceBetween;"string"==typeof me&&me.indexOf("%")>=0?me=parseFloat(me.replace("%",""))/100*L.size:"string"==typeof me&&(me=parseFloat(me));for(let ve=0;ve<z.length;ve+=1){const ft=z[ve];let bt=ft.swiperSlideOffset;N.cssMode&&N.centeredSlides&&(bt-=z[0].swiperSlideOffset);const Pt=(he+(N.centeredSlides?L.minTranslate():0)-bt)/(ft.swiperSlideSize+me),Et=(he-G[0]+(N.centeredSlides?L.minTranslate():0)-bt)/(ft.swiperSlideSize+me),ht=-(he-bt),_n=ht+L.slidesSizesGrid[ve],Qt=ht>=0&&ht<=L.size-L.slidesSizesGrid[ve],cn=ht>=0&&ht<L.size-1||_n>1&&_n<=L.size||ht<=0&&_n>=L.size;cn&&(L.visibleSlides.push(ft),L.visibleSlidesIndexes.push(ve)),vn(ft,cn,N.slideVisibleClass),vn(ft,Qt,N.slideFullyVisibleClass),ft.progress=K?-Pt:Pt,ft.originalProgress=K?-Et:Et}},updateProgress:function Xt(I){const L=this;typeof I>"u"&&(I=L&&L.translate&&L.translate*(L.rtlTranslate?-1:1)||0);const N=L.params,z=L.maxTranslate()-L.minTranslate();let{progress:K,isBeginning:G,isEnd:he,progressLoop:me}=L;const ve=G,ft=he;if(0===z)K=0,G=!0,he=!0;else{K=(I-L.minTranslate())/z;const bt=Math.abs(I-L.minTranslate())<1,Pt=Math.abs(I-L.maxTranslate())<1;G=bt||K<=0,he=Pt||K>=1,bt&&(K=0),Pt&&(K=1)}if(N.loop){const bt=L.getSlideIndexByData(0),Pt=L.getSlideIndexByData(L.slides.length-1),Et=L.slidesGrid[bt],ht=L.slidesGrid[Pt],_n=L.slidesGrid[L.slidesGrid.length-1],Qt=Math.abs(I);me=Qt>=Et?(Qt-Et)/_n:(Qt+_n-ht)/_n,me>1&&(me-=1)}Object.assign(L,{progress:K,progressLoop:me,isBeginning:G,isEnd:he}),(N.watchSlidesProgress||N.centeredSlides&&N.autoHeight)&&L.updateSlidesProgress(I),G&&!ve&&L.emit("reachBeginning toEdge"),he&&!ft&&L.emit("reachEnd toEdge"),(ve&&!G||ft&&!he)&&L.emit("fromEdge"),L.emit("progress",K)},updateSlidesClasses:function Ut(){const I=this,{slides:L,params:N,slidesEl:z,activeIndex:K}=I,he=I.grid&&N.grid&&N.grid.rows>1,me=Pt=>(0,p.e)(z,`.${N.slideClass}${Pt}, swiper-slide${Pt}`)[0];let ve,ft,bt;if(I.virtual&&N.virtual.enabled)if(N.loop){let Pt=K-I.virtual.slidesBefore;Pt<0&&(Pt=I.virtual.slides.length+Pt),Pt>=I.virtual.slides.length&&(Pt-=I.virtual.slides.length),ve=me(`[data-swiper-slide-index="${Pt}"]`)}else ve=me(`[data-swiper-slide-index="${K}"]`);else he?(ve=L.filter(Pt=>Pt.column===K)[0],bt=L.filter(Pt=>Pt.column===K+1)[0],ft=L.filter(Pt=>Pt.column===K-1)[0]):ve=L[K];ve&&(he||(bt=(0,p.p)(ve,`.${N.slideClass}, swiper-slide`)[0],N.loop&&!bt&&(bt=L[0]),ft=(0,p.q)(ve,`.${N.slideClass}, swiper-slide`)[0],N.loop&&0===!ft&&(ft=L[L.length-1]))),L.forEach(Pt=>{nt(Pt,Pt===ve,N.slideActiveClass),nt(Pt,Pt===bt,N.slideNextClass),nt(Pt,Pt===ft,N.slidePrevClass)}),I.emitSlidesClasses()},updateActiveIndex:function Dt(I){const L=this,N=L.rtlTranslate?L.translate:-L.translate,{snapGrid:z,params:K,activeIndex:G,realIndex:he,snapIndex:me}=L;let ft,ve=I;const bt=ht=>{let _n=ht-L.virtual.slidesBefore;return _n<0&&(_n=L.virtual.slides.length+_n),_n>=L.virtual.slides.length&&(_n-=L.virtual.slides.length),_n};if(typeof ve>"u"&&(ve=function qe(I){const{slidesGrid:L,params:N}=I,z=I.rtlTranslate?I.translate:-I.translate;let K;for(let G=0;G<L.length;G+=1)typeof L[G+1]<"u"?z>=L[G]&&z<L[G+1]-(L[G+1]-L[G])/2?K=G:z>=L[G]&&z<L[G+1]&&(K=G+1):z>=L[G]&&(K=G);return N.normalizeSlideIndex&&(K<0||typeof K>"u")&&(K=0),K}(L)),z.indexOf(N)>=0)ft=z.indexOf(N);else{const ht=Math.min(K.slidesPerGroupSkip,ve);ft=ht+Math.floor((ve-ht)/K.slidesPerGroup)}if(ft>=z.length&&(ft=z.length-1),ve===G&&!L.params.loop)return void(ft!==me&&(L.snapIndex=ft,L.emit("snapIndexChange")));if(ve===G&&L.params.loop&&L.virtual&&L.params.virtual.enabled)return void(L.realIndex=bt(ve));const Pt=L.grid&&K.grid&&K.grid.rows>1;let Et;if(L.virtual&&K.virtual.enabled&&K.loop)Et=bt(ve);else if(Pt){const ht=L.slides.filter(Qt=>Qt.column===ve)[0];let _n=parseInt(ht.getAttribute("data-swiper-slide-index"),10);Number.isNaN(_n)&&(_n=Math.max(L.slides.indexOf(ht),0)),Et=Math.floor(_n/K.grid.rows)}else if(L.slides[ve]){const ht=L.slides[ve].getAttribute("data-swiper-slide-index");Et=ht?parseInt(ht,10):ve}else Et=ve;Object.assign(L,{previousSnapIndex:me,snapIndex:ft,previousRealIndex:he,realIndex:Et,previousIndex:G,activeIndex:ve}),L.initialized&&gt(L),L.emit("activeIndexChange"),L.emit("snapIndexChange"),(L.initialized||L.params.runCallbacksOnInit)&&(he!==Et&&L.emit("realIndexChange"),L.emit("slideChange"))},updateClickedSlide:function nn(I,L){const N=this,z=N.params;let K=I.closest(`.${z.slideClass}, swiper-slide`);!K&&N.isElement&&L&&L.length>1&&L.includes(I)&&[...L.slice(L.indexOf(I)+1,L.length)].forEach(me=>{!K&&me.matches&&me.matches(`.${z.slideClass}, swiper-slide`)&&(K=me)});let he,G=!1;if(K)for(let me=0;me<N.slides.length;me+=1)if(N.slides[me]===K){G=!0,he=me;break}if(!K||!G)return N.clickedSlide=void 0,void(N.clickedIndex=void 0);N.clickedSlide=K,N.clickedIndex=N.virtual&&N.params.virtual.enabled?parseInt(K.getAttribute("data-swiper-slide-index"),10):he,z.slideToClickedSlide&&void 0!==N.clickedIndex&&N.clickedIndex!==N.activeIndex&&N.slideToClickedSlide()}},translate:{getTranslate:function si(I){void 0===I&&(I=this.isHorizontal()?"x":"y");const{params:N,rtlTranslate:z,translate:K,wrapperEl:G}=this;if(N.virtualTranslate)return z?-K:K;if(N.cssMode)return K;let he=(0,p.j)(G,I);return he+=this.cssOverflowAdjustment(),z&&(he=-he),he||0},setTranslate:function Cn(I,L){const N=this,{rtlTranslate:z,params:K,wrapperEl:G,progress:he}=N;let bt,me=0,ve=0;N.isHorizontal()?me=z?-I:I:ve=I,K.roundLengths&&(me=Math.floor(me),ve=Math.floor(ve)),N.previousTranslate=N.translate,N.translate=N.isHorizontal()?me:ve,K.cssMode?G[N.isHorizontal()?"scrollLeft":"scrollTop"]=N.isHorizontal()?-me:-ve:K.virtualTranslate||(N.isHorizontal()?me-=N.cssOverflowAdjustment():ve-=N.cssOverflowAdjustment(),G.style.transform=`translate3d(${me}px, ${ve}px, 0px)`);const Pt=N.maxTranslate()-N.minTranslate();bt=0===Pt?0:(I-N.minTranslate())/Pt,bt!==he&&N.updateProgress(I),N.emit("setTranslate",N.translate,L)},minTranslate:function Zn(){return-this.snapGrid[0]},maxTranslate:function pn(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function pt(I,L,N,z,K){void 0===I&&(I=0),void 0===L&&(L=this.params.speed),void 0===N&&(N=!0),void 0===z&&(z=!0);const G=this,{params:he,wrapperEl:me}=G;if(G.animating&&he.preventInteractionOnTransition)return!1;const ve=G.minTranslate(),ft=G.maxTranslate();let bt;if(bt=z&&I>ve?ve:z&&I<ft?ft:I,G.updateProgress(bt),he.cssMode){const Pt=G.isHorizontal();if(0===L)me[Pt?"scrollLeft":"scrollTop"]=-bt;else{if(!G.support.smoothScroll)return(0,p.r)({swiper:G,targetPosition:-bt,side:Pt?"left":"top"}),!0;me.scrollTo({[Pt?"left":"top"]:-bt,behavior:"smooth"})}return!0}return 0===L?(G.setTransition(0),G.setTranslate(bt),N&&(G.emit("beforeTransitionStart",L,K),G.emit("transitionEnd"))):(G.setTransition(L),G.setTranslate(bt),N&&(G.emit("beforeTransitionStart",L,K),G.emit("transitionStart")),G.animating||(G.animating=!0,G.onTranslateToWrapperTransitionEnd||(G.onTranslateToWrapperTransitionEnd=function(Et){!G||G.destroyed||Et.target===this&&(G.wrapperEl.removeEventListener("transitionend",G.onTranslateToWrapperTransitionEnd),G.onTranslateToWrapperTransitionEnd=null,delete G.onTranslateToWrapperTransitionEnd,G.animating=!1,N&&G.emit("transitionEnd"))}),G.wrapperEl.addEventListener("transitionend",G.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function xe(I,L){const N=this;N.params.cssMode||(N.wrapperEl.style.transitionDuration=`${I}ms`,N.wrapperEl.style.transitionDelay=0===I?"0ms":""),N.emit("setTransition",I,L)},transitionStart:function lt(I,L){void 0===I&&(I=!0);const N=this,{params:z}=N;z.cssMode||(z.autoHeight&&N.updateAutoHeight(),Ee({swiper:N,runCallbacks:I,direction:L,step:"Start"}))},transitionEnd:function It(I,L){void 0===I&&(I=!0);const N=this,{params:z}=N;N.animating=!1,!z.cssMode&&(N.setTransition(0),Ee({swiper:N,runCallbacks:I,direction:L,step:"End"}))}},slide:{slideTo:function wt(I,L,N,z,K){void 0===I&&(I=0),void 0===N&&(N=!0),"string"==typeof I&&(I=parseInt(I,10));const G=this;let he=I;he<0&&(he=0);const{params:me,snapGrid:ve,slidesGrid:ft,previousIndex:bt,activeIndex:Pt,rtlTranslate:Et,wrapperEl:ht,enabled:_n}=G;if(!_n&&!z&&!K||G.destroyed||G.animating&&me.preventInteractionOnTransition)return!1;typeof L>"u"&&(L=G.params.speed);const Qt=Math.min(G.params.slidesPerGroupSkip,he);let cn=Qt+Math.floor((he-Qt)/G.params.slidesPerGroup);cn>=ve.length&&(cn=ve.length-1);const en=-ve[cn];if(me.normalizeSlideIndex)for(let un=0;un<ft.length;un+=1){const kn=-Math.floor(100*en),Vt=Math.floor(100*ft[un]),on=Math.floor(100*ft[un+1]);typeof ft[un+1]<"u"?kn>=Vt&&kn<on-(on-Vt)/2?he=un:kn>=Vt&&kn<on&&(he=un+1):kn>=Vt&&(he=un)}if(G.initialized&&he!==Pt&&(!G.allowSlideNext&&(Et?en>G.translate&&en>G.minTranslate():en<G.translate&&en<G.minTranslate())||!G.allowSlidePrev&&en>G.translate&&en>G.maxTranslate()&&(Pt||0)!==he))return!1;let Wt;if(he!==(bt||0)&&N&&G.emit("beforeSlideChangeStart"),G.updateProgress(en),Wt=he>Pt?"next":he<Pt?"prev":"reset",Et&&-en===G.translate||!Et&&en===G.translate)return G.updateActiveIndex(he),me.autoHeight&&G.updateAutoHeight(),G.updateSlidesClasses(),"slide"!==me.effect&&G.setTranslate(en),"reset"!==Wt&&(G.transitionStart(N,Wt),G.transitionEnd(N,Wt)),!1;if(me.cssMode){const un=G.isHorizontal(),kn=Et?en:-en;if(0===L){const Vt=G.virtual&&G.params.virtual.enabled;Vt&&(G.wrapperEl.style.scrollSnapType="none",G._immediateVirtual=!0),Vt&&!G._cssModeVirtualInitialSet&&G.params.initialSlide>0?(G._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{ht[un?"scrollLeft":"scrollTop"]=kn})):ht[un?"scrollLeft":"scrollTop"]=kn,Vt&&requestAnimationFrame(()=>{G.wrapperEl.style.scrollSnapType="",G._immediateVirtual=!1})}else{if(!G.support.smoothScroll)return(0,p.r)({swiper:G,targetPosition:kn,side:un?"left":"top"}),!0;ht.scrollTo({[un?"left":"top"]:kn,behavior:"smooth"})}return!0}return G.setTransition(L),G.setTranslate(en),G.updateActiveIndex(he),G.updateSlidesClasses(),G.emit("beforeTransitionStart",L,z),G.transitionStart(N,Wt),0===L?G.transitionEnd(N,Wt):G.animating||(G.animating=!0,G.onSlideToWrapperTransitionEnd||(G.onSlideToWrapperTransitionEnd=function(kn){!G||G.destroyed||kn.target===this&&(G.wrapperEl.removeEventListener("transitionend",G.onSlideToWrapperTransitionEnd),G.onSlideToWrapperTransitionEnd=null,delete G.onSlideToWrapperTransitionEnd,G.transitionEnd(N,Wt))}),G.wrapperEl.addEventListener("transitionend",G.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Kn(I,L,N,z){void 0===I&&(I=0),void 0===N&&(N=!0),"string"==typeof I&&(I=parseInt(I,10));const K=this;if(K.destroyed)return;typeof L>"u"&&(L=K.params.speed);const G=K.grid&&K.params.grid&&K.params.grid.rows>1;let he=I;if(K.params.loop)if(K.virtual&&K.params.virtual.enabled)he+=K.virtual.slidesBefore;else{let me;if(G){const Et=he*K.params.grid.rows;me=K.slides.filter(ht=>1*ht.getAttribute("data-swiper-slide-index")===Et)[0].column}else me=K.getSlideIndexByData(he);const ve=G?Math.ceil(K.slides.length/K.params.grid.rows):K.slides.length,{centeredSlides:ft}=K.params;let bt=K.params.slidesPerView;"auto"===bt?bt=K.slidesPerViewDynamic():(bt=Math.ceil(parseFloat(K.params.slidesPerView,10)),ft&&bt%2==0&&(bt+=1));let Pt=ve-me<bt;if(ft&&(Pt=Pt||me<Math.ceil(bt/2)),z&&ft&&"auto"!==K.params.slidesPerView&&!G&&(Pt=!1),Pt){const Et=ft?me<K.activeIndex?"prev":"next":me-K.activeIndex-1<K.params.slidesPerView?"next":"prev";K.loopFix({direction:Et,slideTo:!0,activeSlideIndex:"next"===Et?me+1:me-ve+1,slideRealIndex:"next"===Et?K.realIndex:void 0})}if(G){const Et=he*K.params.grid.rows;he=K.slides.filter(ht=>1*ht.getAttribute("data-swiper-slide-index")===Et)[0].column}else he=K.getSlideIndexByData(he)}return requestAnimationFrame(()=>{K.slideTo(he,L,N,z)}),K},slideNext:function ir(I,L,N){void 0===L&&(L=!0);const z=this,{enabled:K,params:G,animating:he}=z;if(!K||z.destroyed)return z;typeof I>"u"&&(I=z.params.speed);let me=G.slidesPerGroup;"auto"===G.slidesPerView&&1===G.slidesPerGroup&&G.slidesPerGroupAuto&&(me=Math.max(z.slidesPerViewDynamic("current",!0),1));const ve=z.activeIndex<G.slidesPerGroupSkip?1:me;if(G.loop){if(he&&(!z.virtual||!G.virtual.enabled)&&G.loopPreventsSliding)return!1;if(z.loopFix({direction:"next"}),z._clientLeft=z.wrapperEl.clientLeft,z.activeIndex===z.slides.length-1&&G.cssMode)return requestAnimationFrame(()=>{z.slideTo(z.activeIndex+ve,I,L,N)}),!0}return z.slideTo(G.rewind&&z.isEnd?0:z.activeIndex+ve,I,L,N)},slidePrev:function hi(I,L,N){void 0===L&&(L=!0);const z=this,{params:K,snapGrid:G,slidesGrid:he,rtlTranslate:me,enabled:ve,animating:ft}=z;if(!ve||z.destroyed)return z;if(typeof I>"u"&&(I=z.params.speed),K.loop){if(ft&&(!z.virtual||!K.virtual.enabled)&&K.loopPreventsSliding)return!1;z.loopFix({direction:"prev"}),z._clientLeft=z.wrapperEl.clientLeft}function Et(en){return en<0?-Math.floor(Math.abs(en)):Math.floor(en)}const ht=Et(me?z.translate:-z.translate),_n=G.map(en=>Et(en));let Qt=G[_n.indexOf(ht)-1];if(typeof Qt>"u"&&K.cssMode){let en;G.forEach((Wt,un)=>{ht>=Wt&&(en=un)}),typeof en<"u"&&(Qt=G[en>0?en-1:en])}let cn=0;return typeof Qt<"u"&&(cn=he.indexOf(Qt),cn<0&&(cn=z.activeIndex-1),"auto"===K.slidesPerView&&1===K.slidesPerGroup&&K.slidesPerGroupAuto&&(cn=cn-z.slidesPerViewDynamic("previous",!0)+1,cn=Math.max(cn,0))),K.rewind&&z.isBeginning?z.slideTo(z.params.virtual&&z.params.virtual.enabled&&z.virtual?z.virtual.slides.length-1:z.slides.length-1,I,L,N):K.loop&&0===z.activeIndex&&K.cssMode?(requestAnimationFrame(()=>{z.slideTo(cn,I,L,N)}),!0):z.slideTo(cn,I,L,N)},slideReset:function Qi(I,L,N){void 0===L&&(L=!0);const z=this;if(!z.destroyed)return typeof I>"u"&&(I=z.params.speed),z.slideTo(z.activeIndex,I,L,N)},slideToClosest:function Gi(I,L,N,z){void 0===L&&(L=!0),void 0===z&&(z=.5);const K=this;if(K.destroyed)return;typeof I>"u"&&(I=K.params.speed);let G=K.activeIndex;const he=Math.min(K.params.slidesPerGroupSkip,G),me=he+Math.floor((G-he)/K.params.slidesPerGroup),ve=K.rtlTranslate?K.translate:-K.translate;if(ve>=K.snapGrid[me]){const ft=K.snapGrid[me];ve-ft>(K.snapGrid[me+1]-ft)*z&&(G+=K.params.slidesPerGroup)}else{const ft=K.snapGrid[me-1];ve-ft<=(K.snapGrid[me]-ft)*z&&(G-=K.params.slidesPerGroup)}return G=Math.max(G,0),G=Math.min(G,K.slidesGrid.length-1),K.slideTo(G,I,L,N)},slideToClickedSlide:function ar(){const I=this;if(I.destroyed)return;const{params:L,slidesEl:N}=I,z="auto"===L.slidesPerView?I.slidesPerViewDynamic():L.slidesPerView;let G,K=I.clickedIndex;const he=I.isElement?"swiper-slide":`.${L.slideClass}`;if(L.loop){if(I.animating)return;G=parseInt(I.clickedSlide.getAttribute("data-swiper-slide-index"),10),L.centeredSlides?K<I.loopedSlides-z/2||K>I.slides.length-I.loopedSlides+z/2?(I.loopFix(),K=I.getSlideIndex((0,p.e)(N,`${he}[data-swiper-slide-index="${G}"]`)[0]),(0,p.n)(()=>{I.slideTo(K)})):I.slideTo(K):K>I.slides.length-z?(I.loopFix(),K=I.getSlideIndex((0,p.e)(N,`${he}[data-swiper-slide-index="${G}"]`)[0]),(0,p.n)(()=>{I.slideTo(K)})):I.slideTo(K)}else I.slideTo(K)}},loop:{loopCreate:function gr(I){const L=this,{params:N,slidesEl:z}=L;if(!N.loop||L.virtual&&L.params.virtual.enabled)return;const K=()=>{(0,p.e)(z,`.${N.slideClass}, swiper-slide`).forEach((Pt,Et)=>{Pt.setAttribute("data-swiper-slide-index",Et)})},G=L.grid&&N.grid&&N.grid.rows>1,he=N.slidesPerGroup*(G?N.grid.rows:1),ve=G&&L.slides.length%N.grid.rows!=0,ft=bt=>{for(let Pt=0;Pt<bt;Pt+=1){const Et=L.isElement?(0,p.c)("swiper-slide",[N.slideBlankClass]):(0,p.c)("div",[N.slideClass,N.slideBlankClass]);L.slidesEl.append(Et)}};L.slides.length%he!=0?(N.loopAddBlankSlides?(ft(he-L.slides.length%he),L.recalcSlides(),L.updateSlides()):(0,p.t)("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),K()):ve?(N.loopAddBlankSlides?(ft(N.grid.rows-L.slides.length%N.grid.rows),L.recalcSlides(),L.updateSlides()):(0,p.t)("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),K()):K(),L.loopFix({slideRealIndex:I,direction:N.centeredSlides?void 0:"next"})},loopFix:function Or(I){let{slideRealIndex:L,slideTo:N=!0,direction:z,setTranslate:K,activeSlideIndex:G,byController:he,byMousewheel:me}=void 0===I?{}:I;const ve=this;if(!ve.params.loop)return;ve.emit("beforeLoopFix");const{slides:ft,allowSlidePrev:bt,allowSlideNext:Pt,slidesEl:Et,params:ht}=ve,{centeredSlides:_n}=ht;if(ve.allowSlidePrev=!0,ve.allowSlideNext=!0,ve.virtual&&ht.virtual.enabled)return N&&(ht.centeredSlides||0!==ve.snapIndex?ht.centeredSlides&&ve.snapIndex<ht.slidesPerView?ve.slideTo(ve.virtual.slides.length+ve.snapIndex,0,!1,!0):ve.snapIndex===ve.snapGrid.length-1&&ve.slideTo(ve.virtual.slidesBefore,0,!1,!0):ve.slideTo(ve.virtual.slides.length,0,!1,!0)),ve.allowSlidePrev=bt,ve.allowSlideNext=Pt,void ve.emit("loopFix");let Qt=ht.slidesPerView;"auto"===Qt?Qt=ve.slidesPerViewDynamic():(Qt=Math.ceil(parseFloat(ht.slidesPerView,10)),_n&&Qt%2==0&&(Qt+=1));const cn=ht.slidesPerGroupAuto?Qt:ht.slidesPerGroup;let en=cn;en%cn!=0&&(en+=cn-en%cn),en+=ht.loopAdditionalSlides,ve.loopedSlides=en;const Wt=ve.grid&&ht.grid&&ht.grid.rows>1;ft.length<Qt+en?(0,p.t)("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Wt&&"row"===ht.grid.fill&&(0,p.t)("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const un=[],kn=[];let Vt=ve.activeIndex;typeof G>"u"?G=ve.getSlideIndex(ft.filter(Je=>Je.classList.contains(ht.slideActiveClass))[0]):Vt=G;const on="next"===z||!z,gi="prev"===z||!z;let le=0,se=0;const De=Wt?Math.ceil(ft.length/ht.grid.rows):ft.length,Ve=(Wt?ft[G].column:G)+(_n&&typeof K>"u"?-Qt/2+.5:0);if(Ve<en){le=Math.max(en-Ve,cn);for(let Je=0;Je<en-Ve;Je+=1){const rn=Je-Math.floor(Je/De)*De;if(Wt){const Un=De-rn-1;for(let Si=ft.length-1;Si>=0;Si-=1)ft[Si].column===Un&&un.push(Si)}else un.push(De-rn-1)}}else if(Ve+Qt>De-en){se=Math.max(Ve-(De-2*en),cn);for(let Je=0;Je<se;Je+=1){const rn=Je-Math.floor(Je/De)*De;Wt?ft.forEach((Un,Si)=>{Un.column===rn&&kn.push(Si)}):kn.push(rn)}}if(ve.__preventObserver__=!0,requestAnimationFrame(()=>{ve.__preventObserver__=!1}),gi&&un.forEach(Je=>{ft[Je].swiperLoopMoveDOM=!0,Et.prepend(ft[Je]),ft[Je].swiperLoopMoveDOM=!1}),on&&kn.forEach(Je=>{ft[Je].swiperLoopMoveDOM=!0,Et.append(ft[Je]),ft[Je].swiperLoopMoveDOM=!1}),ve.recalcSlides(),"auto"===ht.slidesPerView?ve.updateSlides():Wt&&(un.length>0&&gi||kn.length>0&&on)&&ve.slides.forEach((Je,rn)=>{ve.grid.updateSlide(rn,Je,ve.slides)}),ht.watchSlidesProgress&&ve.updateSlidesOffset(),N)if(un.length>0&&gi)if(typeof L>"u"){const Un=ve.slidesGrid[Vt+le]-ve.slidesGrid[Vt];me?ve.setTranslate(ve.translate-Un):(ve.slideTo(Vt+Math.ceil(le),0,!1,!0),K&&(ve.touchEventsData.startTranslate=ve.touchEventsData.startTranslate-Un,ve.touchEventsData.currentTranslate=ve.touchEventsData.currentTranslate-Un))}else K&&(ve.slideTo(ve.activeIndex+(Wt?un.length/ht.grid.rows:un.length),0,!1,!0),ve.touchEventsData.currentTranslate=ve.translate);else if(kn.length>0&&on)if(typeof L>"u"){const Un=ve.slidesGrid[Vt-se]-ve.slidesGrid[Vt];me?ve.setTranslate(ve.translate-Un):(ve.slideTo(Vt-se,0,!1,!0),K&&(ve.touchEventsData.startTranslate=ve.touchEventsData.startTranslate-Un,ve.touchEventsData.currentTranslate=ve.touchEventsData.currentTranslate-Un))}else ve.slideTo(ve.activeIndex-(Wt?kn.length/ht.grid.rows:kn.length),0,!1,!0);if(ve.allowSlidePrev=bt,ve.allowSlideNext=Pt,ve.controller&&ve.controller.control&&!he){const Je={slideRealIndex:L,direction:z,setTranslate:K,activeSlideIndex:G,byController:!0};Array.isArray(ve.controller.control)?ve.controller.control.forEach(rn=>{!rn.destroyed&&rn.params.loop&&rn.loopFix({...Je,slideTo:rn.params.slidesPerView===ht.slidesPerView&&N})}):ve.controller.control instanceof ve.constructor&&ve.controller.control.params.loop&&ve.controller.control.loopFix({...Je,slideTo:ve.controller.control.params.slidesPerView===ht.slidesPerView&&N})}ve.emit("loopFix")},loopDestroy:function Vr(){const I=this,{params:L,slidesEl:N}=I;if(!L.loop||I.virtual&&I.params.virtual.enabled)return;I.recalcSlides();const z=[];I.slides.forEach(K=>{const G=typeof K.swiperSlideIndex>"u"?1*K.getAttribute("data-swiper-slide-index"):K.swiperSlideIndex;z[G]=K}),I.slides.forEach(K=>{K.removeAttribute("data-swiper-slide-index")}),z.forEach(K=>{N.append(K)}),I.recalcSlides(),I.slideTo(I.realIndex,0)}},grabCursor:{setGrabCursor:function Ot(I){const L=this;if(!L.params.simulateTouch||L.params.watchOverflow&&L.isLocked||L.params.cssMode)return;const N="container"===L.params.touchEventsTarget?L.el:L.wrapperEl;L.isElement&&(L.__preventObserver__=!0),N.style.cursor="move",N.style.cursor=I?"grabbing":"grab",L.isElement&&requestAnimationFrame(()=>{L.__preventObserver__=!1})},unsetGrabCursor:function fn(){const I=this;I.params.watchOverflow&&I.isLocked||I.params.cssMode||(I.isElement&&(I.__preventObserver__=!0),I["container"===I.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",I.isElement&&requestAnimationFrame(()=>{I.__preventObserver__=!1}))}},events:{attachEvents:function us(){const I=this,{params:L}=I;I.onTouchStart=Hr.bind(I),I.onTouchMove=vr.bind(I),I.onTouchEnd=Ci.bind(I),I.onDocumentTouchStart=Fr.bind(I),L.cssMode&&(I.onScroll=cs.bind(I)),I.onClick=lr.bind(I),I.onLoad=Lr.bind(I),wr(I,"on")},detachEvents:function zi(){wr(this,"off")}},breakpoints:{setBreakpoint:function hr(){const I=this,{realIndex:L,initialized:N,params:z,el:K}=I,G=z.breakpoints;if(!G||G&&0===Object.keys(G).length)return;const he=I.getBreakpoint(G,I.params.breakpointsBase,I.el);if(!he||I.currentBreakpoint===he)return;const ve=(he in G?G[he]:void 0)||I.originalParams,ft=yr(I,z),bt=yr(I,ve),Pt=I.params.grabCursor,Et=ve.grabCursor,ht=z.enabled;ft&&!bt?(K.classList.remove(`${z.containerModifierClass}grid`,`${z.containerModifierClass}grid-column`),I.emitContainerClasses()):!ft&&bt&&(K.classList.add(`${z.containerModifierClass}grid`),(ve.grid.fill&&"column"===ve.grid.fill||!ve.grid.fill&&"column"===z.grid.fill)&&K.classList.add(`${z.containerModifierClass}grid-column`),I.emitContainerClasses()),Pt&&!Et?I.unsetGrabCursor():!Pt&&Et&&I.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(un=>{if(typeof ve[un]>"u")return;const kn=z[un]&&z[un].enabled,Vt=ve[un]&&ve[un].enabled;kn&&!Vt&&I[un].disable(),!kn&&Vt&&I[un].enable()});const _n=ve.direction&&ve.direction!==z.direction,Qt=z.loop&&(ve.slidesPerView!==z.slidesPerView||_n),cn=z.loop;_n&&N&&I.changeDirection(),(0,p.u)(I.params,ve);const en=I.params.enabled,Wt=I.params.loop;Object.assign(I,{allowTouchMove:I.params.allowTouchMove,allowSlideNext:I.params.allowSlideNext,allowSlidePrev:I.params.allowSlidePrev}),ht&&!en?I.disable():!ht&&en&&I.enable(),I.currentBreakpoint=he,I.emit("_beforeBreakpoint",ve),N&&(Qt?(I.loopDestroy(),I.loopCreate(L),I.updateSlides()):!cn&&Wt?(I.loopCreate(L),I.updateSlides()):cn&&!Wt&&I.loopDestroy()),I.emit("breakpoint",ve)},getBreakpoint:function Fs(I,L,N){if(void 0===L&&(L="window"),!I||"container"===L&&!N)return;let z=!1;const K=(0,b.a)(),G="window"===L?K.innerHeight:N.clientHeight,he=Object.keys(I).map(me=>{if("string"==typeof me&&0===me.indexOf("@")){const ve=parseFloat(me.substr(1));return{value:G*ve,point:me}}return{value:me,point:me}});he.sort((me,ve)=>parseInt(me.value,10)-parseInt(ve.value,10));for(let me=0;me<he.length;me+=1){const{point:ve,value:ft}=he[me];"window"===L?K.matchMedia(`(min-width: ${ft}px)`).matches&&(z=ve):ft<=N.clientWidth&&(z=ve)}return z||"max"}},checkOverflow:{checkOverflow:function Ne(){const I=this,{isLocked:L,params:N}=I,{slidesOffsetBefore:z}=N;if(z){const K=I.slides.length-1;I.isLocked=I.size>I.slidesGrid[K]+I.slidesSizesGrid[K]+2*z}else I.isLocked=1===I.snapGrid.length;!0===N.allowSlideNext&&(I.allowSlideNext=!I.isLocked),!0===N.allowSlidePrev&&(I.allowSlidePrev=!I.isLocked),L&&L!==I.isLocked&&(I.isEnd=!1),L!==I.isLocked&&I.emit(I.isLocked?"lock":"unlock")}},classes:{addClasses:function $t(){const I=this,{classNames:L,params:N,rtl:z,el:K,device:G}=I,he=function g(I,L){const N=[];return I.forEach(z=>{"object"==typeof z?Object.keys(z).forEach(K=>{z[K]&&N.push(L+K)}):"string"==typeof z&&N.push(L+z)}),N}(["initialized",N.direction,{"free-mode":I.params.freeMode&&N.freeMode.enabled},{autoheight:N.autoHeight},{rtl:z},{grid:N.grid&&N.grid.rows>1},{"grid-column":N.grid&&N.grid.rows>1&&"column"===N.grid.fill},{android:G.android},{ios:G.ios},{"css-mode":N.cssMode},{centered:N.cssMode&&N.centeredSlides},{"watch-progress":N.watchSlidesProgress}],N.containerModifierClass);L.push(...he),K.classList.add(...L),I.emitContainerClasses()},removeClasses:function ct(){const{el:L,classNames:N}=this;L.classList.remove(...N),this.emitContainerClasses()}}},ye={};class we{constructor(){let L,N;for(var z=arguments.length,K=new Array(z),G=0;G<z;G++)K[G]=arguments[G];1===K.length&&K[0].constructor&&"Object"===Object.prototype.toString.call(K[0]).slice(8,-1)?N=K[0]:[L,N]=K,N||(N={}),N=(0,p.u)({},N),L&&!N.el&&(N.el=L);const he=(0,b.g)();if(N.el&&"string"==typeof N.el&&he.querySelectorAll(N.el).length>1){const bt=[];return he.querySelectorAll(N.el).forEach(Pt=>{const Et=(0,p.u)({},N,{el:Pt});bt.push(new we(Et))}),bt}const me=this;me.__swiper__=!0,me.support=k(),me.device=je({userAgent:N.userAgent}),me.browser=function vt(){return Zt||(Zt=function sn(){const I=(0,b.a)(),L=je();let N=!1;function z(){const me=I.navigator.userAgent.toLowerCase();return me.indexOf("safari")>=0&&me.indexOf("chrome")<0&&me.indexOf("android")<0}if(z()){const me=String(I.navigator.userAgent);if(me.includes("Version/")){const[ve,ft]=me.split("Version/")[1].split(" ")[0].split(".").map(bt=>Number(bt));N=ve<16||16===ve&&ft<2}}const K=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(I.navigator.userAgent),G=z();return{isSafari:N||G,needPerspectiveFix:N,need3dFix:G||K&&L.ios,isWebView:K}}()),Zt}(),me.eventsListeners={},me.eventsAnyListeners=[],me.modules=[...me.__modules__],N.modules&&Array.isArray(N.modules)&&me.modules.push(...N.modules);const ve={};me.modules.forEach(bt=>{bt({params:N,swiper:me,extendParams:fe(N,ve),on:me.on.bind(me),once:me.once.bind(me),off:me.off.bind(me),emit:me.emit.bind(me)})});const ft=(0,p.u)({},Qe,ve);return me.params=(0,p.u)({},ft,ye,N),me.originalParams=(0,p.u)({},me.params),me.passedParams=(0,p.u)({},N),me.params&&me.params.on&&Object.keys(me.params.on).forEach(bt=>{me.on(bt,me.params.on[bt])}),me.params&&me.params.onAny&&me.onAny(me.params.onAny),Object.assign(me,{enabled:me.params.enabled,el:L,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===me.params.direction,isVertical:()=>"vertical"===me.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:me.params.allowSlideNext,allowSlidePrev:me.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:me.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:me.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),me.emit("_swiper"),me.params.init&&me.init(),me}getDirectionLabel(L){return this.isHorizontal()?L:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[L]}getSlideIndex(L){const{slidesEl:N,params:z}=this,K=(0,p.e)(N,`.${z.slideClass}, swiper-slide`),G=(0,p.h)(K[0]);return(0,p.h)(L)-G}getSlideIndexByData(L){return this.getSlideIndex(this.slides.filter(N=>1*N.getAttribute("data-swiper-slide-index")===L)[0])}recalcSlides(){const{slidesEl:N,params:z}=this;this.slides=(0,p.e)(N,`.${z.slideClass}, swiper-slide`)}enable(){const L=this;L.enabled||(L.enabled=!0,L.params.grabCursor&&L.setGrabCursor(),L.emit("enable"))}disable(){const L=this;L.enabled&&(L.enabled=!1,L.params.grabCursor&&L.unsetGrabCursor(),L.emit("disable"))}setProgress(L,N){const z=this;L=Math.min(Math.max(L,0),1);const K=z.minTranslate(),he=(z.maxTranslate()-K)*L+K;z.translateTo(he,typeof N>"u"?0:N),z.updateActiveIndex(),z.updateSlidesClasses()}emitContainerClasses(){const L=this;if(!L.params._emitClasses||!L.el)return;const N=L.el.className.split(" ").filter(z=>0===z.indexOf("swiper")||0===z.indexOf(L.params.containerModifierClass));L.emit("_containerClasses",N.join(" "))}getSlideClasses(L){const N=this;return N.destroyed?"":L.className.split(" ").filter(z=>0===z.indexOf("swiper-slide")||0===z.indexOf(N.params.slideClass)).join(" ")}emitSlidesClasses(){const L=this;if(!L.params._emitClasses||!L.el)return;const N=[];L.slides.forEach(z=>{const K=L.getSlideClasses(z);N.push({slideEl:z,classNames:K}),L.emit("_slideClass",z,K)}),L.emit("_slideClasses",N)}slidesPerViewDynamic(L,N){void 0===L&&(L="current"),void 0===N&&(N=!1);const{params:K,slides:G,slidesGrid:he,slidesSizesGrid:me,size:ve,activeIndex:ft}=this;let bt=1;if("number"==typeof K.slidesPerView)return K.slidesPerView;if(K.centeredSlides){let Et,Pt=G[ft]?Math.ceil(G[ft].swiperSlideSize):0;for(let ht=ft+1;ht<G.length;ht+=1)G[ht]&&!Et&&(Pt+=Math.ceil(G[ht].swiperSlideSize),bt+=1,Pt>ve&&(Et=!0));for(let ht=ft-1;ht>=0;ht-=1)G[ht]&&!Et&&(Pt+=G[ht].swiperSlideSize,bt+=1,Pt>ve&&(Et=!0))}else if("current"===L)for(let Pt=ft+1;Pt<G.length;Pt+=1)(N?he[Pt]+me[Pt]-he[ft]<ve:he[Pt]-he[ft]<ve)&&(bt+=1);else for(let Pt=ft-1;Pt>=0;Pt-=1)he[ft]-he[Pt]<ve&&(bt+=1);return bt}update(){const L=this;if(!L||L.destroyed)return;const{snapGrid:N,params:z}=L;function K(){const me=Math.min(Math.max(L.rtlTranslate?-1*L.translate:L.translate,L.maxTranslate()),L.minTranslate());L.setTranslate(me),L.updateActiveIndex(),L.updateSlidesClasses()}let G;z.breakpoints&&L.setBreakpoint(),[...L.el.querySelectorAll('[loading="lazy"]')].forEach(he=>{he.complete&&tn(L,he)}),L.updateSize(),L.updateSlides(),L.updateProgress(),L.updateSlidesClasses(),z.freeMode&&z.freeMode.enabled&&!z.cssMode?(K(),z.autoHeight&&L.updateAutoHeight()):(G=L.slideTo(("auto"===z.slidesPerView||z.slidesPerView>1)&&L.isEnd&&!z.centeredSlides?(L.virtual&&z.virtual.enabled?L.virtual.slides:L.slides).length-1:L.activeIndex,0,!1,!0),G||K()),z.watchOverflow&&N!==L.snapGrid&&L.checkOverflow(),L.emit("update")}changeDirection(L,N){void 0===N&&(N=!0);const z=this,K=z.params.direction;return L||(L="horizontal"===K?"vertical":"horizontal"),L===K||"horizontal"!==L&&"vertical"!==L||(z.el.classList.remove(`${z.params.containerModifierClass}${K}`),z.el.classList.add(`${z.params.containerModifierClass}${L}`),z.emitContainerClasses(),z.params.direction=L,z.slides.forEach(G=>{"vertical"===L?G.style.width="":G.style.height=""}),z.emit("changeDirection"),N&&z.update()),z}changeLanguageDirection(L){const N=this;N.rtl&&"rtl"===L||!N.rtl&&"ltr"===L||(N.rtl="rtl"===L,N.rtlTranslate="horizontal"===N.params.direction&&N.rtl,N.rtl?(N.el.classList.add(`${N.params.containerModifierClass}rtl`),N.el.dir="rtl"):(N.el.classList.remove(`${N.params.containerModifierClass}rtl`),N.el.dir="ltr"),N.update())}mount(L){const N=this;if(N.mounted)return!0;let z=L||N.params.el;if("string"==typeof z&&(z=document.querySelector(z)),!z)return!1;z.swiper=N,z.parentNode&&z.parentNode.host&&z.parentNode.host.nodeName===N.params.swiperElementNodeName.toUpperCase()&&(N.isElement=!0);const K=()=>`.${(N.params.wrapperClass||"").trim().split(" ").join(".")}`;let he=z&&z.shadowRoot&&z.shadowRoot.querySelector?z.shadowRoot.querySelector(K()):(0,p.e)(z,K())[0];return!he&&N.params.createElements&&(he=(0,p.c)("div",N.params.wrapperClass),z.append(he),(0,p.e)(z,`.${N.params.slideClass}`).forEach(me=>{he.append(me)})),Object.assign(N,{el:z,wrapperEl:he,slidesEl:N.isElement&&!z.parentNode.host.slideSlots?z.parentNode.host:he,hostEl:N.isElement?z.parentNode.host:z,mounted:!0,rtl:"rtl"===z.dir.toLowerCase()||"rtl"===(0,p.o)(z,"direction"),rtlTranslate:"horizontal"===N.params.direction&&("rtl"===z.dir.toLowerCase()||"rtl"===(0,p.o)(z,"direction")),wrongRTL:"-webkit-box"===(0,p.o)(he,"display")}),!0}init(L){const N=this;if(N.initialized||!1===N.mount(L))return N;N.emit("beforeInit"),N.params.breakpoints&&N.setBreakpoint(),N.addClasses(),N.updateSize(),N.updateSlides(),N.params.watchOverflow&&N.checkOverflow(),N.params.grabCursor&&N.enabled&&N.setGrabCursor(),N.slideTo(N.params.loop&&N.virtual&&N.params.virtual.enabled?N.params.initialSlide+N.virtual.slidesBefore:N.params.initialSlide,0,N.params.runCallbacksOnInit,!1,!0),N.params.loop&&N.loopCreate(),N.attachEvents();const K=[...N.el.querySelectorAll('[loading="lazy"]')];return N.isElement&&K.push(...N.hostEl.querySelectorAll('[loading="lazy"]')),K.forEach(G=>{G.complete?tn(N,G):G.addEventListener("load",he=>{tn(N,he.target)})}),gt(N),N.initialized=!0,gt(N),N.emit("init"),N.emit("afterInit"),N}destroy(L,N){void 0===L&&(L=!0),void 0===N&&(N=!0);const z=this,{params:K,el:G,wrapperEl:he,slides:me}=z;return typeof z.params>"u"||z.destroyed||(z.emit("beforeDestroy"),z.initialized=!1,z.detachEvents(),K.loop&&z.loopDestroy(),N&&(z.removeClasses(),G.removeAttribute("style"),he.removeAttribute("style"),me&&me.length&&me.forEach(ve=>{ve.classList.remove(K.slideVisibleClass,K.slideFullyVisibleClass,K.slideActiveClass,K.slideNextClass,K.slidePrevClass),ve.removeAttribute("style"),ve.removeAttribute("data-swiper-slide-index")})),z.emit("destroy"),Object.keys(z.eventsListeners).forEach(ve=>{z.off(ve)}),!1!==L&&(z.el.swiper=null,(0,p.v)(z)),z.destroyed=!0),null}static extendDefaults(L){(0,p.u)(ye,L)}static get extendedDefaults(){return ye}static get defaults(){return Qe}static installModule(L){we.prototype.__modules__||(we.prototype.__modules__=[]);const N=we.prototype.__modules__;"function"==typeof L&&N.indexOf(L)<0&&N.push(L)}static use(L){return Array.isArray(L)?(L.forEach(N=>we.installModule(N)),we):(we.installModule(L),we)}}Object.keys(Ie).forEach(I=>{Object.keys(Ie[I]).forEach(L=>{we.prototype[L]=Ie[I][L]})}),we.use([function Ct(I){let{swiper:L,on:N,emit:z}=I;const K=(0,b.a)();let G=null,he=null;const me=()=>{!L||L.destroyed||!L.initialized||(z("beforeResize"),z("resize"))},bt=()=>{!L||L.destroyed||!L.initialized||z("orientationchange")};N("init",()=>{L.params.resizeObserver&&typeof K.ResizeObserver<"u"?!L||L.destroyed||!L.initialized||(G=new ResizeObserver(Pt=>{he=K.requestAnimationFrame(()=>{const{width:Et,height:ht}=L;let _n=Et,Qt=ht;Pt.forEach(cn=>{let{contentBoxSize:en,contentRect:Wt,target:un}=cn;un&&un!==L.el||(_n=Wt?Wt.width:(en[0]||en).inlineSize,Qt=Wt?Wt.height:(en[0]||en).blockSize)}),(_n!==Et||Qt!==ht)&&me()})}),G.observe(L.el)):(K.addEventListener("resize",me),K.addEventListener("orientationchange",bt))}),N("destroy",()=>{he&&K.cancelAnimationFrame(he),G&&G.unobserve&&L.el&&(G.unobserve(L.el),G=null),K.removeEventListener("resize",me),K.removeEventListener("orientationchange",bt)})},function Rt(I){let{swiper:L,extendParams:N,on:z,emit:K}=I;const G=[],he=(0,b.a)(),me=function(bt,Pt){void 0===Pt&&(Pt={});const ht=new(he.MutationObserver||he.WebkitMutationObserver)(_n=>{if(L.__preventObserver__)return;if(1===_n.length)return void K("observerUpdate",_n[0]);const Qt=function(){K("observerUpdate",_n[0])};he.requestAnimationFrame?he.requestAnimationFrame(Qt):he.setTimeout(Qt,0)});ht.observe(bt,{attributes:typeof Pt.attributes>"u"||Pt.attributes,childList:typeof Pt.childList>"u"||Pt.childList,characterData:typeof Pt.characterData>"u"||Pt.characterData}),G.push(ht)};N({observer:!1,observeParents:!1,observeSlideChildren:!1}),z("init",()=>{if(L.params.observer){if(L.params.observeParents){const bt=(0,p.a)(L.hostEl);for(let Pt=0;Pt<bt.length;Pt+=1)me(bt[Pt])}me(L.hostEl,{childList:L.params.observeSlideChildren}),me(L.wrapperEl,{attributes:!1})}}),z("destroy",()=>{G.forEach(bt=>{bt.disconnect()}),G.splice(0,G.length)})}])},4015:(Bi,xn,pe)=>{"use strict";pe.d(xn,{a:()=>nt,b:()=>zt,c:()=>dn,d:()=>k,e:()=>ut,f:()=>tn,g:()=>Rt,h:()=>Xt,i:()=>p,j:()=>Be,k:()=>Ut,l:()=>je,m:()=>an,n:()=>St,o:()=>Kt,p:()=>vn,q:()=>jt,r:()=>Ct,s:()=>vt,t:()=>Lt,u:()=>sn,v:()=>Ue});var b=pe(7606);function p(gt){return void 0===gt&&(gt=""),gt.trim().split(" ").filter(qe=>!!qe.trim())}function Ue(gt){const qe=gt;Object.keys(qe).forEach(Dt=>{try{qe[Dt]=null}catch{}try{delete qe[Dt]}catch{}})}function St(gt,qe){return void 0===qe&&(qe=0),setTimeout(gt,qe)}function k(){return Date.now()}function Be(gt,qe){void 0===qe&&(qe="x");const Dt=(0,b.a)();let nn,Wn,si;const Cn=function Nt(gt){const qe=(0,b.a)();let Dt;return qe.getComputedStyle&&(Dt=qe.getComputedStyle(gt,null)),!Dt&&gt.currentStyle&&(Dt=gt.currentStyle),Dt||(Dt=gt.style),Dt}(gt);return Dt.WebKitCSSMatrix?(Wn=Cn.transform||Cn.webkitTransform,Wn.split(",").length>6&&(Wn=Wn.split(", ").map(Zn=>Zn.replace(",",".")).join(", ")),si=new Dt.WebKitCSSMatrix("none"===Wn?"":Wn)):(si=Cn.MozTransform||Cn.OTransform||Cn.MsTransform||Cn.msTransform||Cn.transform||Cn.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),nn=si.toString().split(",")),"x"===qe&&(Wn=Dt.WebKitCSSMatrix?si.m41:16===nn.length?parseFloat(nn[12]):parseFloat(nn[4])),"y"===qe&&(Wn=Dt.WebKitCSSMatrix?si.m42:16===nn.length?parseFloat(nn[13]):parseFloat(nn[5])),Wn||0}function je(gt){return"object"==typeof gt&&null!==gt&&gt.constructor&&"Object"===Object.prototype.toString.call(gt).slice(8,-1)}function Zt(gt){return typeof window<"u"&&typeof window.HTMLElement<"u"?gt instanceof HTMLElement:gt&&(1===gt.nodeType||11===gt.nodeType)}function sn(){const gt=Object(arguments.length<=0?void 0:arguments[0]),qe=["__proto__","constructor","prototype"];for(let Dt=1;Dt<arguments.length;Dt+=1){const nn=Dt<0||arguments.length<=Dt?void 0:arguments[Dt];if(null!=nn&&!Zt(nn)){const Wn=Object.keys(Object(nn)).filter(si=>qe.indexOf(si)<0);for(let si=0,Cn=Wn.length;si<Cn;si+=1){const Zn=Wn[si],pn=Object.getOwnPropertyDescriptor(nn,Zn);void 0!==pn&&pn.enumerable&&(je(gt[Zn])&&je(nn[Zn])?nn[Zn].__swiper__?gt[Zn]=nn[Zn]:sn(gt[Zn],nn[Zn]):!je(gt[Zn])&&je(nn[Zn])?(gt[Zn]={},nn[Zn].__swiper__?gt[Zn]=nn[Zn]:sn(gt[Zn],nn[Zn])):gt[Zn]=nn[Zn])}}}return gt}function vt(gt,qe,Dt){gt.style.setProperty(qe,Dt)}function Ct(gt){let{swiper:qe,targetPosition:Dt,side:nn}=gt;const Wn=(0,b.a)(),si=-qe.translate;let Zn,Cn=null;const pn=qe.params.speed;qe.wrapperEl.style.scrollSnapType="none",Wn.cancelAnimationFrame(qe.cssModeFrameID);const pt=Dt>si?"next":"prev",_e=(Ee,lt)=>"next"===pt&&Ee>=lt||"prev"===pt&&Ee<=lt,xe=()=>{Zn=(new Date).getTime(),null===Cn&&(Cn=Zn);const Ee=Math.max(Math.min((Zn-Cn)/pn,1),0),lt=.5-Math.cos(Ee*Math.PI)/2;let It=si+lt*(Dt-si);if(_e(It,Dt)&&(It=Dt),qe.wrapperEl.scrollTo({[nn]:It}),_e(It,Dt))return qe.wrapperEl.style.overflow="hidden",qe.wrapperEl.style.scrollSnapType="",setTimeout(()=>{qe.wrapperEl.style.overflow="",qe.wrapperEl.scrollTo({[nn]:It})}),void Wn.cancelAnimationFrame(qe.cssModeFrameID);qe.cssModeFrameID=Wn.requestAnimationFrame(xe)};xe()}function Rt(gt){return gt.querySelector(".swiper-slide-transform")||gt.shadowRoot&&gt.shadowRoot.querySelector(".swiper-slide-transform")||gt}function ut(gt,qe){return void 0===qe&&(qe=""),[...gt.children].filter(Dt=>Dt.matches(qe))}function Lt(gt){try{return void console.warn(gt)}catch{}}function dn(gt,qe){void 0===qe&&(qe=[]);const Dt=document.createElement(gt);return Dt.classList.add(...Array.isArray(qe)?qe:p(qe)),Dt}function zt(gt){const qe=(0,b.a)(),Dt=(0,b.g)(),nn=gt.getBoundingClientRect(),Wn=Dt.body;return{top:nn.top+(gt===qe?qe.scrollY:gt.scrollTop)-(gt.clientTop||Wn.clientTop||0),left:nn.left+(gt===qe?qe.scrollX:gt.scrollLeft)-(gt.clientLeft||Wn.clientLeft||0)}}function jt(gt,qe){const Dt=[];for(;gt.previousElementSibling;){const nn=gt.previousElementSibling;qe?nn.matches(qe)&&Dt.push(nn):Dt.push(nn),gt=nn}return Dt}function vn(gt,qe){const Dt=[];for(;gt.nextElementSibling;){const nn=gt.nextElementSibling;qe?nn.matches(qe)&&Dt.push(nn):Dt.push(nn),gt=nn}return Dt}function Kt(gt,qe){return(0,b.a)().getComputedStyle(gt,null).getPropertyValue(qe)}function Xt(gt){let Dt,qe=gt;if(qe){for(Dt=0;null!==(qe=qe.previousSibling);)1===qe.nodeType&&(Dt+=1);return Dt}}function nt(gt,qe){const Dt=[];let nn=gt.parentElement;for(;nn;)qe?nn.matches(qe)&&Dt.push(nn):Dt.push(nn),nn=nn.parentElement;return Dt}function Ut(gt,qe){qe&&gt.addEventListener("transitionend",function Dt(nn){nn.target===gt&&(qe.call(gt,nn),gt.removeEventListener("transitionend",Dt))})}function tn(gt,qe,Dt){const nn=(0,b.a)();return Dt?gt["width"===qe?"offsetWidth":"offsetHeight"]+parseFloat(nn.getComputedStyle(gt,null).getPropertyValue("width"===qe?"margin-right":"margin-top"))+parseFloat(nn.getComputedStyle(gt,null).getPropertyValue("width"===qe?"margin-left":"margin-bottom")):gt.offsetWidth}function an(gt){return(Array.isArray(gt)?gt:[gt]).filter(qe=>!!qe)}},467:(Bi,xn,pe)=>{"use strict";function b(Ue,St,k,Nt,Be,je,Zt){try{var sn=Ue[je](Zt),vt=sn.value}catch(Ct){return void k(Ct)}sn.done?St(vt):Promise.resolve(vt).then(Nt,Be)}function p(Ue){return function(){var St=this,k=arguments;return new Promise(function(Nt,Be){var je=Ue.apply(St,k);function Zt(vt){b(je,Nt,Be,Zt,sn,"next",vt)}function sn(vt){b(je,Nt,Be,Zt,sn,"throw",vt)}Zt(void 0)})}}pe.d(xn,{A:()=>p})},9842:(Bi,xn,pe)=>{"use strict";function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Nt){return typeof Nt}:function(Nt){return Nt&&"function"==typeof Symbol&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(k)}function St(k,Nt,Be){return(Nt=function Ue(k){var Nt=function p(k,Nt){if("object"!=b(k)||!k)return k;var Be=k[Symbol.toPrimitive];if(void 0!==Be){var je=Be.call(k,Nt||"default");if("object"!=b(je))return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Nt?String:Number)(k)}(k,"string");return"symbol"==b(Nt)?Nt:String(Nt)}(Nt))in k?Object.defineProperty(k,Nt,{value:Be,enumerable:!0,configurable:!0,writable:!0}):k[Nt]=Be,k}pe.d(xn,{A:()=>St})},1635:(Bi,xn,pe)=>{"use strict";function k(_e,xe,Ee,lt){var wt,It=arguments.length,Jt=It<3?xe:null===lt?lt=Object.getOwnPropertyDescriptor(xe,Ee):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Jt=Reflect.decorate(_e,xe,Ee,lt);else for(var Kn=_e.length-1;Kn>=0;Kn--)(wt=_e[Kn])&&(Jt=(It<3?wt(Jt):It>3?wt(xe,Ee,Jt):wt(xe,Ee))||Jt);return It>3&&Jt&&Object.defineProperty(xe,Ee,Jt),Jt}function Ct(_e,xe,Ee,lt){return new(Ee||(Ee=Promise))(function(Jt,wt){function Kn(Qi){try{hi(lt.next(Qi))}catch(Gi){wt(Gi)}}function ir(Qi){try{hi(lt.throw(Qi))}catch(Gi){wt(Gi)}}function hi(Qi){Qi.done?Jt(Qi.value):function It(Jt){return Jt instanceof Ee?Jt:new Ee(function(wt){wt(Jt)})}(Qi.value).then(Kn,ir)}hi((lt=lt.apply(_e,xe||[])).next())})}function Xt(_e){return this instanceof Xt?(this.v=_e,this):new Xt(_e)}function nt(_e,xe,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,lt=Ee.apply(_e,xe||[]),Jt=[];return It={},wt("next"),wt("throw"),wt("return"),It[Symbol.asyncIterator]=function(){return this},It;function wt(ar){lt[ar]&&(It[ar]=function(pr){return new Promise(function(gr,Or){Jt.push([ar,pr,gr,Or])>1||Kn(ar,pr)})})}function Kn(ar,pr){try{!function ir(ar){ar.value instanceof Xt?Promise.resolve(ar.value.v).then(hi,Qi):Gi(Jt[0][2],ar)}(lt[ar](pr))}catch(gr){Gi(Jt[0][3],gr)}}function hi(ar){Kn("next",ar)}function Qi(ar){Kn("throw",ar)}function Gi(ar,pr){ar(pr),Jt.shift(),Jt.length&&Kn(Jt[0][0],Jt[0][1])}}function tn(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,xe=_e[Symbol.asyncIterator];return xe?xe.call(_e):(_e=function dn(_e){var xe="function"==typeof Symbol&&Symbol.iterator,Ee=xe&&_e[xe],lt=0;if(Ee)return Ee.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&lt>=_e.length&&(_e=void 0),{value:_e&&_e[lt++],done:!_e}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Ee={},lt("next"),lt("throw"),lt("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function lt(Jt){Ee[Jt]=_e[Jt]&&function(wt){return new Promise(function(Kn,ir){!function It(Jt,wt,Kn,ir){Promise.resolve(ir).then(function(hi){Jt({value:hi,done:Kn})},wt)}(Kn,ir,(wt=_e[Jt](wt)).done,wt.value)})}}}pe.d(xn,{AQ:()=>nt,Cg:()=>k,N3:()=>Xt,sH:()=>Ct,xN:()=>tn}),"function"==typeof SuppressedError&&SuppressedError}},Bi=>{Bi(Bi.s=8382)}]);